var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(h,ea,w){if(null==h)throw new TypeError("The 'this' value for String.prototype."+w+" must not be null or undefined");if(ea instanceof RegExp)throw new TypeError("First argument to String.prototype."+w+" must not be a regular expression");return h+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(h,ea,w){h!=Array.prototype&&h!=Object.prototype&&(h[ea]=w.value)};$jscomp.getGlobal=function(h){return"undefined"!=typeof window&&window===h?h:"undefined"!=typeof global&&null!=global?global:h};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(h,ea,w,Sa){if(ea){w=$jscomp.global;h=h.split(".");for(Sa=0;Sa<h.length-1;Sa++){var c=h[Sa];c in w||(w[c]={});w=w[c]}h=h[h.length-1];Sa=w[h];ea=ea(Sa);ea!=Sa&&null!=ea&&$jscomp.defineProperty(w,h,{configurable:!0,writable:!0,value:ea})}};
$jscomp.polyfill("String.prototype.startsWith",function(h){return h?h:function(h,w){var ea=$jscomp.checkStringArgs(this,h,"startsWith");h+="";for(var c=ea.length,z=h.length,a=Math.max(0,Math.min(w|0,ea.length)),b=0;b<z&&a<c;)if(ea[a++]!=h[b++])return!1;return b>=z}},"es6","es3");$jscomp.findInternal=function(h,ea,w){h instanceof String&&(h=String(h));for(var Sa=h.length,c=0;c<Sa;c++){var z=h[c];if(ea.call(w,z,c,h))return{i:c,v:z}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(h){return h?h:function(h,w){return $jscomp.findInternal(this,h,w).v}},"es6","es3");$jscomp.polyfill("String.prototype.endsWith",function(h){return h?h:function(h,w){var ea=$jscomp.checkStringArgs(this,h,"endsWith");h+="";void 0===w&&(w=ea.length);for(var c=Math.max(0,Math.min(w|0,ea.length)),z=h.length;0<z&&0<c;)if(ea[--c]!=h[--z])return!1;return 0>=z}},"es6","es3");
$jscomp.arrayIteratorImpl=function(h){var ea=0;return function(){return ea<h.length?{done:!1,value:h[ea++]}:{done:!0}}};$jscomp.arrayIterator=function(h){return{next:$jscomp.arrayIteratorImpl(h)}};$jscomp.makeIterator=function(h){var ea="undefined"!=typeof Symbol&&Symbol.iterator&&h[Symbol.iterator];return ea?ea.call(h):$jscomp.arrayIterator(h)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(h){function ea(){this.batch_=null}function w(a){return a instanceof c?a:new c(function(b,d){b(a)})}if(h&&!$jscomp.FORCE_POLYFILL_PROMISE)return h;ea.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};ea.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var Sa=$jscomp.global.setTimeout;ea.prototype.asyncExecuteFunction=function(a){Sa(a,
0)};ea.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var d=a[b];a[b]=null;try{d()}catch(r){this.asyncThrow_(r)}}}this.batch_=null};ea.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var c=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(d){b.reject(d)}};c.prototype.createResolveAndReject_=
function(){function a(a){return function(f){d||(d=!0,a.call(b,f))}}var b=this,d=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};c.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof c)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};c.prototype.resolveToNonPromiseObj_=function(a){var b=
void 0;try{b=a.then}catch(d){this.reject_(d);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};c.prototype.reject_=function(a){this.settle_(2,a)};c.prototype.fulfill_=function(a){this.settle_(1,a)};c.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};c.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
0;a<this.onSettledCallbacks_.length;++a)z.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};var z=new ea;c.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};c.prototype.settleSameAsThenable_=function(a,b){var d=this.createResolveAndReject_();try{a.call(b,d.resolve,d.reject)}catch(r){d.reject(r)}};c.prototype.then=function(a,b){function d(a,b){return"function"==typeof a?function(b){try{r(a(b))}catch(ma){f(ma)}}:
b}var r,f,z=new c(function(a,b){r=a;f=b});this.callWhenSettled_(d(a,r),d(b,f));return z};c.prototype["catch"]=function(a){return this.then(void 0,a)};c.prototype.callWhenSettled_=function(a,b){function d(){switch(r.state_){case 1:a(r.result_);break;case 2:b(r.result_);break;default:throw Error("Unexpected state: "+r.state_);}}var r=this;null==this.onSettledCallbacks_?z.asyncExecute(d):this.onSettledCallbacks_.push(d)};c.resolve=w;c.reject=function(a){return new c(function(b,d){d(a)})};c.race=function(a){return new c(function(b,
d){for(var r=$jscomp.makeIterator(a),f=r.next();!f.done;f=r.next())w(f.value).callWhenSettled_(b,d)})};c.all=function(a){var b=$jscomp.makeIterator(a),d=b.next();return d.done?w([]):new c(function(a,f){function r(b){return function(d){c[b]=d;z--;0==z&&a(c)}}var c=[],z=0;do c.push(void 0),z++,w(d.value).callWhenSettled_(r(c.length-1),f),d=b.next();while(!d.done)})};return c},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(h){return h?h:function(h,w,Sa){var c=this.length||0;0>w&&(w=Math.max(0,c+w));if(null==Sa||Sa>c)Sa=c;Sa=Number(Sa);0>Sa&&(Sa=Math.max(0,c+Sa));for(w=Number(w||0);w<Sa;w++)this[w]=h;return this}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var h=0;return function(ea){return $jscomp.SYMBOL_PREFIX+(ea||"")+h++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var h=$jscomp.global.Symbol.iterator;h||(h=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[h]&&$jscomp.defineProperty(Array.prototype,h,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var h=$jscomp.global.Symbol.asyncIterator;h||(h=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(h){$jscomp.initSymbolIterator();h={next:h};h[$jscomp.global.Symbol.iterator]=function(){return this};return h};
$jscomp.iteratorFromArray=function(h,ea){$jscomp.initSymbolIterator();h instanceof String&&(h+="");var w=0,Sa={next:function(){if(w<h.length){var c=w++;return{value:ea(c,h[c]),done:!1}}Sa.next=function(){return{done:!0,value:void 0}};return Sa.next()}};Sa[Symbol.iterator]=function(){return Sa};return Sa};$jscomp.polyfill("Array.prototype.keys",function(h){return h?h:function(){return $jscomp.iteratorFromArray(this,function(h){return h})}},"es6","es3");
var isInWorker="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;function execBoth(h,ea,w){return!isInWorker&&h?h.apply(this,w||[]):isInWorker&&ea?ea.apply(this,w||[]):{}}function execWorker(h,ea){return execBoth(void 0,h,ea)}function execMain(h,ea){return execBoth(h,void 0,ea)}execWorker(function(){self.$={isArray:Array.isArray||function(h){return"array"===jQuery.type(h)},noop:function(){}}});
execMain(function(){window.onerror=function(h,ea,c,z,a){void 0==a&&(a={});$.get("bugReport",{version:CSTIMER_VERSION,msg:h,url:ea,line:c,col:z,stack:a.stack});console.log(h,ea,c,z,a)};for(var h="CSTIMER_VERSION LANG_SET LANG_STR LANG_CUR OK_LANG CANCEL_LANG RESET_LANG ABOUT_LANG ZOOM_LANG BUTTON_TIME_LIST BUTTON_OPTIONS BUTTON_EXPORT BUTTON_DONATE PROPERTY_SR PROPERTY_USEINS PROPERTY_USEINS_STR PROPERTY_VOICEINS PROPERTY_VOICEINS_STR PROPERTY_VOICEVOL PROPERTY_PHASES PROPERTY_TIMERSIZE PROPERTY_USEMILLI PROPERTY_SMALLADP PROPERTY_SCRSIZE PROPERTY_SCRMONO PROPERTY_SCRLIM PROPERTY_SCRALIGN PROPERTY_SCRALIGN_STR PROPERTY_SCRFAST PROPERTY_SCRKEYM PROPERTY_WNDSCR PROPERTY_WNDSTAT PROPERTY_WNDTOOL PROPERTY_WND_STR EXPORT_DATAEXPORT EXPORT_TOFILE EXPORT_FROMFILE EXPORT_TOSERV EXPORT_FROMSERV EXPORT_FROMOTHER EXPORT_USERID EXPORT_INVID EXPORT_ERROR EXPORT_NODATA EXPORT_UPLOADED EXPORT_CODEPROMPT EXPORT_ONLYOPT EXPORT_ACCOUNT EXPORT_LOGINGGL EXPORT_LOGINWCA EXPORT_LOGOUTCFM EXPORT_LOGINAUTHED IMPORT_FINAL_CONFIRM BUTTON_SCRAMBLE BUTTON_TOOLS IMAGE_UNAVAILABLE TOOLS_SELECTFUNC TOOLS_CROSS TOOLS_EOLINE TOOLS_ROUX1 TOOLS_GIIKER TOOLS_IMAGE TOOLS_STATS TOOLS_HUGESTATS TOOLS_DISTRIBUTION TOOLS_TREND TOOLS_METRONOME TOOLS_CFMTIME PROPERTY_IMGSIZE TIMER_INSPECT TIMER_SOLVE PROPERTY_USEMOUSE PROPERTY_TIMEU PROPERTY_TIMEU_STR PROPERTY_PRETIME PROPERTY_ENTERING PROPERTY_ENTERING_STR PROPERTY_INTUNIT PROPERTY_INTUNIT_STR PROPERTY_COLOR PROPERTY_COLORS PROPERTY_VIEW PROPERTY_VIEW_STR PROPERTY_UIDESIGN PROPERTY_UIDESIGN_STR COLOR_EXPORT COLOR_IMPORT COLOR_FAIL PROPERTY_FONTCOLOR_STR PROPERTY_COLOR_STR PROPERTY_FONT PROPERTY_FONT_STR PROPERTY_FORMAT PROPERTY_USEKSC PROPERTY_NTOOLS PROPERTY_AHIDE SCRAMBLE_LAST SCRAMBLE_NEXT SCRAMBLE_SCRAMBLE SCRAMBLE_LENGTH SCRAMBLE_INPUT PROPERTY_VRCSPEED PROPERTY_VRCMP PROPERTY_VRCMPS PROPERTY_GIIKERVRC PROPERTY_GIISOK_DELAY PROPERTY_GIISOK_DELAYS PROPERTY_GIISOK_KEY PROPERTY_GIISOK_MOVE PROPERTY_GIISOK_MOVES PROPERTY_GIISBEEP PROPERTY_GIIRST PROPERTY_GIIRSTS CONFIRM_GIIRST PROPERTY_GIIAED scrdata SCRAMBLE_NOOBST SCRAMBLE_NOOBSS STATS_CFM_RESET STATS_CFM_DELSS STATS_CFM_DELMUL STATS_CFM_DELETE STATS_COMMENT STATS_DATE STATS_CURROUND STATS_CURSESSION STATS_CURSPLIT STATS_EXPORTCSV STATS_SSMGR_TITLE STATS_SSMGR_NAME STATS_SSMGR_DETAIL STATS_SSMGR_OPS STATS_SSMGR_ORDER STATS_SSMGR_ODCFM STATS_ALERTMG STATS_PROMPTSPL STATS_ALERTSPL STATS_AVG STATS_SOLVE STATS_TIME STATS_SESSION STATS_SESSION_NAME STATS_SESSION_NAMEC STATS_STRING STATS_PREC STATS_PREC_STR STATS_TYPELEN STATS_STATCLR STATS_ABSIDX STATS_XSESSION_DATE STATS_XSESSION_NAME STATS_XSESSION_SCR STATS_XSESSION_CALC PROPERTY_PRINTSCR PROPERTY_PRINTDATE PROPERTY_SUMMARY PROPERTY_IMRENAME PROPERTY_SCR2SS PROPERTY_SS2SCR PROPERTY_SS2PHASES PROPERTY_STATINV PROPERTY_STATAL PROPERTY_STATALU PROPERTY_DELMUL PROPERTY_TOOLSFUNC PROPERTY_TRIM PROPERTY_TRIM_MED PROPERTY_STKHEAD MODULE_NAMES BGIMAGE_URL BGIMAGE_INVALID BGIMAGE_OPACITY BGIMAGE_IMAGE BGIMAGE_IMAGE_STR SHOW_AVG_LABEL USE_LOGOHINT TOOLS_SCRGEN SCRGEN_NSCR SCRGEN_PRE SCRGEN_GEN".split(" "),
ea=0;ea<h.length;ea++)window[h[ea]]=window[h[ea]]||"|||||||||||||||";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(h,ea){return window.setTimeout(h,1E3/60)}}();window.localStorage||(window.localStorage={});"properties"in localStorage||"https:"==location.protocol||"localhost"==location.hostname||(location.href="https:"+location.href.substring(location.protocol.length));
window.performance&&window.performance.now&&($.now=function(){return Math.floor(window.performance.now())});$.urlParam=function(h){h=(new RegExp("[?&]"+h+"=([^&#]*)")).exec(window.location.href);return null==h?null:h[1]||0};$.hashParam=function(h){h=(new RegExp("[#&]"+h+"=([^&#]*)")).exec(window.location.hash);return null==h?null:h[1]||0};$.clearUrl=function(h){var w=(new RegExp("[?&]("+h+"=[^&#]*&?)")).exec(window.location.href);h=h?location.href.replace(w[1],"").replace(/\?$/,""):location.pathname;
history&&history.replaceState?history.replaceState(void 0,void 0,h):location.href=h};$.clearHash=function(h){var w=(new RegExp("[#&]("+h+"=[^&#]*&?)")).exec(window.location.href);h=h?location.href.replace(w[1],"").replace(/#$/,""):location.pathname+location.search;history&&history.replaceState?history.replaceState(void 0,void 0,h):location.href=h};"serviceWorker"in navigator?$(function(){navigator.serviceWorker.register("sw.js")}):window.applicationCache&&$(function(){applicationCache.addEventListener("updateready",
function(h){applicationCache.status==applicationCache.UPDATEREADY&&(applicationCache.swapCache(),location.reload())},!1)})});var DEBUGM=!1,DEBUGWK=!1,DEBUG=isInWorker?DEBUGWK:DEBUGM&&!!$.urlParam("debug");Array.prototype.indexOf||(Array.prototype.indexOf=function(h){for(var ea=0;ea<this.length;ea++)if(this[ea]==h)return ea;return-1});
Function.prototype.bind||(Function.prototype.bind=function(h){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var ea=Array.prototype.slice.call(arguments,1),w=this,Sa=function(){},c=function(){return w.apply(this instanceof Sa?this:h,ea.concat(Array.prototype.slice.call(arguments)))};this.prototype&&(Sa.prototype=this.prototype);c.prototype=new Sa;return c});var mathlib=function(){function h(a,b,n,d,f,r){var Va=a[b];a[b]=a[f]^r;a[f]=a[d]^r;a[d]=a[n]^r;a[n]=Va^r}function ea(a){for(var b=arguments.length-1,n=a[arguments[b]];1<b;b--)a[arguments[b]]=a[arguments[b-1]];a[arguments[1]]=n;return ea}function w(a,b){return a[b>>3]>>((b&7)<<2)&15}function Sa(a,b,n,d){d=d||6;for(var f=0;f<d;f++){a[f]=[];for(var r=0;r<b;r++)a[f][r]=n(r,f)}}function c(){this.ca=[0,1,2,3,4,5,6,7];this.ea=[0,2,4,6,8,10,12,14,16,18,20,22]}function z(a,b,n,d,f,r,c,h){var Va=$.isArray(f);
r=r||6;c=c||3;h=h||256;d=d||256;for(var ma=0,Xa=n+7>>>3;ma<Xa;ma++)a[ma]=-1;a[b>>3]^=15<<((b&7)<<2);for(ma=b=0;ma<=d;ma++){Xa=0;var Ra=ma>=h,z=ma+1^15,Qa=Ra?15:ma,Ua=Ra?ma:15,fb=0;a:for(;fb<n;fb++,b>>=4){if(0==(fb&7)&&(b=a[fb>>3],!Ra&&-1==b)){fb+=7;continue}if((b&15)==Qa)for(var Wa=0;Wa<r;Wa++)for(var Ta=fb,Ya=0;Ya<c;Ya++)if(Ta=Va?f[Wa][Ta]:f(Ta,Wa),w(a,Ta)==Ua){++Xa;if(Ra){a[fb>>3]^=z<<((fb&7)<<2);continue a}a[Ta>>3]^=z<<((Ta&7)<<2)}}if(0==Xa)break;DEBUG&&console.log("[prun]",Xa)}}function a(a,b,
n){this.N_STATES=n.length;this.N_MOVES=a;this.N_POWER=b;this.state_params=n;this.inited=!1}for(var b=[],d=[1],r=0;32>r;++r){b[r]=[];for(var f=0;32>f;++f)b[r][f]=0}for(r=0;32>r;++r)for(b[r][0]=b[r][r]=1,d[r+1]=d[r]*(r+1),f=1;f<r;++f)b[r][f]=b[r-1][f-1]+b[r-1][f];c.EdgeMult=function(a,b,n){for(var d=0;12>d;d++)n.ea[d]=a.ea[b.ea[d]>>1]^b.ea[d]&1};c.CornMult=function(a,b,n){for(var d=0;8>d;d++)n.ca[d]=a.ca[b.ca[d]&7]&7|((a.ca[b.ca[d]&7]>>3)+(b.ca[d]>>3))%3<<3};c.CubeMult=function(a,b,n){c.CornMult(a,
b,n);c.EdgeMult(a,b,n)};c.prototype.init=function(a,b){this.ca=a.slice();this.ea=b.slice();return this};c.prototype.isEqual=function(a){for(var b=0;8>b;b++)if(this.ca[b]!=a.ca[b])return!1;for(b=0;12>b;b++)if(this.ea[b]!=a.ea[b])return!1;return!0};var Wa=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],Ua=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];c.prototype.toFaceCube=function(a,b){a=a||Wa;b=b||Ua;for(var n=[],
d=0;54>d;d++)n[d]="URFDLB"[~~(d/9)];for(var f=0;8>f;f++){d=this.ca[f]&7;for(var r=this.ca[f]>>3,c=0;3>c;c++)n[a[f][(c+r)%3]]="URFDLB"[~~(a[d][c]/9)]}for(f=0;12>f;f++)for(d=this.ea[f]>>1,r=this.ea[f]&1,c=0;2>c;c++)n[b[f][(c+r)%2]]="URFDLB"[~~(b[d][c]/9)];return n.join("")};c.prototype.invFrom=function(a){for(var b=0;12>b;b++)this.ea[a.ea[b]>>1]=b<<1|a.ea[b]&1;for(b=0;8>b;b++)this.ca[a.ca[b]&7]=b|32>>(a.ca[b]>>3)&24;return this};c.prototype.fromFacelet=function(a,b,n){b=b||Wa;n=n||Ua;for(var d=0,f=
[],r=a[4]+a[13]+a[22]+a[31]+a[40]+a[49],c=0;54>c;++c){f[c]=r.indexOf(a[c]);if(-1==f[c])return-1;d+=1<<(f[c]<<2)}if(10066329!=d)return-1;var h;for(c=0;8>c;++c){for(h=0;3>h&&0!=f[b[c][h]]&&3!=f[b[c][h]];++h);a=f[b[c][(h+1)%3]];d=f[b[c][(h+2)%3]];for(r=0;8>r;++r)if(a==~~(b[r][1]/9)&&d==~~(b[r][2]/9)){this.ca[c]=r|h%3<<3;break}}for(c=0;12>c;++c)for(r=0;12>r;++r){if(f[n[c][0]]==~~(n[r][0]/9)&&f[n[c][1]]==~~(n[r][1]/9)){this.ea[c]=r<<1;break}if(f[n[c][0]]==~~(n[r][1]/9)&&f[n[c][1]]==~~(n[r][0]/9)){this.ea[c]=
r<<1|1;break}}return this};f=[];for(r=0;18>r;r++)f[r]=new c;f[0].init([3,0,1,2,4,5,6,7],[6,0,2,4,8,10,12,14,16,18,20,22]);f[3].init([20,1,2,8,15,5,6,19],[16,2,4,6,22,10,12,14,8,18,20,0]);f[6].init([9,21,2,3,16,12,6,7],[0,19,4,6,8,17,12,14,3,11,20,22]);f[9].init([0,1,2,3,5,6,7,4],[0,2,4,6,10,12,14,8,16,18,20,22]);f[12].init([0,10,22,3,4,17,13,7],[0,2,20,6,8,10,18,14,16,4,12,22]);f[15].init([0,1,11,23,4,5,18,14],[0,2,4,23,8,10,12,21,16,18,7,15]);for(r=0;18>r;r+=3)for(var Qa=0;2>Qa;Qa++)c.EdgeMult(f[r+
Qa],f[r],f[r+Qa+1]),c.CornMult(f[r+Qa],f[r],f[r+Qa+1]);c.moveCube=f;c.prototype.edgeCycles=function(){for(var a=[],b=[0,0,0],n=0,d=!1,f=0;12>f;++f)if(!a[f]){var c=-1,r=!1,h=f;do a[h]=!0,++c,r^=this.ea[h]&1,h=this.ea[h]>>1;while(h!=f);n+=c>>1;c&1&&(d=!d,++n);r&&(0==c?++b[0]:c&1?b[2]^=1:++b[1])}b[1]+=b[2];n=b[0]<b[1]?n+(b[0]+b[1]>>1):n+(b[1]+[0,2,3,5,6,8,9][b[0]-b[1]>>1]);return n-d};f=a.prototype;f.search=function(a,b,n){n=(n||99)+1;if(!this.inited){this.move=[];this.prun=[];for(var d=0;d<this.N_STATES;d++){var f=
this.state_params[d],c=f[0],r=f[1],h=f[2],ma=f[3];f=f[4];this.move[d]=[];this.prun[d]=[];Sa(this.move[d],h,r,this.N_MOVES);z(this.prun[d],c,h,ma,this.move[d],this.N_MOVES,this.N_POWER,f)}this.inited=!0}for(this.sol=[];b<n&&!this.idaSearch(a,b,-1);b++);return b==n?null:this.sol.reverse()};f.toStr=function(a,b,d){for(var n=[],f=0;f<a.length;f++)n.push(b[a[f][0]]+d[a[f][1]]);return n.join(" ").replace(/ +/g," ")};f.idaSearch=function(a,b,d){for(var n=this.N_STATES,f=0;f<n;f++)if(w(this.prun[f],a[f])>
b)return!1;if(0==b)return!0;for(var c=0;c<this.N_MOVES;c++)if(c!=d)for(var r=a.slice(),h=0;h<this.N_POWER;h++){for(f=0;f<n;f++)r[f]=this.move[f][c][r[f]];if(this.idaSearch(r,b-1,c))return this.sol.push([c,h]),!0}return!1};var Ta=/^\s*(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)\s*$/;Math.TAU=2*Math.PI;return{Cnk:b,fact:d,getPruning:w,setNPerm:function(a,b,d){var n,f;a[d-1]=0;for(n=d-2;0<=n;--n)for(a[n]=b%(d-n),b=~~(b/(d-n)),f=n+1;f<d;++f)a[f]>=a[n]&&++a[f]},getNPerm:function(a,b){var d,f,c;for(d=f=0;d<b;++d)for(f*=
b-d,c=d+1;c<b;++c)a[c]<a[d]&&++f;return f},getNParity:function(a,b){var d;var f=0;for(d=b-2;0<=d;--d)f^=a%(b-d),a=~~(a/(b-d));return f&1},get8Perm:function(a,b){void 0===b&&(b=8);var d;var f=0;var c=1985229328;for(d=0;d<b-1;++d){var r=a[d]<<2;f=(b-d)*f+(c>>r&7);c-=286331152<<r}return f},set8Perm:function(a,b,f){void 0===f&&(f=8);f--;var n;var c=1985229328;for(n=0;n<f;++n){var r=d[f-n];var h=~~(b/r);b%=r;h<<=2;a[n]=c>>h&7;r=(1<<h)-1;c=(c&r)+(c>>4&~r)}a[f]=c&7},createMove:Sa,edgeMove:function(a,b){0==
b?h(a,0,7,8,4,1):1==b?h(a,3,6,11,7,0):2==b?h(a,0,1,2,3,0):3==b?h(a,2,5,10,6,1):4==b?h(a,1,4,9,5,0):5==b&&h(a,11,10,9,8,0)},circle:ea,circleOri:h,createPrun:z,CubieCube:c,SOLVED_FACELET:"UUUUUUUUURRRRRRRRRFFFFFFFFFDDDDDDDDDLLLLLLLLLBBBBBBBBB",rn:function(a){return~~(Math.random()*a)},rndEl:function(a){return a[~~(Math.random()*a.length)]},rndProb:function(a){for(var b=0,d=0,f=0;f<a.length;f++)0!=a[f]&&(Math.random()<a[f]/(b+a[f])&&(d=f),b+=a[f]);return d},time2str:function(a,b){if(!a)return"N/A";var d=
new Date(1E3*a);return(b||"%Y-%M-%D %h:%m:%s").replace("%Y",d.getFullYear()).replace("%M",("0"+(d.getMonth()+1)).slice(-2)).replace("%D",("0"+d.getDate()).slice(-2)).replace("%h",("0"+d.getHours()).slice(-2)).replace("%m",("0"+d.getMinutes()).slice(-2)).replace("%s",("0"+d.getSeconds()).slice(-2))},str2time:function(a){a=Ta.exec(a);if(!a)return null;var b=new Date(0);b.setFullYear(~~a[1]);b.setMonth(~~a[2]-1);b.setDate(~~a[3]);b.setHours(~~a[4]);b.setMinutes(~~a[5]);b.setSeconds(~~a[6]);return~~(b.getTime()/
1E3)},obj2str:function(a){return"string"==typeof a?a:JSON.stringify(a)},str2obj:function(a){return"string"!=typeof a?a:JSON.parse(a)},valuedArray:function(a,b){for(var d=[],f=0;f<a;f++)d[f]=b;return d},Solver:a}}();var sbtree=function(){function h(a,d){this.k=a;this.v=d;this[0]=null;this[1]=null;this.cnt=1;this.sum=a;this.sk2=Math.pow(a,2)}function ea(a){this.root=null;this.cmp=a}function w(a){return null==a?0:a.cnt}function Sa(a){return null==a?0:a.sum}function c(a){return null==a?0:a.sk2}function z(a,d,c){return null==a||z(a[c],d,c)&&d(a)&&z(a[c^1],d,c)}function a(a,d){var b=a[d^1];a[d^1]=b[d];b[d]=a;b.cnt=a.cnt;a.cnt=w(a[0])+w(a[1])+1;b.sum=a.sum;a.sum=Sa(a[0])+Sa(a[1])+a.k;b.sk2=a.sk2;a.sk2=c(a[0])+c(a[1])+
Math.pow(a.k,2);return b}ea.prototype.find=function(a){for(var b=this.root;null!==b;){if(a==b.k)return b.v;b=b[0>this.cmp(b.k,a)^0]}};ea.prototype.cumSum=function(a){if(a>=w(this.root)||0==w(this.root))return Sa(this.root);for(var b=this.root,c=0;0<a;){var f=w(b[0]);if(a<f)b=b[0];else{c+=Sa(b[0]);if(a==f)break;c+=b.k;a-=f+1;b=b[1]}}return c};ea.prototype.cumSk2=function(a){if(a>=w(this.root)||0==w(this.root))return c(this.root);for(var b=this.root,r=0;0<a;){var f=w(b[0]);if(a<f)b=b[0];else{r+=c(b[0]);
if(a==f)break;r+=Math.pow(b.k,2);a-=f+1;b=b[1]}}return r};ea.prototype.rank=function(a){for(var b=this.root;b;){var c=w(b[0]);if(a<c)b=b[0];else{if(a==c)return b.k;a-=c+1;b=b[1]}}return 0>a?-1E300:1E300};ea.prototype.rankOf=function(a){for(var b=this.root,c=0;b;)0>this.cmp(b.k,a)?(c+=w(b[0])+1,b=b[1]):b=b[0];return c};ea.prototype.traverse=function(a,d){return z(this.root,a,d^0)};ea.prototype.insertR=function(b,d,c){if(null===b)return new h(d,c);b.cnt+=1;b.sum+=d;b.sk2+=Math.pow(d,2);var f=0>this.cmp(b.k,
d)^0;b[f]=this.insertR(b[f],d,c);w(b[f][f])>w(b[f^1])?b=a(b,f^1):w(b[f][f^1])>w(b[f^1])&&(f^=1,b[f^1]=a(b[f^1],f^1),b=a(b,f));return b};ea.prototype.insert=function(a,d){this.root=this.insertR(this.root,a,d);return this};ea.prototype.remove=function(a){this.root=this.removeR(this.root,a);return this};ea.prototype.removeR=function(a,d){if(null==a)return null;--a.cnt;a.sum-=d;a.sk2-=Math.pow(d,2);if(a.k==d){if(null==a[0]||null==a[1])return a[null==a[0]^0];for(var b=a[0];null!=b[1];)b=b[1];a.k=b.k;a.v=
b.v;d=b.k}b=0>this.cmp(a.k,d)^0;a[b]=this.removeR(a[b],d);return a};return{tree:function(a){return new ea(a)}}}();var SQLFile=execMain(function(){function h(h,ea,c){var z=0;if(c)for(var a=0;a<c;a++)z=z<<8|h[ea[0]++];else{do z=z<<7|h[ea[0]]&127;while(128<=h[ea[0]++])}return z}function ea(w,Sa,c){Sa=1==Sa?100:(Sa-1)*h(w,[16],2);var z=w[Sa],a=w[Sa+3]<<8|w[Sa+4],b=[Sa+8],d=-1;z&8||(d=h(w,b,4));for(var r=0;r<a;r++){var f=[(100==Sa?0:Sa)+h(w,[b[0]+2*r],2)];if(2!=z&&10!=z)if(5==z){var Wa=h(w,f,4);h(w,f);ea(w,Wa,c)}else if(13==z){Wa=h(w,f);h(w,f);var Ua=w,Qa=f[0],Ta=c,ma=[Qa],Va=h(Ua,ma),n=Qa+Va;Qa=ma;ma=[];for(Va=[];Qa[0]<
n;)ma.push(h(Ua,Qa));for(n=0;n<ma.length;n++){var Xa=ma[n];0==Xa?Va[n]=null:1<=Xa&&4>=Xa?Va[n]=h(Ua,Qa,Xa):5==Xa?(Va[n]=void 0,h(Ua,Qa,6)):6==Xa?(Va[n]=void 0,h(Ua,Qa,8)):7==Xa?(Va[n]=void 0,h(Ua,Qa,8)):8==Xa?Va[n]=0:9==Xa?Va[n]=1:10!=Xa&&11!=Xa&&(0==ma[n]%2?(Va[n]=Ua.slice(Qa[0],Qa[0]+(Xa-12)/2),Qa[0]+=(Xa-12)/2):(Va[n]=String.fromCharCode.apply(null,Ua.slice(Qa[0],Qa[0]+(Xa-13)/2)),Qa[0]+=(Xa-13)/2))}Ta(Va);f[0]+=Wa}}-1!=d&&ea(w,d,c)}return{loadTableList:function(h){var w={};ea(h,1,function(c){w[c[2]]=
[c[3],c[4]]});return w},loadPage:ea}});var TimerDataConverter=execMain(function(){function h(c){try{return decodeURIComponent(escape(c))}catch(z){}return c}function ea(c,z){c=h(c).split(/\r?\n/g);for(var a=[],b=[],d=[],r=0,f=0;f<c.length;f++){for(var w=c[f].split(z),Ua=0;Ua<w.length;Ua++)d.push(w[Ua]),r+=(w[Ua].match(/"/g)||[]).length,0==r%2&&(d=d.join(","),'"'==d[0]&&(d=d.replace(/""/g,'"').slice(1,-1)),b.push(d),d=[]);0==r%2&&(a.push(b),b=[],d=[],r=0)}return a}var w=/^(DNF)?\(?(\d*?):?(\d*?):?(\d*\.?\d*?)(\+)?\)?$/,Sa={csTimer:[/^{"session1"/i,
function(c){c=JSON.parse(h(c));var z={};try{z=mathlib.str2obj(mathlib.str2obj(c.properties).sessionData)}catch(Ta){}var a=[],b;for(b in c){var d=/^session(\d+)$/.exec(b);if(d){var r={},f=[];try{f=mathlib.str2obj(c[b])}catch(Ta){}if($.isArray(f)&&0!=f.length){for(var w=[],Ua=0;Ua<f.length;Ua++){var Qa=f[Ua];$.isArray(Qa)&&$.isArray(Qa[0])&&(Qa[0]=$.map(Qa[0],Number),w.push(Qa))}r.times=w;~~d[1]in z?(f=z[~~d[1]],r.name=f.name||d[1],r.scr=f.scr,r.phases=f.phases,r.rank=f.rank):(r.name=d[1],r.rank=a.length+
1);a.push(r)}}}a.sort(function(a,b){return a.rank-b.rank});return a}],csTimerCSV:[/^No\.;Time;Comment;Scramble;Date;P\.1/i,function(c){c=ea(c,";");for(var h=[],a=c[0].length-5,b=1;b<c.length;b++){var d=c[b],r=[],f=w.exec(d[1]);if(f){for(r[0]=f[1]?-1:f[5]?2E3:0;""==d[d.length-1];)d.pop();for(var Wa=5;Wa<d.length;Wa++)f=w.exec(d[Wa]),f=Math.round(36E5*~~f[2]+6E4*~~f[3]+1E3*parseFloat(f[4])),r[d.length-Wa]=(r[d.length-Wa+1]||0)+f;r=[r,d[3],d[2],mathlib.str2time(d[4])];h.push(r)}else console.log("Invalid data detected")}return[{name:"import",
phases:a,scr:"333",times:h}]}],ZYXTimer:[/^Session: /i,function(c){}],TwistyTimer:[/^Puzzle,Category,Time\(millis\),Date\(millis\),Scramble,Penalty,Comment/i,function(c){c=ea(c,";");for(var h={333:"333",222:"222so",444:"444wca",555:"555wca",pyra:"pyrso",skewb:"skbso",mega:"mgmp",sq1:"sqrs",clock:"clkwca",666:"666wca",777:"777wca"},a={},b=[],d=1;d<c.length;d++){var r=c[d];if(7==r.length){var f=r[0]+"-"+r[1],w=[{0:0,1:2E3,2:-1}[r[5]],Math.round(r[2])];f in a||(a[f]=b.length,b.push({name:f,phases:1,
scr:h[r[0]]||"333",times:[]}));b[a[f]].times.push([w,r[4],r[6],Math.round(r[3]/1E3)])}}return b}],BlockKeeper:[/^{"puzzles":\[{"name":/i,function(c){c=JSON.parse(h(c)).puzzles;var z={"3x3x3":"333","2x2x2":"222so","4x4x4":"444wca","5x5x5":"555wca",Pyraminx:"pyrso",Skewb:"skbso",Megaminx:"mgmp","Square-1":"sqrs",Clock:"clkwca","6x6x6":"666wca","7x7x7":"777wca","3x3x3 BLD":"333ni","4x4x4 BLD":"444bld","5x5x5 BLD":"555bld"},a=[];$.each(c,function(b,d){var c=d.name,f=d.scrambler,h=d.splits;$.each(d.sessions,
function(b,d){var r=d.name,Ua=[];$.each(d.records,function(a,b){var d=[{OK:0,"+2":2E3,DNF:-1}[b.result],Math.round(1E3*b.time)];Array.prototype.push.apply(d,$.map(b.split.reverse(),function(a){return Math.round(1E3*a)}));Ua.push([d,b.scramble,b.comment||"",Math.round(b.date/1E3)])});0!=Ua.length&&a.push({name:c+"-"+r,phases:h,scr:z[f]||"333",times:Ua})})});return a}],PrismaTimer:[/^[^\t\n]*(\t[^\t\n]*){4}\n/i,function(c){}],"DCTimer.raw":[/^\d+[\r\n]+[^\t\n]*(\t[^\t\n]*){11}[\r\n]+/i,function(c){c=
h(c).split(/[\r\n]+/);for(var z={},a=0,b=[],d=0;d<c.length;d++)if(/^\d+$/.exec(c[d]))a=~~c[d],z[a]=b.length,b.push({name:a,phases:1,scr:"333",times:[]});else{var r=c[d].split("\t");6>r.length||b[z[a]].times.push([["1"==r[2]?"1"==r[1]?2E3:0:-1,~~r[0]],r[3],r[5],mathlib.str2time(r[4])])}return b}],"DCTimer.sqlite":[/^SQLite format 3\0/i,function(c){for(var z=new Uint8Array(c.length),a=0;a<c.length;a++)z[a]=c.charCodeAt(a);c=SQLFile.loadTableList(z);var b={},d=[],r=function(a,f){a in b||(b[a]=d.length,
d.push({name:f||a+1,phases:1,scr:"333",times:[]}))};SQLFile.loadPage(z,c.sessiontb[0],function(a){r(a[0],h(a[1]))});for(var f in c)if(a=/^result(\d+|tb)$/.exec(f)){var w=("tb"==a[1]?1:~~a[1])-1;SQLFile.loadPage(z,c[f][0],function(a){r(w);d[b[w]].times.push([["1"==a[3]?"1"==a[2]?2E3:0:-1,~~a[1]],h(a[4]||""),h(a[6]||""),mathlib.str2time(a[5])])})}SQLFile.loadPage(z,c.resultstb[0],function(a){var f=a[1];r(f);d[b[f]].times.push([["1"==a[4]?"1"==a[3]?2E3:0:-1,~~a[2]],h(a[5]||""),h(a[7]||""),mathlib.str2time(a[6])])});
return d}],"mateus.cubetimer":[/^"Category";"Time \(MM:SS\.SSS\)";"Scrambler";"Date";"Penalty \+2 \(yes or no\)";"DNF \(yes or no\)";"Section"\n/i,function(c){c=ea(c,";");for(var h={"3x3x3":"333","2x2x2":"222so","4x4x4":"444wca","5x5x5":"555wca",Pyraminx:"pyrso",Skewb:"skbso",Megaminx:"mgmp","Square-1":"sqrs","Rubik's Clock":"clkwca","6x6x6":"666wca","7x7x7":"777wca","3x3x3 Blindfolded":"333ni","4x4x4 Blindfolded":"444bld","5x5x5 Blindfolded":"555bld","3x3x3 One-Handed":"333oh","3x3x3 Multi-Blindfolded":"r3ni",
"3x3x3 With Feet":"333ft","3x3x3 Fewest Moves":"333fm"},a={},b=[],d=1;d<c.length;d++){var r=c[d];if(!(7>r.length)){var f=r[0]+"-"+r[6],Wa=w.exec(r[1]);if(Wa){Wa=Math.round(36E5*~~Wa[2]+6E4*~~Wa[3]+1E3*parseFloat(Wa[4]));var Ua=r[2],Qa=0;"yes"==r[5]?Qa=-1:"yes"==r[4]&&(Qa=2E3);f in a||(a[f]=b.length,b.push({name:f,phases:1,scr:h[r[0]]||"333",times:[]}));b[a[f]].times.push([[Qa,Wa],Ua,"",mathlib.str2time(r[3]+":00")])}else console.log("Invalid data detected")}}return b}]};return function(c){var h=void 0,
a;for(a in Sa)if(Sa[a][0].exec(c)){console.log("try read by "+a);try{h=Sa[a][1](c);break}catch(b){console.log(b)}}return h}});var LZString=function(){function h(c,h){if(!w[c]){w[c]={};for(var a=0;a<c.length;a++)w[c][c.charAt(a)]=a}return w[c][h]}var ea=String.fromCharCode,w={},Sa={compressToBase64:function(c){if(null==c)return"";c=Sa._compress(c,6,function(c){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)});switch(c.length%4){default:case 0:return c;case 1:return c+"===";case 2:return c+"==";case 3:return c+"="}},decompressFromBase64:function(c){return null==c?"":""==c?null:Sa._decompress(c.length,
32,function(z){return h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c.charAt(z))})},compressToUTF16:function(c){return null==c?"":Sa._compress(c,15,function(c){return ea(c+32)})+" "},decompressFromUTF16:function(c){return null==c?"":""==c?null:Sa._decompress(c.length,16384,function(h){return c.charCodeAt(h)-32})},compressToUint8Array:function(c){c=Sa.compress(c);for(var h=new Uint8Array(2*c.length),a=0,b=c.length;a<b;a++){var d=c.charCodeAt(a);h[2*a]=d>>>8;h[2*a+1]=d%256}return h},
decompressFromUint8Array:function(c){if(null===c||void 0===c)return Sa.decompress(c);for(var h=Array(c.length/2),a=0,b=h.length;a<b;a++)h[a]=256*c[2*a]+c[2*a+1];var d=[];h.forEach(function(a){d.push(ea(a))});return Sa.decompress(d.join(""))},compressToEncodedURIComponent:function(c){return null==c?"":Sa._compress(c,6,function(c){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$".charAt(c)})},decompressFromEncodedURIComponent:function(c){if(null==c)return"";if(""==c)return null;
c=c.replace(/ /g,"+");return Sa._decompress(c.length,32,function(z){return h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",c.charAt(z))})},compress:function(c){return Sa._compress(c,16,function(c){return ea(c)})},_compress:function(c,h,a){if(null==c)return"";var b,d={},r={},f="",w=2,z=3,Qa=2,Ta=[],ma=0,Va=0,n;for(n=0;n<c.length;n+=1){var Xa=c.charAt(n);Object.prototype.hasOwnProperty.call(d,Xa)||(d[Xa]=z++,r[Xa]=!0);var ea=f+Xa;if(Object.prototype.hasOwnProperty.call(d,ea))f=
ea;else{if(Object.prototype.hasOwnProperty.call(r,f)){if(256>f.charCodeAt(0)){for(b=0;b<Qa;b++)ma<<=1,Va==h-1?(Va=0,Ta.push(a(ma)),ma=0):Va++;var Ra=f.charCodeAt(0);for(b=0;8>b;b++)ma=ma<<1|Ra&1,Va==h-1?(Va=0,Ta.push(a(ma)),ma=0):Va++,Ra>>=1}else{Ra=1;for(b=0;b<Qa;b++)ma=ma<<1|Ra,Va==h-1?(Va=0,Ta.push(a(ma)),ma=0):Va++,Ra=0;Ra=f.charCodeAt(0);for(b=0;16>b;b++)ma=ma<<1|Ra&1,Va==h-1?(Va=0,Ta.push(a(ma)),ma=0):Va++,Ra>>=1}w--;0==w&&(w=Math.pow(2,Qa),Qa++);delete r[f]}else for(Ra=d[f],b=0;b<Qa;b++)ma=
ma<<1|Ra&1,Va==h-1?(Va=0,Ta.push(a(ma)),ma=0):Va++,Ra>>=1;w--;0==w&&(w=Math.pow(2,Qa),Qa++);d[ea]=z++;f=String(Xa)}}if(""!==f){if(Object.prototype.hasOwnProperty.call(r,f)){if(256>f.charCodeAt(0)){for(b=0;b<Qa;b++)ma<<=1,Va==h-1?(Va=0,Ta.push(a(ma)),ma=0):Va++;Ra=f.charCodeAt(0);for(b=0;8>b;b++)ma=ma<<1|Ra&1,Va==h-1?(Va=0,Ta.push(a(ma)),ma=0):Va++,Ra>>=1}else{Ra=1;for(b=0;b<Qa;b++)ma=ma<<1|Ra,Va==h-1?(Va=0,Ta.push(a(ma)),ma=0):Va++,Ra=0;Ra=f.charCodeAt(0);for(b=0;16>b;b++)ma=ma<<1|Ra&1,Va==h-1?(Va=
0,Ta.push(a(ma)),ma=0):Va++,Ra>>=1}w--;0==w&&(w=Math.pow(2,Qa),Qa++);delete r[f]}else for(Ra=d[f],b=0;b<Qa;b++)ma=ma<<1|Ra&1,Va==h-1?(Va=0,Ta.push(a(ma)),ma=0):Va++,Ra>>=1;w--;0==w&&Qa++}Ra=2;for(b=0;b<Qa;b++)ma=ma<<1|Ra&1,Va==h-1?(Va=0,Ta.push(a(ma)),ma=0):Va++,Ra>>=1;for(;;)if(ma<<=1,Va==h-1){Ta.push(a(ma));break}else Va++;return Ta.join("")},decompress:function(c){return null==c?"":""==c?null:Sa._decompress(c.length,32768,function(h){return c.charCodeAt(h)})},_decompress:function(c,h,a){var b=
[],d=4,r=4,f=3,w=[],z,Qa,Ta=a(0),ma=h,Va=1;for(z=0;3>z;z+=1)b[z]=z;var n=0;var Xa=Math.pow(2,2);for(Qa=1;Qa!=Xa;){var fb=Ta&ma;ma>>=1;0==ma&&(ma=h,Ta=a(Va++));n|=(0<fb?1:0)*Qa;Qa<<=1}switch(n){case 0:n=0;Xa=Math.pow(2,8);for(Qa=1;Qa!=Xa;)fb=Ta&ma,ma>>=1,0==ma&&(ma=h,Ta=a(Va++)),n|=(0<fb?1:0)*Qa,Qa<<=1;var Ra=ea(n);break;case 1:n=0;Xa=Math.pow(2,16);for(Qa=1;Qa!=Xa;)fb=Ta&ma,ma>>=1,0==ma&&(ma=h,Ta=a(Va++)),n|=(0<fb?1:0)*Qa,Qa<<=1;Ra=ea(n);break;case 2:return""}z=b[3]=Ra;for(w.push(Ra);;){if(Va>c)return"";
n=0;Xa=Math.pow(2,f);for(Qa=1;Qa!=Xa;)fb=Ta&ma,ma>>=1,0==ma&&(ma=h,Ta=a(Va++)),n|=(0<fb?1:0)*Qa,Qa<<=1;switch(Ra=n){case 0:n=0;Xa=Math.pow(2,8);for(Qa=1;Qa!=Xa;)fb=Ta&ma,ma>>=1,0==ma&&(ma=h,Ta=a(Va++)),n|=(0<fb?1:0)*Qa,Qa<<=1;b[r++]=ea(n);Ra=r-1;d--;break;case 1:n=0;Xa=Math.pow(2,16);for(Qa=1;Qa!=Xa;)fb=Ta&ma,ma>>=1,0==ma&&(ma=h,Ta=a(Va++)),n|=(0<fb?1:0)*Qa,Qa<<=1;b[r++]=ea(n);Ra=r-1;d--;break;case 2:return w.join("")}0==d&&(d=Math.pow(2,f),f++);if(b[Ra])Ra=b[Ra];else if(Ra===r)Ra=z+z.charAt(0);else return null;
w.push(Ra);b[r++]=z+Ra.charAt(0);d--;z=Ra;0==d&&(d=Math.pow(2,f),f++)}}};return Sa}();var min2phase=function(){function h(){this.move=[];this.moveSol=[];this.nodeUD=[];this.valid1=0;this.allowShorter=!1;this.cc=new a;this.urfCubieCube=[];this.urfCoordCube=[];this.phase1Cubie=[];this.preMoveCubes=[];this.preMoves=[];this.maxPreMoves=this.preMoveLen=0;this.isRec=!1;for(var b=0;21>b;b++)this.nodeUD[b]=new Ta,this.phase1Cubie[b]=new a;for(b=0;6>b;b++)this.urfCubieCube[b]=new a,this.urfCoordCube[b]=new Ta;for(b=0;20>b;b++)this.preMoveCubes[b+1]=new a}function ea(a,b,f){return f?b<<1|a&
1:b|a&248}function w(a,b){return b?a>>1:a&7}function Sa(a,b,f){a[b>>3]^=f<<(b<<2)}function c(a,b,f){return Math.min(a,b[f>>3]>>(f<<2)&15)}function z(a,b,f){a=Tb[a];f&&(a^=14540032>>((a&15)<<1)&3);return a&65520|yb[a&15][b]}function a(){this.ca=[0,1,2,3,4,5,6,7];this.ea=[0,2,4,6,8,10,12,14,16,18,20,22]}function b(a,b,f,d){f--;for(var c=1985229328,n=0;n<f;++n){var h=Ya[f-n],r=~~(b/h);b%=h;r<<=2;a[n]=ea(a[n],c>>r&15,d);h=(1<<r)-1;c=(c&h)+(c>>4&~h)}a[f]=ea(a[f],c&15,d)}function d(a,b,f){for(var d=0,c=
1985229328,n=0;n<b-1;++n){var h=w(a[n],f)<<2;d=(b-n)*d+(c>>h&15);c-=286331152<<h}return d}function r(a,b,f,d){a[f-1]=ea(a[f-1],0,d);for(var c=f-2;0<=c;--c){a[c]=ea(a[c],b%(f-c),d);b=~~(b/(f-c));for(var n=c+1;n<f;++n)w(a[n],d)>=w(a[c],d)&&(a[n]=ea(a[n],w(a[n],d)+1,d))}}function f(a,b,f){for(var d=0,c=0;c<b;++c){d*=b-c;for(var n=c+1;n<b;++n)w(a[n],f)<w(a[c],f)&&++d}return d}function Wa(a,b,f){for(var d=0,c=4,n=a.length-1;0<=n;n--)(w(a[n],f)&12)==b&&(d+=Ra[n][c--]);return d}function Ua(a,b,f,d){for(var c=
a.length-1,n=4,h=c;0<=c;c--)b>=Ra[c][n]?(b-=Ra[c][n--],a[c]=ea(a[c],n|f,d)):((h&12)==f&&(h-=4),a[c]=ea(a[c],h--,d))}function Qa(a,b){for(var f=0,d=b-2;0<=d;d--)f^=a%(b-d),a=~~(a/(b-d));return f&1}function Ta(){this.flipc=this.twistc=this.prun=this.slice=this.fsym=this.flip=this.tsym=this.twist=0}function ma(){var f=new a,d=new a,c,n=(new a).initCoord(28783,0,259268407,0),h=(new a).initCoord(15138,0,119765538,7),r=(new a).initCoord(5167,0,83473207,0);for(c=0;8>c;c++)r.ca[c]|=24;for(c=0;16>c;c++)mb[c]=
(new a).init(f.ca,f.ea),a.CornMultFull(f,h,d),a.EdgeMult(f,h,d),f.init(d.ca,d.ea),3==c%4&&(a.CornMultFull(f,r,d),a.EdgeMult(f,r,d),f.init(d.ca,d.ea)),7==c%8&&(a.CornMultFull(f,n,d),a.EdgeMult(f,n,d),f.init(d.ca,d.ea));for(c=0;16>c;c++)yb[c]=[],tb[c]=[],rb[c]=[],pb[c]=[],hb[c]=[];for(c=0;16>c;c++)for(n=0;16>n;n++)yb[c][n]=c^n^84660>>n&c<<1&2,tb[yb[c][n]][n]=c;f=new a;for(h=0;16>h;h++)for(n=0;18>n;n++){a.CornConjugate(ab[n],tb[0][h],f);r=0;a:for(;18>r;r++){for(c=0;8>c;c++)if(ab[r].ca[c]!=f.ca[c])continue a;
rb[h][n]=r;hb[h][jb[n]]=jb[r];break}0==h%2&&(pb[n<<3|h>>1]=rb[h][n])}c=function(b,c,f,d,n,h,r){for(var w=new a,Ra=new a,z=0,Qa=2<=n?1:2,Va=1!=n?a.EdgeConjugate:a.CornConjugate,Xa=0;Xa<b;Xa++)if(void 0===f[Xa]){h.call(w,Xa);for(var ma=0;16>ma;ma+=Qa){Va(w,ma,Ra);var Ua=r.call(Ra);0==n&&(Ab[z<<3|ma>>1]=Ua);Ua==Xa&&(d[z]|=1<<ma/Qa);f[Ua]=(z<<4|ma)/Qa}c[z++]=Xa}return z};c(2048,wb,Db,xb,0,a.prototype.setFlip,a.prototype.getFlip);c(2187,Bb,ub,qb,1,a.prototype.setTwist,a.prototype.getTwist);c(40320,nb,
sb,Fb,2,a.prototype.setEPerm,a.prototype.getEPerm);n=new a;for(c=0;2768>c;c++)b(n.ea,nb[c],8,!0),Gb[c]=Wa(n.ea,0,!0)+70*Qa(nb[c],8),f.invFrom(n),Tb[c]=sb[f.getEPerm()];c=function(a,b,c,n,h,r,w,Ra){for(var z=0;z<c;z++){a[z]=[];h.call(f,b[z]);for(var Qa=0;Qa<n;Qa++)w(f,ab[Ra?Ra[Qa]:Qa],d),a[z][Qa]=r.call(d)}};f=new a;d=new a;c(Pb,wb,336,18,a.prototype.setFlip,a.prototype.getFlipSym,a.EdgeMult);c(Eb,Bb,324,18,a.prototype.setTwist,a.prototype.getTwistSym,a.CornMult);c(Ib,nb,2768,10,a.prototype.setEPerm,
a.prototype.getEPermSym,a.EdgeMult,bb);c(Cb,nb,2768,10,a.prototype.setCPerm,a.prototype.getCPermSym,a.CornMult,bb);for(c=0;495>c;c++){Mb[c]=[];Jb[c]=[];f.setUDSlice(c);for(n=0;18>n;n++)a.EdgeMult(f,ab[n],d),Mb[c][n]=d.getUDSlice();for(n=0;16>n;n+=2)a.EdgeConjugate(f,tb[0][n],d),Jb[c][n>>1]=d.getUDSlice()}for(c=0;24>c;c++){Kb[c]=[];Qb[c]=[];f.setMPerm(c);for(n=0;10>n;n++)a.EdgeMult(f,ab[bb[n]],d),Kb[c][n]=d.getMPerm();for(n=0;16>n;n++)a.EdgeConjugate(f,tb[0][n],d),Qb[c][n]=d.getMPerm()}for(c=0;140>
c;c++){gc[c]=[];Zb[c]=[];f.setCComb(c%70);for(n=0;10>n;n++)a.CornMult(f,ab[bb[n]],d),gc[c][n]=d.getCComb()+70*(165>>n&1^~~(c/70));for(n=0;16>n;n++)a.CornConjugate(f,tb[0][n],d),Zb[c][n]=d.getCComb()+70*~~(c/70)}}function Va(a,b,c,f,d,n,h,r){var w=r&15,Ra=1==(r>>4&1)?14540032:0,z=r>>8&15,Qa=r>>12&15,Va=r>>16&15,Xa=(1<<w)-1,ma=null==f;c*=b;r=1==(r>>5&1)?10:18;var Ua=10==r?66:599186,Ta=(a[c>>3]>>(c<<2)&15)-1;if(-1==Ta){for(var ea=0;ea<(c>>3)+1;ea++)a[ea]=4294967295;Sa(a,0,15);Ta=0}else Sa(a,c,15^Ta+
1);for(Qa=0<fb?Math.min(Math.max(Ta+1,Va),Qa):Qa;Ta<Qa;){var Wa=(Va=Ta>z)?15:Ta,bb=286331153*Wa,hb=Va?Ta:15;Ta++;Nb++;var Ya=Ta^15,Za=0,wb=0;for(ea=0;ea<c;ea++,wb>>=4){if(0==(ea&7)){wb=a[ea>>3];var ab=wb^bb;if(0==(ab-286331153&~ab&2290649224)){ea+=7;continue}}if((wb&15)==Wa){ab=ea%b;var eb=~~(ea/b),ub=0,qb=0;ma&&(ub=Db[ab],qb=ub&7,ub>>=3);for(var ob=0;ob<r;ob++){var Bb=n[eb][ob];var nb=ma?Ab[Pb[ub][pb[ob<<3|qb]]^qb^Bb&Xa]:d[f[ab][ob]][Bb&Xa];Bb>>=w;var Yb=Bb*b+nb,jb=a[Yb>>3]>>(Yb<<2)&15;if(jb!=hb)jb<
Ta-1&&(ob+=Ua>>ob&3);else{Za++;if(Va){Sa(a,ea,Ya);break}Sa(a,Yb,Ya);Yb=1;for(jb=h[Bb];0!=(jb>>=1);Yb++)if(1==(jb&1)){var cb=Bb*b;cb=ma?cb+Ab[Db[nb]^Yb]:cb+d[nb][Yb^Ra>>(Yb<<1)&3];(a[cb>>3]>>(cb<<2)&15)==hb&&(Sa(a,cb,Ya),Za++)}}}}}}Sa(a,c,Ta+1^15);return Ta+1}function n(a){$b=Va(vb,2048,324,null,null,Eb,qb,103939);Nb>a||(dc=Va(Hb,495,324,Mb,Jb,Eb,qb,431619),Nb>a||(Vb=Va(Lb,495,336,Mb,Jb,Pb,xb,431619),Nb>a||(Rb=Va(ic,24,2768,Kb,Qb,Cb,Fb,584244),Nb>a||(ec=Va(ac,140,2768,gc,Zb,Ib,Fb,514084)))))}function Xa(){0>
Nb&&(ma(),Nb=0);if(0==Nb)n(99);else if(54>Nb)n(Nb);else return!0;return!1}for(var fb=2,Ra=[],Ya=[1],eb="U ;U2;U';R ;R2;R';F ;F2;F';D ;D2;D';L ;L2;L';B ;B2;B'".split(";"),bb=[0,1,2,4,7,9,10,11,13,16,3,5,6,8,12,14,15,17],jb=[],lb=[],kb=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],[6,7,8,0,1,2,3,4,5,15,16,17,9,10,11,12,13,14],[3,4,5,6,7,8,0,1,2,12,13,14,15,16,17,9,10,11],[2,1,0,5,4,3,8,7,6,11,10,9,14,13,12,17,16,15],[8,7,6,2,1,0,5,4,3,17,16,15,11,10,9,14,13,12],[5,4,3,8,7,6,2,1,0,14,13,12,17,16,15,
11,10,9]],db=0;18>db;db++)jb[bb[db]]=db;for(db=0;10>db;db++)for(var ib=~~(bb[db]/3),gb=lb[db]=0;10>gb;gb++){var Za=~~(bb[gb]/3);lb[db]|=(ib==Za||ib%3==Za%3&&ib>=Za?1:0)<<gb}for(db=lb[10]=0;13>db;db++)for(Ra[db]=[],Ya[db+1]=Ya[db]*(db+1),gb=Ra[db][0]=Ra[db][db]=1;13>gb;gb++)Ra[db][gb]=gb<=db?Ra[db-1][gb-1]+Ra[db-1][gb]:0;a.EdgeMult=function(a,b,c){for(var f=0;12>f;f++)c.ea[f]=a.ea[b.ea[f]>>1]^b.ea[f]&1};a.CornMult=function(a,b,c){for(var f=0;8>f;f++)c.ca[f]=a.ca[b.ca[f]&7]&7|((a.ca[b.ca[f]&7]>>3)+
(b.ca[f]>>3))%3<<3};a.CornMultFull=function(a,b,c){for(var f=0;8>f;f++){var d=a.ca[b.ca[f]&7]>>3,n=b.ca[f]>>3,h=d+(3>d?n:6-n);h=h%3+(3>d==3>n?0:3);c.ca[f]=a.ca[b.ca[f]&7]&7|h<<3}};a.CornConjugate=function(a,b,c){var f=mb[tb[0][b]];b=mb[b];for(var d=0;8>d;d++){var n=a.ca[b.ca[d]&7]>>3;c.ca[d]=f.ca[a.ca[b.ca[d]&7]&7]&7|(3>f.ca[a.ca[b.ca[d]&7]&7]>>3?n:(3-n)%3)<<3}};a.EdgeConjugate=function(a,b,c){var f=mb[tb[0][b]];b=mb[b];for(var d=0;12>d;d++)c.ea[d]=f.ea[a.ea[b.ea[d]>>1]>>1]^a.ea[b.ea[d]>>1]&1^b.ea[d]&
1};a.prototype.init=function(a,b){this.ca=a.slice();this.ea=b.slice();return this};a.prototype.initCoord=function(a,c,f,d){b(this.ca,a,8,!1);this.setTwist(c);r(this.ea,f,12,!0);this.setFlip(d);return this};a.prototype.isEqual=function(a){for(var b=0;8>b;b++)if(this.ca[b]!=a.ca[b])return!1;for(b=0;12>b;b++)if(this.ea[b]!=a.ea[b])return!1;return!0};a.prototype.setFlip=function(a){for(var b=0,c,f=10;0<=f;f--,a>>=1)b^=c=a&1,this.ea[f]=this.ea[f]&254|c;this.ea[11]=this.ea[11]&254|b};a.prototype.getFlip=
function(){for(var a=0,b=0;11>b;b++)a=a<<1|this.ea[b]&1;return a};a.prototype.getFlipSym=function(){return Db[this.getFlip()]};a.prototype.setTwist=function(a){for(var b=15,c,f=6;0<=f;f--,a=~~(a/3))b-=c=a%3,this.ca[f]=this.ca[f]&7|c<<3;this.ca[7]=this.ca[7]&7|b%3<<3};a.prototype.getTwist=function(){for(var a=0,b=0;7>b;b++)a+=(a<<1)+(this.ca[b]>>3);return a};a.prototype.getTwistSym=function(){return ub[this.getTwist()]};a.prototype.setCPerm=function(a){b(this.ca,a,8,!1)};a.prototype.getCPerm=function(){return d(this.ca,
8,!1)};a.prototype.getCPermSym=function(){var a=sb[d(this.ca,8,!1)];return a^14540032>>((a&15)<<1)&3};a.prototype.setEPerm=function(a){b(this.ea,a,8,!0)};a.prototype.getEPerm=function(){return d(this.ea,8,!0)};a.prototype.getEPermSym=function(){return sb[d(this.ea,8,!0)]};a.prototype.getUDSlice=function(){return 494-Wa(this.ea,8,!0)};a.prototype.setUDSlice=function(a){Ua(this.ea,494-a,8,!0)};a.prototype.getMPerm=function(){return f(this.ea,12,!0)%24};a.prototype.setMPerm=function(a){r(this.ea,a,12,
!0)};a.prototype.getCComb=function(){return Wa(this.ca,0,!1)};a.prototype.setCComb=function(a){Ua(this.ca,a,0,!1)};a.prototype.URFConjugate=function(){var b=new a;a.CornMult(a.urf2,this,b);a.CornMult(b,a.urf1,this);a.EdgeMult(a.urf2,this,b);a.EdgeMult(b,a.urf1,this)};var cb=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],ob=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];a.prototype.toFaceCube=function(a,b){a=a||cb;
b=b||ob;for(var c=[],f=0;54>f;f++)c[f]="URFDLB"[~~(f/9)];for(var d=0;8>d;d++){f=this.ca[d]&7;for(var n=this.ca[d]>>3,h=0;3>h;h++)c[a[d][(h+n)%3]]="URFDLB"[~~(a[f][h]/9)]}for(d=0;12>d;d++)for(f=this.ea[d]>>1,n=this.ea[d]&1,h=0;2>h;h++)c[b[d][(h+n)%2]]="URFDLB"[~~(b[f][h]/9)];return c.join("")};a.prototype.invFrom=function(a){for(var b=0;12>b;b++)this.ea[a.ea[b]>>1]=b<<1|a.ea[b]&1;for(b=0;8>b;b++)this.ca[a.ca[b]&7]=b|32>>(a.ca[b]>>3)&24;return this};a.prototype.fromFacelet=function(a,b,c){b=b||cb;c=
c||ob;for(var f=0,d=[],n=a[4]+a[13]+a[22]+a[31]+a[40]+a[49],h=0;54>h;++h){d[h]=n.indexOf(a[h]);if(-1==d[h])return-1;f+=1<<(d[h]<<2)}if(10066329!=f)return-1;var r;for(h=0;8>h;++h){for(r=0;3>r&&0!=d[b[h][r]]&&3!=d[b[h][r]];++r);a=d[b[h][(r+1)%3]];f=d[b[h][(r+2)%3]];for(n=0;8>n;++n)if(a==~~(b[n][1]/9)&&f==~~(b[n][2]/9)){this.ca[h]=n|r%3<<3;break}}for(h=0;12>h;++h)for(n=0;12>n;++n){if(d[c[h][0]]==~~(c[n][0]/9)&&d[c[h][1]]==~~(c[n][1]/9)){this.ea[h]=n<<1;break}if(d[c[h][0]]==~~(c[n][1]/9)&&d[c[h][1]]==
~~(c[n][0]/9)){this.ea[h]=n<<1|1;break}}};Ta.prototype.set=function(a){this.twist=a.twist;this.tsym=a.tsym;this.flip=a.flip;this.fsym=a.fsym;this.slice=a.slice;this.prun=a.prun;this.twistc=a.twistc;this.flipc=a.flipc};Ta.prototype.calcPruning=function(a){this.prun=Math.max(Math.max(c(dc,Hb,495*this.twist+Jb[this.slice][this.tsym]),c(Vb,Lb,495*this.flip+Jb[this.slice][this.fsym])),Math.max(c($b,vb,this.twistc>>3<<11|Ab[this.flipc^this.twistc&7]),c($b,vb,this.twist<<11|Ab[this.flip<<3|this.fsym^this.tsym])))};
Ta.prototype.setWithPrun=function(b,f){this.twist=b.getTwistSym();this.flip=b.getFlipSym();this.tsym=this.twist&7;this.twist>>=3;this.prun=c($b,vb,this.twist<<11|Ab[this.flip^this.tsym]);if(this.prun>f)return!1;this.fsym=this.flip&7;this.flip>>=3;this.slice=b.getUDSlice();this.prun=Math.max(this.prun,Math.max(c(dc,Hb,495*this.twist+Jb[this.slice][this.tsym]),c(Vb,Lb,495*this.flip+Jb[this.slice][this.fsym])));if(this.prun>f)return!1;var d=new a;a.CornConjugate(b,1,d);a.EdgeConjugate(b,1,d);this.twistc=
d.getTwistSym();this.flipc=d.getFlipSym();this.prun=Math.max(this.prun,c($b,vb,this.twistc>>3<<11|Ab[this.flipc^this.twistc&7]));return this.prun<=f};Ta.prototype.doMovePrun=function(a,b,f){this.slice=Mb[a.slice][b];this.flip=Pb[a.flip][pb[b<<3|a.fsym]];this.fsym=this.flip&7^a.fsym;this.flip>>=3;this.twist=Eb[a.twist][pb[b<<3|a.tsym]];this.tsym=this.twist&7^a.tsym;this.twist>>=3;return this.prun=Math.max(Math.max(c(dc,Hb,495*this.twist+Jb[this.slice][this.tsym]),c(Vb,Lb,495*this.flip+Jb[this.slice][this.fsym])),
c($b,vb,this.twist<<11|Ab[this.flip<<3|this.fsym^this.tsym]))};Ta.prototype.doMovePrunConj=function(a,b){b=rb[3][b];this.flipc=Pb[a.flipc>>3][pb[b<<3|a.flipc&7]]^a.flipc&7;this.twistc=Eb[a.twistc>>3][pb[b<<3|a.twistc&7]]^a.twistc&7;return c($b,vb,this.twistc>>3<<11|Ab[this.flipc^this.twistc&7])};h.prototype.solution=function(a,b,c,f,d){Xa();a=this.verify(a);if(0!=a)return"Error "+Math.abs(a);void 0===b&&(b=21);void 0===c&&(c=1E9);void 0===f&&(f=0);void 0===d&&(d=0);this.sol=b+1;this.probe=0;this.probeMax=
c;this.probeMin=Math.min(f,c);this.verbose=d;this.moveSol=null;this.isRec=!1;this.initSearch();return this.search()};h.prototype.initSearch=function(){this.conjMask=0;this.maxPreMoves=7<this.conjMask?0:20;for(var b=0;6>b;b++)if(this.urfCubieCube[b].init(this.cc.ca,this.cc.ea),this.urfCoordCube[b].setWithPrun(this.urfCubieCube[b],20),this.cc.URFConjugate(),2==b%3){var c=(new a).invFrom(this.cc);this.cc.init(c.ca,c.ea)}};h.prototype.next=function(a,b,c){this.probe=0;this.probeMax=a;this.probeMin=Math.min(b,
a);this.moveSol=null;this.isRec=!0;this.verbose=c;return search()};h.prototype.verify=function(a){if(-1==this.cc.fromFacelet(a))return-1;for(var b=a=0,c=0;12>c;c++)b|=1<<(this.cc.ea[c]>>1),a^=this.cc.ea[c]&1;if(4095!=b)return-2;if(0!=a)return-3;for(c=a=b=0;8>c;c++)b|=1<<(this.cc.ca[c]&7),a+=this.cc.ca[c]>>3;return 255!=b?-4:0!=a%3?-5:0!=(Qa(f(this.cc.ea,12,!0),12)^Qa(this.cc.getCPerm(),8))?-6:0};h.prototype.phase1PreMoves=function(b,c,f){this.preMoveLen=this.maxPreMoves-b;if(this.isRec?this.depth1==
this.length1-this.preMoveLen:0==this.preMoveLen||0==(225207>>c&1))if(this.depth1=this.length1-this.preMoveLen,this.phase1Cubie[0].init(f.ca,f.ea),this.allowShorter=7==this.depth1&&0!=this.preMoveLen,this.nodeUD[this.depth1+1].setWithPrun(f,this.depth1)&&0==this.phase1(this.nodeUD[this.depth1+1],this.depth1,-1))return 0;if(0==b||this.preMoveLen+7>=this.length1)return 1;var d=0;if(1==b||this.preMoveLen+1+7>=this.length1)d|=225207;c=3*~~(c/3);for(var n=0;18>n;n++)if(n==c||n==c-9||n==c+9)n+=2;else if(!(this.isRec&&
n!=this.preMoves[this.maxPreMoves-b]||0!=(d&1<<n))&&(a.CornMult(ab[n],f,this.preMoveCubes[b]),a.EdgeMult(ab[n],f,this.preMoveCubes[b]),this.preMoves[this.maxPreMoves-b]=n,0==this.phase1PreMoves(b-1,n,this.preMoveCubes[b])))return 0;return 1};h.prototype.search=function(){for(this.length1=this.isRec?this.length1:0;this.length1<this.sol;this.length1++)for(this.urfIdx=this.isRec?this.urfIdx:0;6>this.urfIdx;this.urfIdx++)if(0==(this.conjMask&1<<this.urfIdx)&&0==this.phase1PreMoves(this.maxPreMoves,-30,
this.urfCubieCube[this.urfIdx],0))return null==this.moveSol?"Error 8":this.moveSol;return null==this.moveSol?"Error 7":this.moveSol};h.prototype.initPhase2Pre=function(){this.isRec=!1;if(this.probe>=(null==this.moveSol?this.probeMax:this.probeMin))return 0;++this.probe;for(var b=this.valid1;b<this.depth1;b++)a.CornMult(this.phase1Cubie[b],ab[this.move[b]],this.phase1Cubie[b+1]),a.EdgeMult(this.phase1Cubie[b],ab[this.move[b]],this.phase1Cubie[b+1]);this.valid1=this.depth1;b=this.initPhase2(this.phase1Cubie[this.depth1]);
if(0==b||0==this.preMoveLen||2==b)return b;b=3*~~(this.preMoves[this.preMoveLen-1]/3)+1;a.CornMult(ab[b],this.phase1Cubie[this.depth1],this.phase1Cubie[this.depth1+1]);a.EdgeMult(ab[b],this.phase1Cubie[this.depth1],this.phase1Cubie[this.depth1+1]);this.preMoves[this.preMoveLen-1]+=2-this.preMoves[this.preMoveLen-1]%3*2;b=this.initPhase2(this.phase1Cubie[this.depth1+1]);this.preMoves[this.preMoveLen-1]+=2-this.preMoves[this.preMoveLen-1]%3*2;return b};h.prototype.initPhase2=function(a){var b=a.getCPermSym(),
f=b&15;b>>=4;var d=a.getEPermSym(),n=d&15;d>>=4;a=a.getMPerm();var h=Math.max(c(ec,ac,140*d+Zb[Gb[b]&255][tb[n][f]]),c(Rb,ic,24*b+Qb[a][f])),r=Math.min(13,this.sol-this.length1);if(h>=r)return h>r?2:1;var w;for(w=r-1;w>=h;w--){var Ra=this.phase2(d,n,b,f,a,w,this.depth1,10);if(0>Ra)break;w-=Ra;this.moveSol=[];for(Ra=0;Ra<this.depth1+w;Ra++)this.appendSolMove(this.move[Ra]);for(Ra=this.preMoveLen-1;0<=Ra;Ra--)this.appendSolMove(this.preMoves[Ra]);this.sol=this.moveSol.length;this.moveSol=this.solutionToString()}return w!=
r-1?this.probe>=this.probeMin?0:1:1};h.prototype.phase1=function(a,b,c){if(0==a.prun&&5>b){if(this.allowShorter||0==b){this.depth1-=b;var f=this.initPhase2Pre();this.depth1+=b;return f}return 1}for(var d=0;18>d;d+=3)if(d!=c&&d!=c-9)for(var n=0;3>n;n++)if(f=d+n,!this.isRec||f==this.move[this.depth1-b]){var h=this.nodeUD[b].doMovePrun(a,f,!0);if(h>b)break;else if(h==b)continue;h=this.nodeUD[b].doMovePrunConj(a,f);if(h>b)break;else if(h==b)continue;this.move[this.depth1-b]=f;this.valid1=Math.min(this.valid1,
this.depth1-b);f=this.phase1(this.nodeUD[b],b-1,d);if(0==f)return 0;if(2==f)break}return 1};h.prototype.appendSolMove=function(a){if(0==this.moveSol.length)this.moveSol.push(a);else{var b=~~(a/3),c=~~(this.moveSol[this.moveSol.length-1]/3);b==c?(a=(a%3+this.moveSol[this.moveSol.length-1]%3+1)%4,3==a?this.moveSol.pop():this.moveSol[this.moveSol.length-1]=3*b+a):1<this.moveSol.length&&b%3==c%3&&b==~~(this.moveSol[this.moveSol.length-2]/3)?(a=(a%3+this.moveSol[this.moveSol.length-2]%3+1)%4,3==a?(this.moveSol[this.moveSol.length-
2]=this.moveSol[this.moveSol.length-1],this.moveSol.pop()):this.moveSol[this.moveSol.length-2]=3*b+a):this.moveSol.push(a)}};h.prototype.phase2=function(a,b,f,d,n,h,r,Ra){if(0==a&&0==f&&0==n)return h;Ra=lb[Ra];for(var w=0;10>w;w++)if(0!=(Ra>>w&1))w+=66>>w&3;else{var Qa=Kb[n][w],Va=Cb[f][hb[d][w]],Xa=yb[Va&15][d];Va>>=4;if(!(c(Rb,ic,24*Va+Qb[Qa][Xa])>=h)){var ma=Ib[a][hb[b][w]],Ta=yb[ma&15][b];ma>>=4;if(!(c(ec,ac,140*ma+Zb[Gb[Va]&255][tb[Ta][Xa]])>=h)){var Ua=z(ma,Ta,!1),ea=z(Va,Xa,!0);if(!(c(ec,ac,
140*(Ua>>4)+Zb[Gb[ea>>4]&255][tb[Ua&15][ea&15]])>=h)&&(Qa=this.phase2(ma,Ta,Va,Xa,Qa,h-1,r+1,w),0<=Qa))return this.move[r]=bb[w],Qa}}}return-1};h.prototype.solutionToString=function(){var a="",b=0!=(this.verbose&2)?(this.urfIdx+3)%6:this.urfIdx;if(3>b)for(var c=0;c<this.moveSol.length;++c)a+=eb[kb[b][this.moveSol[c]]]+" ";else for(c=this.moveSol.length-1;0<=c;--c)a+=eb[kb[b][this.moveSol[c]]]+" ";return a};var ab=[],mb=[],yb=[],tb=[],rb=[],hb=[],pb=[],wb=[],Db=[],Bb=[],ub=[],nb=[],sb=[],xb=[],qb=
[],Fb=[],Ab=[],Gb=[],Tb=[],Mb=[],Eb=[],Pb=[],Jb=[],Hb=[],Lb=[],vb=[],Cb=[],Ib=[],Kb=[],Qb=[],gc=[],Zb=[],ic=[],ac=[],$b=15,dc=15,Vb=15,Rb=15,ec=15;for(db=0;18>db;db++)ab[db]=new a;ab[0].initCoord(15120,0,119750400,0);ab[3].initCoord(21021,1494,323403417,0);ab[6].initCoord(8064,1236,29441808,550);ab[9].initCoord(9,0,5880,0);ab[12].initCoord(1230,412,2949660,0);ab[15].initCoord(224,137,328552,137);for(db=0;18>db;db+=3)for(ib=0;2>ib;ib++)a.EdgeMult(ab[db+ib],ab[db],ab[db+ib+1]),a.CornMult(ab[db+ib],
ab[db],ab[db+ib+1]);a.urf1=(new a).initCoord(2531,1373,67026819,1367);a.urf2=(new a).initCoord(2089,1906,322752913,2040);var Nb=-1;return{Search:h,solve:function(a){return(new h).solution(a)},randomCube:function(){var b=~~(2048*Math.random()),c=~~(2187*Math.random());do{var f=~~(Math.random()*Ya[12]);var d=~~(Math.random()*Ya[8])}while(Qa(d,8)!=Qa(f,12));return(new a).initCoord(d,c,f,b).toFaceCube()},initFull:function(){fb=0;Xa()}}}();
"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports=min2phase);var cubeutil=function(){function h(a,b){for(var c=[],f=0;54>f;f++)c[b[f]]=a[f];return c.join("")}function ea(a,b){b=b||mathlib.SOLVED_FACELET;for(var c={},f=0;54>f;f++)if("-"!=b[f]){if(b[f]in c&&c[b[f]]!=a[f])return 1;c[b[f]]=a[f]}return 0}function w(a){return ea(a,"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-")?9:ea(a,"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?4+ea(a,"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-")+ea(a,"----U--------R--R----FF-FF-DD-DDD-D-----LL-LL----B--B-")+
ea(a,"----U--------RR-RR----F--F--D-DDD-DD----L--L----BB-BB-")+ea(a,"----U--------R--R-----F--F--D-DDDDD----LL-LL-----BB-BB"):ea(a,"-U-UUU-U----RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?4:ea(a,"UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?3:ea(a,"UUUUUUUUUr-rRRRRRRf-fFFFFFFDDDDDDDDDl-lLLLLLLb-bBBBBBB")?2:ea(a)?1:0}function Sa(a){return ea(a,"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-")?7:ea(a,"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2+ea(a,"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-")+
ea(a,"----U--------R--R----FF-FF-DD-DDD-D-----LL-LL----B--B-")+ea(a,"----U--------RR-RR----F--F--D-DDD-DD----L--L----BB-BB-")+ea(a,"----U--------R--R-----F--F--D-DDDDD----LL-LL-----BB-BB"):ea(a,"UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2:ea(a)?1:0}function c(a){return ea(a,"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-")?4:ea(a,"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?3:ea(a,"UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2:ea(a)?1:0}function z(a){return ea(a,
"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2:ea(a)?1:0}function a(a){return ea(a,"---------------------F--F--D--D--D-----LLLLLL-----B--B")?4:ea(a,"------------RRRRRR---F-FF-FD-DD-DD-D---LLLLLL---B-BB-B")?3:ea(a,"U-U---U-UR-RRRRRRRF-FF-FF-FD-DD-DD-DL-LLLLLLLB-BB-BB-B")?2:ea(a)?1:0}function b(a,b,c){for(var w=99,z=0;z<c;z++)w=Math.min(w,b(a)),a=h(a,z&1?r:f),5==z%6&&(a=h(a,f),a=h(a,f)),11==z%12&&(a=h(a,d),a=h(a,d));return w}var d=[2,5,8,1,4,7,0,3,6,18,19,20,21,22,23,24,25,26,36,37,38,
39,40,41,42,43,44,33,30,27,34,31,28,35,32,29,45,46,47,48,49,50,51,52,53,9,10,11,12,13,14,15,16,17],r=[53,52,51,50,49,48,47,46,45,11,14,17,10,13,16,9,12,15,0,1,2,3,4,5,6,7,8,18,19,20,21,22,23,24,25,26,42,39,36,43,40,37,44,41,38,35,34,33,32,31,30,29,28,27],f=[11,14,17,10,13,16,9,12,15,29,32,35,28,31,34,27,30,33,20,23,26,19,22,25,18,21,24,38,41,44,37,40,43,36,39,42,2,5,8,1,4,7,0,3,6,51,48,45,52,49,46,53,50,47],Wa=[[0,2,4,3,5,1],[5,1,0,2,4,3],[4,0,2,1,3,5]];return{getProgress:function(f,d){switch(d){case "cfop":return b(f,
c,6);case "fp":return b(f,z,6);case "cf4op":return b(f,Sa,6);case "roux":return b(f,a,24);case "cf4o2p2":return b(f,w,6);case "n":return b(f,ea,1)}},getPrettyMoves:function(a){var b=[0,1,2,3,4,5];return $.map(a,function(a,c){function f(a,b){0==d.length||~~(d[d.length-1]/3)!=a?d.push(3*a+b):(b=(b+d[d.length-1]%3+1)%4,3==b?d.pop():d[d.length-1]=3*a+b)}for(var d=[],h=0;h<a.length;h++){var r=b.indexOf("URFDLB".indexOf(a[h][0][0])),w=" 2'".indexOf(a[h][0][1])%3;if(h==a.length-1||100<a[h+1][1]-a[h][1])f(r,
w);else{var z=b.indexOf("URFDLB".indexOf(a[h+1][0][0])),Qa=" 2'".indexOf(a[h+1][0][1])%3;if(r!=z&&r%3==z%3&&2==w+Qa){z=r%3;r=(w-1)*[1,1,-1,-1,-1,1][r]+1;f(z+6,r);for(w=0;w<r+1;w++){Qa=[];for(var ea=0;6>ea;ea++)Qa[ea]=b[Wa[z][ea]];b=Qa}h++}else f(r,w)}}return[[$.map(d,function(a){return"URFDLBEMS".charAt(~~(a/3))+" 2'".charAt(a%3)}).join(""),d.length]]})},moveSeq2str:function(a){return $.map(a,function(a){return a[0].trim()+"@"+a[1]}).join(" ")}}}();function MersenneTwisterObject(h,ea){function w(a,b){var c=a&65535,f=b&65535;var d=c*f;var h=d>>>16;h=h+c*((b&4294901760)>>>16)&65535;h+=((a&4294901760)>>>16)*f;h&=65535;c=h<<16|d&65535;return 0>c?c+4294967296:c}function Sa(c){var f=0<arguments.length&&isFinite(c)?c&4294967295:5489,d;a=[f];b=624;for(d=1;624>d;a[d]=f=w(f^f>>>30,1812433253)+d++);}function c(b,c){var f=b.length,d;Sa(1<arguments.length&&isFinite(c)?c:19650218);var h=a[0];var r=1;var z=0;for(d=Math.max(624,f);d;z%=f,d--)a[r]=h=(a[r++]^
w(h^h>>>30,1664525))+b[z]+z++&4294967295,623<r&&(a[0]=h=a[623],r=1);for(d=623;d;d--)a[r]=h=(a[r]^w(h^h>>>30,1566083941))-r++&4294967295,623<r&&(a[0]=h=a[623],r=1);a[0]=2147483648}function z(){for(var c,f;624<=b||0>b;){b=Math.max(0,b-624);for(f=0;227>f;c=a[f]&2147483648|a[f+1]&2147483647,a[f]=a[f+397]^c>>>1^d[c&1],f++);for(;623>f;c=a[f]&2147483648|a[f+1]&2147483647,a[f]=a[f+-227]^c>>>1^d[c&1],f++);c=a[623]&2147483648|a[0]&2147483647;a[623]=a[396]^c>>>1^d[c&1]}c=a[b++];c^=c>>>11;c^=c<<7&2636928640;
c^=c<<15&4022730752;c^=c>>>18;return 0>c?c+4294967296:c}var a=[],b=NaN,d=[0,2567483615];1<arguments.length?c(ea,h):0<arguments.length?Sa(h):Sa();return function(){return(67108864*(z()>>>5)+(z()>>>6))/9007199254740992}}Math.random=new MersenneTwisterObject((new Date).getTime());var JSON;JSON||(JSON={});
(function(){function h(a){return 10>a?"0"+a:a}function ea(a){c.lastIndex=0;return c.test(a)?'"'+a.replace(c,function(a){var c=b[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function w(b,c){var f,h,r=z,Ta=c[b];Ta&&"object"===typeof Ta&&"function"===typeof Ta.toJSON&&(Ta=Ta.toJSON(b));"function"===typeof d&&(Ta=d.call(c,b,Ta));switch(typeof Ta){case "string":return ea(Ta);case "number":return isFinite(Ta)?""+Ta:"null";case "boolean":case "null":return""+
Ta;case "object":if(!Ta)return"null";z+=a;var ma=[];if("[object Array]"===Object.prototype.toString.apply(Ta)){var Va=Ta.length;for(f=0;f<Va;f+=1)ma[f]=w(f,Ta)||"null";var n=0===ma.length?"[]":z?"[\n"+z+ma.join(",\n"+z)+"\n"+r+"]":"["+ma.join(",")+"]";z=r;return n}if(d&&"object"===typeof d)for(Va=d.length,f=0;f<Va;f+=1)"string"===typeof d[f]&&(h=d[f],(n=w(h,Ta))&&ma.push(ea(h)+(z?": ":":")+n));else for(h in Ta)Object.prototype.hasOwnProperty.call(Ta,h)&&(n=w(h,Ta))&&ma.push(ea(h)+(z?": ":":")+n);
n=0===ma.length?"{}":z?"{\n"+z+ma.join(",\n"+z)+"\n"+r+"}":"{"+ma.join(",")+"}";z=r;return n}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var Sa=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,z,a,b={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},d;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,c,h){var f;a=z="";if("number"===typeof h)for(f=0;f<h;f+=1)a+=" ";else"string"===typeof h&&(a=h);if((d=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return w("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,f){var d,h,n=a[f];if(n&&"object"===typeof n)for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&(h=c(n,d),void 0!==h?n[d]=h:delete n[d]);return b.call(a,f,n)}var f;a=""+a;Sa.lastIndex=0;Sa.test(a)&&(a=a.replace(Sa,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),"function"===typeof b?c({"":f},""):f;throw new SyntaxError("JSON.parse");})})();var kernel=execMain(function(){function h(a,c){DEBUG&&console.log("[signal]",a,c);if(void 0!=b[a])for(var f in b[a])if(void 0===b[a][f][1]||b[a][f][1].exec(c[0]))b[a][f][0](a,c)}function ea(a,c,f,d){void 0==b[c]&&(b[c]={});b[c][a]=[f,d]}function w(a,b){if(0>a)return"DNF";var c=r("useMilli");a=~~(a/(c?1:10));var f=a%(c?1E3:100);a=~~(a/(c?1E3:100));var d=r("timeFormat"),n=0,h=0;"h"==d?(d=a%60,n=~~(a/60)%60,h=~~(a/3600)):"m"==d?(d=a%60,n=~~(a/60)):d=a;var w=(b=b&&r("smallADP"))?["</span>"]:[];w.push(f);
10>f&&w.push("0");100>f&&c&&w.push("0");w.push(d+"."+(b?'<span style="font-size:0.75em;">':""));10>d&&0<n+h&&w.push("0");0<n+h&&w.push(n+":");10>n&&0<h&&w.push("0");0<h&&w.push(h+":");return w.reverse().join("")}function Sa(a){if(0>=a)return a;var b=r("useMilli")?1:10;return Math.round(a/b)*b}function c(){timer.refocus()}$.ajaxSetup({cache:!0});var z=$("<div />").css("visibility","hidden"),a=$('<div id="wndctn" />'),b={},d=function(){function a(){var a=$(this).data("module");b(a);c(a)}function b(a){if(!Za[a][0].hasClass("enable")){for(var b in Za)Za[b][0].removeClass("enable");
Za[a][0].addClass("enable");rb=a}}function c(a){setTimeout(function(){ob.scrollTop(a?ob.scrollTop()+Za[a][1].position().top-3:hb)},0)}function f(){hb=ob.scrollTop();var a="kernel",c;for(c in Za)50<Za[c][1].position().top||(a=c);b(a)}function d(a){a=$(this);var b=a.prop("name");if(a.is("select"))ma(b,a.val());else switch(a.prop("type")){case "checkbox":ma(b,a.prop("checked"));break;case "color":if(a.attr("data")){var c=4*~~a.attr("data")-4,f=z(b);ma(b,[f.slice(0,c),Ua.nearColor(a.val()),f.slice(c+
4)].join(""))}else ma(b,a.val());break;case "text":case "button":for(c in gb)if(b in gb[c]){c=gb[c][b];f=z(b);switch(a.val()){case "+":f=Math.min(f+1,c[3][2]);break;case "-":f=Math.max(f-1,c[3][1]);break;default:a.val().match(/^\d+$/)&&(f=+a.val().match(/^0*(.+)$/)[1],f=Math.max(Math.min(f,c[3][2]),c[3][1]))}c[0].val(f);ma(b,f);break}}}function r(){Za={};yb.empty();ab.empty();ob.unbind("scroll").scroll(f);for(var b in MODULE_NAMES){0===rb&&(rb=b);var c=Za[b]=[$("<div>"),$("<tr>")];c[0].html('<span class="icon" style="font-size:1em;">'+
pb[b]+"</span><span>"+MODULE_NAMES[b]+"</span>").addClass("tab").data("module",b).click(a).appendTo(yb);c[1].append($("<th>").html('<span class="icon">'+pb[b]+"</span> "+MODULE_NAMES[b].replace(/<br>-?/g,"")),$('<th class="sr">').html(PROPERTY_SR),$('<th class="sr">').html('<span class="icon"></span>'));ab.append(c[1]);for(var n in gb[b]){c=gb[b][n];var h=z(n),r=c[1],w=z("sr_"+n),Ra=$('<td class="sr">');c[4]&1&&Ra.append($('<input type="checkbox" name="sr_'+n+'"'+(w?" checked":"")+">").click(d));
w=$("<td colspan=2>");if(0>r)if($.urlParam("debug"))r=~r;else continue;if(0==r)c[0]=$('<input type="checkbox" name="'+n+'">').prop("checked",h).click(d),w.append($("<label>").append(c[0],c[2]));else if(1==r){c[0]=$('<select name="'+n+'">');var ea=c[3][1],Qa=c[3][2];for(r=0;r<ea.length;r++)c[0].append($("<option />").val(ea[r]).html(Qa[r]));c[0].val(h);c[0].change(d);w.append(c[2],": ",c[0])}else if(2==r)c[0]=$('<input type="text" maxlength="4" name="'+n+'">').val(h).change(d),h=$('<input type="button" style="width: 1.5em;" value="+" name="'+
n+'">').click(d),r=$('<input type="button" style="width: 1.5em;" value="-" name="'+n+'">').click(d),w.append(c[2]+"("+c[3][1]+"~"+c[3][2]+")",$("<span>").css("white-space","nowrap").append(r,c[0],h));else if(3==r)c[0]=$('<input type="color" name="'+n+'">').val(h).change(d),w.append(c[2],": ",c[0]);else if(4==r){ea=h.match(/#[0-9a-fA-F]{3}/g);c[0]=$('<input type="text" name="'+n+'" style="display:none">').val(h);h=[];for(r=0;r<ea.length;r++)h.push($('<input type="color" name="'+n+'" data="'+(r+1)+
'" class="mulcolor">').val(Ua.nearColor(ea[r],0,!0)).change(d));w.append(c[2],": ",c[0],h)}else 5==r&&($.urlParam("debug")?(c[0]=$('<input type="text" name="'+n+'" readonly>').val(h),w.append(c[2]+" ("+n+"): ",c[0])):(c[0]=$('<input type="text" name="'+n+'" style="display:none">').val(h),w.append(c[2],c[0])));ab.append($("<tr>").append(w,Ra))}}ab.append($('<tr style="height: 10em;">'));Za[rb][0].click()}function w(){cb&&(r(),cb=!1);c();Ua.showDialog([mb,$.noop,void 0,$.noop,[RESET_LANG,function(){for(var a in ib){var b=
ib[a];void 0===b||z(a)===b||a.startsWith("session")||(delete Sa[a],h("property",[a,b,"reset"]))}r();return!1}],[BUTTON_EXPORT.replace("<br",""),Qa.exportProperties]],"option",BUTTON_OPTIONS.replace("-<br>",""))}function z(a,b){void 0!=b&&void 0==ib[a]&&(ib[a]=b,h("property",[a,z(a),"set"]));Sa[a]===ib[a]&&delete Sa[a];return a in Sa?Sa[a]:ib[a]}function ma(a,b,c){for(var f in gb)if(a in gb[f]&&void 0!==gb[f][a][0]&&gb[f][a][0].val()!=b){gb[f][a][0].val(b);break}z(a)!==b&&(Sa[a]=b,h("property",[a,
z(a),c||"modify"]))}function Ta(){localStorage.properties=JSON.stringify(Sa)}function Wa(){var a=localStorage.properties;void 0!=a&&""!=a&&(Sa=JSON.parse(a))}var Sa={},ib={},gb={},Za={},cb=!0,ob=$("<div>"),ab=$('<table class="opttable">'),mb=$('<table class="options" />'),yb=$("<td />"),tb=$("<td />").addClass("tabValue");mb.append($("<tr />").append(yb,tb.append(ob.append(ab))));var rb=0,hb=0,pb={kernel:"",ui:"",color:"",timer:"",scramble:"",stats:"",tools:"",vrc:""};$(function(){Wa();Ua.addButton("property",
BUTTON_OPTIONS,w,1);ea("property","property",Ta)});return{get:z,set:ma,reg:function(a,b,c,f,d,n){cb=!0;void 0==gb[a]&&(gb[a]={});gb[a][b]=[void 0,c,f,d,n];ib[b]=d[0];ib["sr_"+b]=2==(n&2);h("property",[b,z(b),"set"])},getSProps:function(){var a={},b;for(b in Sa)0!=b.indexOf("sr_")&&z("sr_"+b,!1)&&(a[b]=z(b));return a},setSProps:function(a){for(var b in ib)0!=b.indexOf("sr_")&&z("sr_"+b,!1)&&(b in a?ma(b,a[b],"session"):ma(b,ib[b],"session"))},load:Wa,reload:r}}(),r=d.get,f=d.set,Wa=d.reg;$(function(){var a=
LANG_CUR||"en-us";Wa("kernel","lang",1,"Language",[a,(LANG_SET+"|h").split("|").slice(1),(LANG_STR+"|help translation").split("|")]);f("lang",a);ea("kernel","property",function(b,c){c[1]!=a&&"modify"==c[2]&&("h"==c[1]?confirm("Press OK to redirect to crowdin for translating cstimer")&&(window.location.href="https://crowdin.com/project/cstimer"):window.location.href="?lang="+c[1],f("lang",a))},/^lang$/);if($.urlParam("lang")){var b="lang="+$.urlParam("lang");document.cookie=b+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";
$.clearUrl("lang")}});var Ua=function(){function b(a,b,c,f){rb=rb||$("#leftbar");rb.children(".c"+f).click(c).find("span:first").html(b)}function n(){var a=$(this),b=a.data("module");ab[b].button?(a.removeClass("enable"),mb&&ab[b].auto||ab[b].div.stop(!0,!0).fadeOut(200,function(a){return function(){h("button",[a,!1])}}(b))):(a.addClass("enable"),h("button",[b,!0]),ab[b].div.stop(!0,!0).fadeIn(200),mb&&ab[b].auto&&ab[b].div.hide());ab[b].button=!ab[b].button;f(b,ab[b].button)}function w(){var a=$(this).attr("data");
f(a,!r(a,!1))}function Qa(a,b,c){wb.removeClass().addClass("dialog").addClass("dialog"+b);Db.html(c);Bb.children().appendTo(z);a[0].appendTo(Bb.empty());ub.empty();2>a.length?Bb.css("bottom","0"):Bb.css("bottom","2.5em");void 0!=a[1]&&ub.append(nb.unbind("click").click(function(){a[1]&&a[1]();Ra()}));void 0!=a[2]&&ub.append(sb.unbind("click").click(function(){a[2]&&a[2]();Ra()}));tb.unbind("click");void 0!=a[3]&&tb.click(function(){a[3]&&a[3]();Ra()});for(b=4;b<a.length;b++)ub.append($('<input type="button" class="buttonOK">').val(a[b][0]).unbind("click").click(function(a){return function(){a()&&
Ra()}}(a[b][1])));wb.stop(!0,!0).fadeTo(100,.98);tb.stop(!0,!0).fadeTo(100,.25);yb=!0;a[0].focus()}function Ra(){Bb.children().appendTo(z);wb.stop(!0,!0).fadeOut(100).removeClass();tb.hide();yb=!1;c()}function ma(){if(!mb){mb=!0;Sa();for(var a in ab)ab[a].auto&&ab[a].button&&ab[a].div.stop(!0,!0).fadeOut(100);h("ashow",!1)}}function Ta(){if(mb){mb=!1;Sa();for(var a in ab)ab[a].auto&&ab[a].button&&ab[a].div.stop(!0,!0).fadeIn(100);h("ashow",!0)}}function Sa(a){var b=!1,c;for(c in ab)if(ab[c].button){b=
!0;break}b&&!mb||a||jQuery.fx.off?rb.stop(!0,!0).fadeTo(200,1):rb.stop(!0,!0).fadeTo(200,.01)}function Ua(a){for(var b=0;7>b;b++)Ab[b]=kb(a.substr(4*b,4));f("col-font",kb(Ab[0],0,!0));f("col-back",kb(Ab[1],0,!0));f("col-board",kb(Ab[2],0,!0));f("col-button",kb(Ab[3],0,!0));f("col-link",kb(Ab[4],0,!0));f("col-logo",kb(Ab[5],0,!0));f("col-logoback",kb(Ab[6],0,!0));lb()}function lb(){for(var a="ns"==r("uidesign")?qb[1]:qb[0],b="#000"==kb(Ab[0])?-1:1,c=0;c<Gb.length;c++)a=a.replace("?",kb(Ab[Gb[c]&15],
(Gb[c]<<20>>24)*b));xb[0].styleSheet?xb[0].styleSheet.cssText=a:xb[0].innerHTML=a}function kb(a,b,c){var f,d;b=b||0;(d=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/.exec(a))&&(f=[d[1]+d[1],d[2]+d[2],d[3]+d[3]]);(d=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/.exec(a))&&(f=[d[1],d[2],d[3]]);for(a=0;3>a;a++)f[a]=parseInt(f[a],16),f[a]+=b,f[a]=Math.min(Math.max(f[a],0),255),f[a]=Math.round(f[a]/17).toString(16);return"#"+(c?f[0]+f[0]+f[1]+f[1]+f[2]+f[2]:f[0]+f[1]+f[2])}function db(a){return(a=
/^\s*((#[0-9a-fA-F]{3}){7})\s*$/.exec(a))?(Ua(a[1]),!0):!1}function ib(){return Ab.join("")}function gb(){var a=$(window).width(),b=$(window).height(),c=r("view");(Mb="m"==c?!0:"d"==c?!1:1.2>a/b)?$("html").addClass("m"):$("html").removeClass("m")}function Za(a,b){if("property"==a)switch(b[0]){case "color":if("u"!=b[1])if("i"==b[1]||"e"==b[1]){var c=ib(),n=prompt(EXPORT_CODEPROMPT,c);n&&n!=c&&!db(n)&&alert(COLOR_FAIL);d.set("color","u")}else Ua(Fb["r"==b[1]?~~(Math.random()*Fb.length):b[1]-1]);break;
case "font":"r"==b[1]?$("#container, #multiphase").css("font-family",["lcd","lcd2","lcd3","lcd4","lcd5"][~~(5*Math.random())]):$("#container, #multiphase").css("font-family",b[1]);break;case "col-font":case "col-back":case "col-board":case "col-button":case "col-link":case "col-logo":case "col-logoback":c=Tb.indexOf(b[0].substring(4,b[0].length));n=b[1];n=kb(n);Ab[c]!=n&&(Ab[c]=n,f("color","u"),lb());break;case "zoom":$("html").attr("class","p"+~~(100*b[1])),$(window).trigger("resize");case "view":gb();
break;case "uidesign":"mt"==r("uidesign")?$("html").addClass("mtds"):$("html").removeClass("mtds");lb();break;case "wndScr":cb("scramble","f"==b[1]);break;case "wndStat":cb("stats","f"==b[1]);break;case "wndTool":cb("tools","f"==b[1])}}function cb(a,b){ab[a]?b?ab[a].div.addClass("fixed"):ab[a].div.removeClass("fixed"):$(cb.bind(void 0,a,b))}function ob(){db(window.location.hash)&&(d.set("color","u"),$.clearHash())}var ab={},mb=!1,yb=!1,tb,rb,hb=$("<div />"),pb={scramble:"scrHide",tools:"toolHide",
stats:"statHide"},wb=$("<div />").addClass("dialog"),Db=$("<div />").addClass("title"),Bb=$("<div />").addClass("value"),ub=$("<div />").addClass("button"),nb=$('<input type="button" class="buttonOK">').val(OK_LANG),sb=$('<input type="button" class="buttonOK">').val(CANCEL_LANG);wb.append(Db,Bb,ub);var xb=$("<style>").appendTo("head"),qb="html,body,textarea,#leftbar{color:?;background-color:?}#leftbar{border-color:?}#logo{color:?;border-color:?;background-color:?}.mybutton,.tab,.cntbar{border-color:?}html:not(.m) .mybutton:hover,.mybutton:active,.tab:active,.mywindow,.popup,.dialog{background-color:?}.mybutton.enable,.tab.enable,.cntbar,.selected{background-color:?}#gray{background-color:?}html:not(.m) .times:hover,html:not(.m) .click:hover,.times:active,.click:active,textarea{background-color:?}.click{color:?}.mywindow,.popup,.dialog,.table,.table td,.table th,textarea,.tabValue,.opttable td.sr{border-color:?}html:not(.m) #avgstr .click:hover,#avgstr .click:active{background-color:?}select,input[type='button'],input[type='text']{color:?;background:?;border-color:?}input:disabled{background:?}.mywindow::before,.popup,.dialog,#leftbar::before";
qb=[qb+"{box-shadow:0 0 .6em ?}",qb+"{box-shadow:none}"];var Fb="#000#efc#fdd#fbb#00f#ff0#000 #000#ffe#ff9#ff0#00f#fa0#000 #fff#600#668#408#ccf#0ff#000 #fff#000#555#888#aaa#000#aaa #000#fff#ccc#ddd#555#fff#888 #fff#227#9c3#563#580#dad#000 #9aa#023#034#b80#28d#678#034 #678#ffe#eed#ffe#28d#678#eed".split(" "),Ab="#000 #efc #fdd #fbb #dbb #ff0 #000".split(" "),Gb=[0,1,545,5,549,6,546,2,3,0,546,4,546,545,0,3826,546,274,0],Tb="font back board button link logo logoback".split(" "),Mb=!1;$(function(){ea("ui",
"property",Za,/^(?:color|font|col-.+|zoom|view|uidesign|wnd(?:Scr|Stat|Tool))/);Wa("ui","zoom",1,ZOOM_LANG,["1","0.7 0.8 0.9 1 1.1 1.25 1.5".split(" "),"70% 80% 90% 100% 110% 125% 150%".split(" ")]);Wa("ui","font",1,PROPERTY_FONT,["lcd","r Arial lcd lcd2 lcd3 lcd4 lcd5 Roboto".split(" "),PROPERTY_FONT_STR.split("|").concat("Roboto")]);Wa("kernel","ahide",0,PROPERTY_AHIDE,[!0]);Wa("ui","uidesign",1,PROPERTY_UIDESIGN,["n",["n","mt","ns"],PROPERTY_UIDESIGN_STR.split("|")]);Wa("ui","view",1,PROPERTY_VIEW,
["a",["a","m","d"],PROPERTY_VIEW_STR.split("|")]);Wa("color","color",1,PROPERTY_COLOR,["1","uer12345678".split(""),PROPERTY_COLOR_STR.split("|")]);var c=PROPERTY_COLORS.split("|");Wa("color","col-font",3,c[0],["#000000"]);Wa("color","col-back",3,c[1],["#eeffcc"]);Wa("color","col-board",3,c[2],["#ffdddd"]);Wa("color","col-button",3,c[3],["#ffbbbb"]);Wa("color","col-link",3,c[4],["#0000ff"]);Wa("color","col-logo",3,c[5],["#ffff00"]);Wa("color","col-logoback",3,c[6],["#000000"]);Wa("color","colcube",
4,"Cube",["#ff0#fa0#00f#fff#f00#0d0"]);Wa("color","colpyr",4,"Pyraminx",["#0f0#f00#00f#ff0"]);Wa("color","colskb",4,"Skewb",["#fff#00f#f00#ff0#0f0#f80"]);Wa("color","colmgm",4,"Megaminx",["#fff#d00#060#81f#fc0#00b#ffb#8df#f83#7e0#f9f#999"]);Wa("color","colsq1",4,"SQ1",["#ff0#f80#0f0#fff#f00#00f"]);Wa("ui","wndScr",1,PROPERTY_WNDSCR,["n",["n","f"],PROPERTY_WND_STR.split("|")]);Wa("ui","wndStat",1,PROPERTY_WNDSTAT,["n",["n","f"],PROPERTY_WND_STR.split("|")]);Wa("ui","wndTool",1,PROPERTY_WNDTOOL,["n",
["n","f"],PROPERTY_WND_STR.split("|")]);tb=$("#gray");$(".donate").appendTo(hb);b("donate",BUTTON_DONATE,function(){Qa([hb,0,void 0,0],"stats",BUTTON_DONATE)},5);rb.appendTo(a).mouseenter(function(){Sa(!0)}).mouseleave(function(){Sa()});setTimeout(Sa,3E3);wb.appendTo("body");$(window).resize(gb);$(window).bind("hashchange",ob);ob();"https:"!=location.protocol&&(document.title="[UNSAFE] "+document.title)});return{addWindow:function(b,c,f,d,z,Ra){f.appendTo(a);f.addClass("mywindow");f.append($('<span class="chide" data="'+
pb[b]+'"></span>').click(w));d=r(b,d);rb=rb||$("#leftbar");rb.children(".c"+Ra).addClass(d?"enable":"").data("module",b).click(n).find("span:first").html(c);ab[b]={button:d,div:f,auto:z};d?f.show():f.hide();h("button",[b,d])},addButton:b,showDialog:Qa,hideDialog:Ra,isDialogShown:function(a){return wb.hasClass("dialog"+a)},exportColor:ib,nearColor:kb,setAutoShow:function(a){(a=a||!r("ahide"))?Ta():ma();timer.showAvgDiv(a)},hide:ma,show:Ta,isPop:function(){return yb},toggleLeftBar:Sa}}();(function(){function a(a,
n){if("bgImgO"==n[0])h.stop(!0,!0).fadeTo(0,n[1]/100);else if("bgImgS"==n[0])if("n"==n[1])h.hide(),w="n";else if(h.show(),"u"==n[1])if("modify"==n[2]){var Ra=prompt(BGIMAGE_URL,b);z.exec(Ra)?(b=Ra,h.attr("src",b),f("bgImgSrc",b)):(alert(BGIMAGE_INVALID),f("bgImgS",w),d.reload())}else b=r("bgImgSrc",b),h.attr("src",b);else w=n[1],h.attr("src",c[n[1]])}var b="",c=["https://i.imgur.com/X7Xi7D1.png","https://i.imgur.com/K4zbMsu.png","https://i.imgur.com/Fsh6MaM.png"],h,w=0,z=/^((http|https|ftp):\/\/)?(\w(:\w)?@)?([0-9a-z_-]+\.)*?([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(:[0-9]{2,6})?)((\/[^?#<>\/\\*":]*)+(\?[^#]*)?(#.*)?)?$/i;
$(function(){h=$("#bgImage");ea("bgImage","property",a,/^bgImg[OS]$/);Wa("ui","bgImgO",2,BGIMAGE_OPACITY,[25,0,100]);Wa("ui","bgImgS",1,BGIMAGE_IMAGE,["n",["n","u",0,1,2],BGIMAGE_IMAGE_STR.split("|").slice(0,-1).concat(1,2,3)])})})();var Qa=function(){function a(){b(JSON.parse(this.result))}function b(a){if(confirm(IMPORT_FINAL_CONFIRM)){if("properties"in a){var b=localStorage.wcaData||"{}",c=localStorage.gglData||"{}",f=localStorage.locData||"";localStorage.clear();localStorage.wcaData=b;localStorage.gglData=
c;localStorage.locData=f;localStorage.properties=mathlib.obj2str(a.properties);d.load()}storage.importAll(a,function(){location.reload()})}}function c(a){this.files.length&&a.readAsBinaryString(this.files[0])}function f(a){if(a.target===pb[0]||a.target===hb[0])a=JSON.parse(localStorage.wcaData||"{}").cstimer_token;else{a=prompt(EXPORT_USERID,localStorage.locData||"");if(null==a)return;localStorage.locData=a}if(a&&/^[A-Za-z0-9]+$/.exec(a))return a;alert(EXPORT_INVID)}function h(a){var b=f(a);if(b){var c=
LZString.compressToEncodedURIComponent(Ab),d=$(a.target),n=d.html();d.html("...");$.post("https://cstimer.net/userdata.php",{id:b,data:c},function(a){0==a.retcode?alert(EXPORT_UPLOADED):alert(EXPORT_ERROR);d.html(n)},"json").always(function(){d.html(n)})}}function r(a){var c=f(a);if(c){var d=$(a.target),n=d.html();d.html("...");$.post("https://cstimer.net/userdata.php",{id:c},function(a){d.html("......");var c=a.retcode;if(0==c)try{b(JSON.parse(LZString.decompressFromEncodedURIComponent(a.data)))}catch(Hb){alert(EXPORT_ERROR)}else 404==
c?alert(EXPORT_NODATA):alert(EXPORT_ERROR);d.html(n)},"json").error(function(){alert(EXPORT_ERROR)}).always(function(){d.html(n)})}}function w(){var a=JSON.parse(localStorage.gglData||"{}");a.access_token&&(Bb.html("Check File List..."),$.ajax("https://www.googleapis.com/drive/v3/files?spaces=appDataFolder&orderBy=modifiedTime desc&q=name%3D%27cstimer.txt%27&access_token="+a.access_token,{type:"GET"}).success(function(c,f,d){c=c.files;if(0==c.length)alert("No Data Found"),Wa();else for(Bb.html("Import Data..."),
$.get("https://www.googleapis.com/drive/v3/files/"+c[0].id+"?alt=media&access_token="+a.access_token).success(function(a){try{a=JSON.parse(LZString.decompressFromEncodedURIComponent(a))}catch(Jb){alert("No Valid Data Found");Wa();return}b(a)}).error(function(){alert(EXPORT_ERROR+"\nPlease Re-login");cb()}),f=10;f<c.length;f++)$.ajax("https://www.googleapis.com/drive/v3/files/"+c[f].id+"?access_token="+a.access_token,{type:"DELETE"})}).error(function(){alert(EXPORT_ERROR+"\nPlease Re-login");cb()}))}
function z(){var a=JSON.parse(localStorage.gglData||"{}");a.access_token&&(ub.html("Create File..."),$.ajax("https://www.googleapis.com/upload/drive/v3/files?uploadType=resumable&access_token="+a.access_token,{type:"POST",contentType:"application/json",data:JSON.stringify({parents:["appDataFolder"],name:"cstimer.txt"})}).success(function(a,b,c){a=c.getResponseHeader("location");ub.html("Uploading Data...");$.ajax(a,{type:"PUT",contentType:"text/plain",data:LZString.compressToEncodedURIComponent(Ab)}).success(function(a,
b,c){alert("Export Success");Wa()}).error(function(a,b,c){alert(EXPORT_ERROR);cb()})}).error(function(a,b,c){401==a.status?alert("Timeout, Please Re-login"):alert(EXPORT_ERROR);cb()}))}function ea(){storage.exportAll(function(a){a.properties=mathlib.str2obj(localStorage.properties);Ab=JSON.stringify(a);window.Blob&&(a=new Blob([Ab],{type:"text/plain"}),xb.attr("href",URL.createObjectURL(a)),xb.attr("download","cstimer_"+mathlib.time2str(new Date/1E3,"%Y%M%D_%h%m%s")+".txt"));kernel.showDialog([mb,
0,void 0,0,[EXPORT_ONLYOPT,ma],[EXPORT_ACCOUNT,Ta]],"export",EXPORT_DATAEXPORT)})}function Qa(a){a=LZString.compressToEncodedURIComponent(JSON.stringify(a));var b=prompt(EXPORT_CODEPROMPT,a);if(b&&b!=a){try{b=JSON.parse(LZString.decompressFromEncodedURIComponent(b))}catch(Mb){return}return b}}function ma(){var a=JSON.parse(localStorage.properties),b={},c;for(c in a)c.startsWith("session")||(b[c]=a[c]);b=Qa(b);if(!b)return!1;a=JSON.parse(localStorage.properties);for(c in a)c.startsWith("session")&&
(b[c]=a[c]);localStorage.properties=mathlib.obj2str(b);location.reload();return!1}function Ta(){var a={wcaData:localStorage.wcaData,gglData:localStorage.gglData,locData:localStorage.locData},b=Qa(a);if(!b)return!1;for(var c in a)b[c]&&(localStorage[c]=b[c]);location.reload();return!1}function Sa(){var a=JSON.parse(localStorage.wcaData||"{}");rb.unbind("click");hb.unbind("click").removeClass("click");pb.unbind("click").removeClass("click");a.access_token?(a=a.wca_me,tb.html("WCAID: "+a.wca_id+"<br>Name: "+
a.name),rb.click(function(){confirm(EXPORT_LOGOUTCFM)&&Za()}).addClass("click"),hb.addClass("click").click(r),pb.addClass("click").click(h)):(tb.html(EXPORT_LOGINWCA),rb.click(function(){location.href=ob}).addClass("click"))}function Wa(){var a=JSON.parse(localStorage.gglData||"{}");Db.unbind("click");Bb.unbind("click").removeClass("click").html(EXPORT_FROMSERV+" (Google)");ub.unbind("click").removeClass("click").html(EXPORT_TOSERV+" (Google)");a.access_token?(a=a.ggl_me,wb.html("Name: "+a.displayName+
"<br>Email: "+a.emailAddress),Db.click(function(){confirm(EXPORT_LOGOUTCFM)&&cb()}).addClass("click"),Bb.addClass("click").click(w),ub.addClass("click").click(z)):(wb.html(EXPORT_LOGINGGL),Db.click(function(){location.href=ab}).addClass("click"))}function Za(){delete localStorage.wcaData;Sa()}function cb(){delete localStorage.gglData;Wa()}var ob="https://www.worldcubeassociation.org/oauth/authorize?client_id=63a89d6694b1ea2d7b7cbbe174939a4d2adf8dd26e69acacd1280af7e7727554&response_type=code&scope=public&redirect_uri="+
encodeURI(location.href.split("?")[0]),ab="https://accounts.google.com/o/oauth2/v2/auth?client_id=738060786798-octf9tngnn8ibd6kau587k34au263485.apps.googleusercontent.com&response_type=token&scope=https://www.googleapis.com/auth/drive.appdata&redirect_uri="+encodeURI(location.href.split("?")[0]),mb=$("<div />"),yb=$('<table class="expOauth expUpDown">'),tb=$("<td></td>"),rb=$("<tr>").append('<td class="img"/>',tb),hb=$('<a class="click"/>').html(EXPORT_FROMSERV+" (csTimer)").click(r),pb=$('<a class="click"/>').html(EXPORT_TOSERV+
" (csTimer)").click(h),wb=$("<td></td>"),Db=$("<tr>").append('<td class="img"/>',wb),Bb=$('<a class="click"/>'),ub=$('<a class="click"/>'),nb=$('<input type="file" id="file" accept="text/*"/>'),sb=$('<input type="file" id="file" accept="text/*"/>'),xb=$('<a class="click"/>').html(EXPORT_TOFILE),qb=$('<a class="click"/>').html(EXPORT_FROMSERV+" (csTimer)").click(r),Fb=$('<a class="click"/>').html(EXPORT_TOSERV+" (csTimer)").click(h),Ab;yb.append($("<tr>").append($("<td>").append($('<a class="click"/>').html(EXPORT_FROMFILE).click(function(){nb.click()})),
$("<td>").append(xb)),$("<tr>").append($("<td>").append(qb),$("<td>").append(Fb)),$("<tr>").append($("<td colspan=2>").append($('<a class="click"/>').html(EXPORT_FROMOTHER).click(function(){sb.click()}))));$(function(){Ua.addButton("export",BUTTON_EXPORT,ea,2);mb.append("<br>",$('<div class="expOauth">').append($('<table id="wcaLogin">').append(rb),$('<table class="expUpDown">').append($("<tr>").append($("<td>").append(hb),$("<td>").append(pb)))),$('<div class="expOauth">').append($('<table id="gglLogin">').append(Db),
$('<table class="expUpDown">').append($("<tr>").append($("<td>").append(Bb),$("<td>").append(ub)))),yb);if(window.FileReader&&window.Blob){var b=new FileReader;b.onload=a;var f=new FileReader;f.onload=function(){0==stats.importSessions(TimerDataConverter(this.result))&&logohint.push("No session imported")};nb.change(c.bind(nb[0],b));sb.change(c.bind(sb[0],f))}$.urlParam("code")?(tb.html(EXPORT_LOGINAUTHED),$.post("oauthwca.php",{code:$.urlParam("code")},function(a){"access_token"in a?localStorage.wcaData=
JSON.stringify(a):(alert(EXPORT_ERROR),Za())},"json").error(function(){alert(EXPORT_ERROR);Za()}).always(function(){Sa();$.clearUrl("code")}),ea()):Sa();if($.hashParam("access_token")){var d=$.hashParam("access_token");wb.html(EXPORT_LOGINAUTHED);$.get("https://www.googleapis.com/drive/v3/about",{fields:"user",access_token:d},function(a){"user"in a?localStorage.gglData=JSON.stringify({access_token:d,ggl_me:a.user}):(alert(EXPORT_ERROR),cb())},"json").error(function(a,b,c){401==a.status?alert("Timeout, Please Re-login"):
alert(EXPORT_ERROR);cb()}).always(function(){Wa();$.clearHash()});ea()}else Wa()});return{exportProperties:ma}}(),Ta=/^([\d])?([FRUBLDfrubldzxySME])(?:([w])|&sup([\d]);)?([2'])?$/,ma=!0;$(function(){Wa("kernel","useMilli",0,PROPERTY_USEMILLI,[!1]);Wa("kernel","timeFormat",1,PROPERTY_FORMAT,["h",["h","m","s"],["hh:mm:ss.XX(X)","mm:ss.XX(X)","ss.XX(X)"]]);z.appendTo("body");a.appendTo("body");$(document).keydown(function(a){ma=!0;h("keydown",a);timer.onkeydown(a);return ma});$(document).keyup(function(a){ma=
!0;h("keyup",a);timer.onkeyup(a);return ma});$("#touch").bind("touchstart",function(a){c();timer.onkeydown({which:32});a.preventDefault&&a.preventDefault()});$("#touch").bind("touchend",function(a){c();timer.onkeyup({which:32});a.preventDefault&&a.preventDefault()});$("#touch").bind("touch",function(a){a.preventDefault&&a.preventDefault()});$("#touch").mousedown(function(a){1==a.which&&r("useMouse")&&(timer.onkeydown({which:32}),a.preventDefault&&a.preventDefault())});$("#touch").mouseup(function(a){1==
a.which&&r("useMouse")&&(timer.onkeyup({which:32}),a.preventDefault&&a.preventDefault())})});$(function(){for(var a=["properties","cachedScr","wcaData","gglData","locData"],b=0;b<a.length;b++)try{JSON.parse(localStorage[a[b]]||"{}")}catch(Ra){delete localStorage[a[b]]}var c=[];for(b=1;b<=~~r("sessionN",15);b++)a.push("session"+b);for(b=0;b<localStorage.length;b++){var f=localStorage.key(b);-1==a.indexOf(f)&&c.push(f)}for(b=0;b<c.length;b++)delete localStorage[c[b]]});return{pretty:w,getProp:r,setProp:f,
regProp:Wa,getSProps:d.getSProps,setSProps:d.setSProps,regListener:ea,addWindow:Ua.addWindow,addButton:Ua.addButton,pushSignal:h,showDialog:Ua.showDialog,hideDialog:Ua.hideDialog,isDialogShown:Ua.isDialogShown,exportColor:Ua.exportColor,clrKey:function(){ma=!1},temp:z,reprop:d.reload,parseScramble:function(a,b){for(var c=[],f=(r("preScr")+" "+a).split(" "),d,n,h,w=0;w<f.length;w++)d=Ta.exec(f[w]),null!=d&&(h="FRUBLDfrubldzxySME".indexOf(d[2]),14<h?(d="2'".indexOf(d[5]||"X")+2,h=[0,4,5][h%3],c.push([b.indexOf("FRUBLD".charAt(h)),
2,d]),c.push([b.indexOf("FRUBLD".charAt(h)),1,4-d])):(n=12>h?~~d[1]||~~d[4]||("w"==d[3]||5<h)&&2||1:-1,d=(12>h?1:-1)*("2'".indexOf(d[5]||"X")+2),c.push([b.indexOf("FRUBLD".charAt(h%6)),n,d])));return c},blur:c,ui:Ua,pround:function(a,b){return w(Sa(a),b)},round:Sa}});var logohint=execMain(function(){function h(){c=void 0;ea()}function ea(){if(b)a.removeClass("hint"),a.html("ABOUT"),c=void 0;else if(void 0==c)if(c=Sa.shift(),void 0==c)a.removeClass("hint"),a.html("csTimer");else{a.html('<div class="pad" style="width: '+z.width()+'px; ">csTimer</div><span style="font-family: sans-serif; margin: 0 1em 0 1em;">'+c+'</span><div class="pad" style="width: '+z.width()+'px; position: absolute;">csTimer</div>');a.removeClass("hint");var d=.1*(c.length+15)+"s";a.css({"-webkit-animation-duration":d,
"-moz-animation-duration":d,"animation-duration":d});setTimeout(function(){a.addClass("hint")})}}function w(){var a=["Webkit","Moz","O","ms","Khtml"],b=document.createElement("div");if(void 0!==b.style.animationName)return!0;for(var c=0;c<a.length;c++)if(void 0!==b.style[a[c]+"AnimationName"])return!0;return!1}var Sa=[],c,z,a,b=!1,d=!1;$(function(){z=$("#logo");a=z.children().children();a.bind("oanimationend animationend webkitAnimationEnd",h);var c=$("#about"),f=c.children("h1").appendTo(kernel.temp).html();
z.mouseenter(function(){b=!0;ea()});z.mouseleave(function(){b=!1;ea()});z.click(function(){"https:"!=location.protocol&&confirm("Your access to csTimer is unsafe. Press OK for safe access.")&&(location.protocol="https:");c.show();kernel.showDialog([c,0,void 0,0],"logo",f)});c.hide();kernel.regProp("kernel","useLogo",0,USE_LOGOHINT,[!0]);d=w()});return{push:function(a){d&&kernel.getProp("useLogo",!0)&&(Sa.push(a),ea())}}});var timer=execMain(function(h,ea,w,Sa,c,z){function a(){var a=w("useIns");if(!0===a||"a"==a)return!0;if(!1===a||"n"==a)return!1;if("b"==a)return null==/^(333ni|444bld|555bld|r3ni)$/.exec(w("scrType"))}function b(a,b){var c=[];a=(a||"").match(/#[0-9a-fA-F]{3}/g)||[];for(var f=0;f<a.length;f++)c.push(~~kernel.ui.nearColor(a[b[f]],0,!0).replace("#","0x"));return c}function d(a){var b=a.which;if(17==b)if(a=a.originalEvent,1==a.location||1==a.keyLocation)b=256;else if(2==a.location||2==a.keyLocation)b=
257;return b}var r,f=-1,Wa=[],Ua,Qa=[],Ta={play:$.noop},ma=Ta,Va=Ta,n=Ta,Xa=Ta;void 0!==window.Audio&&(ma=new Audio("data:audio/mp3;base64,//M4xAATSYYMAUxAAFnLyWJYln7RIAmBMD5PP7MLFh+v9gwMDBZyIn6JW5Ydg3AXBeH59S7vomiV+iILi7veiV///6In/wgoKGI7/+CbwQDH/gg7/5QEP5QMKs/q0cGlVL/ljQ06DnN/5yXn//M4xBEYsl6gAZmQASxhYji4zI0B9iVDm+gt1kQHSPZI/sgyZbMyXMRcn6bsgzk2M2J3LBLCgP5fSQQW7ikxUiqM2RpJiFP/f+Sw5hE80QQb//qbbzpPigBWhVKI71IfgLsD/GxF3etnsPVA//M4xA0YQhbUVc9IAYJsgBw94rEX5Zn32GB9ZJjM7WRsZByUJeG5tRzP///Pf5e/fnvj/6fnaROkqmWIVzyANulyUmy0y1+SM9qVIYeNThdSTt+Mr1dybYemoxoARO2BkwVpYBgP+hht2G3h//M4xAsXug7E9VgwA7hYwgWS6ksd1YZlz3SGJu9Tf9Nnh/QES1GjUas4DDPRsz6mUfOZ3RfFmnfdROWbCX//9enmoPCRJo0UuSOVVU+V6fM7/5rt///nr+Ei8PQumSH7twFhltkx/BAAAFsm//M4xAsYCnKY95k4ABXvCvTG+ZhpjLmGBPUOxY3uVbnhYC4i/qKgAl+s8ajiCcam+fG70NEYoMjT/vwWlhsMgsAjmx1l/gwsIok2JGjyp+n9yZUajYIgaaj///UfPJqlScmqAFAtFAtFottF//M4xAkXS38GX4EoArXUKwIPwD8ku8n7kImb5JCZqG+RnJ9PnezvO6//xA8+8g+tVcRFjauathAUMIAg8OCgodAezJxwoKOn/djpbbVGFFOQUZkIuqDVK7HdP6bt///jx1VoiZeQAK3+k2aJ//M4xAoX40MLHcg4AlCJVEGgLifPIFMGlO////2X6/6SbmA9JMKweDx2qhCSf/1Pfi1TVnqpD/55tUNLr/1qk5p6O2utkSc8w0003od7sk9roq6oceebQ46drqNR5yw+xpV1WIZlWJqoxBjD//M4xAkXIOsTGs4GXjzGCDgkBTJvzm+iZZL5OW2BQRQBdEfi9JG599JMa2qxISC8DMToZwZIgjTOMAiYj/MZDgIJ2fNmfZFBebWkAANCaSsG/c0cwBRxz//sPu///i3+hZvpd//JGObwoVXH//M4xAsXCPseWMMRI8KLBT5VTQZUaR+psYbbV0pcQAUJGtAxqeZjEEUMqUIQMQiIkmrChKdhgrzxluLhsqa6EwWtCAvBcUQPulnoHANyQxiijuwFEl1g/ilr/3+2/SqCVmRApRzgVEsmKcqa//M4xA0S+KLxv0lIAhehSRNXiyJCQgBBEhJYImmHiEERSGUIpCoBh7FgaUDLuoeCsFgayolLVHg0VO6w1LAXLfrLD8l9n2Tv//iIO5R88yRoxfLP60GESF0/nDMiacux54YAujYBIUHPuRFR//M4xCAcMsawAZhQAODgtEJMKyu88L8FgVhXC4IU1e74kCDGBMhIcWIyMSDf3GotCEFUPwGBgxceEQvKHf88kHCckfod///7Hj8w8uSD99yMyQyY3+Z/2c40nLu+VQKFvTbkoA8CijpNUkRQ//M4xA4UohrVn8YoAhQVpc+iJgUeAYryHnlIYPHDplFSoYxSxEVp6loHgsMDxxIWyzGo6lMY0vyiI4xUMpfvZ9v+WVkMpBIPIZyoJCTyKYKh1QEk3DdbkAgLmdaIAcZrvsZeRo1qN88WJe2b//M4xBoU0nq1t08oAkWHSapRERYpS1ZNEOpyCp0Z++Uhjcm/mvnRL9Dv6nRT3br/9a/daqivOpyT8pTzgdIm56oH3p//+tVpyS2yWSSWyWi261igBtlcTNuVMBDryxNmQvt1gMnh+q60Ycbs//M4xCUeAybGX5g4AkzzRWNhIP6tk+xpFjEOmsZHS80mXQ8xH5r/NJFqHl6Hdf4nJElTqabU3/uYY4PRuJghEUkNweCKPgJKVRTen+aNyZDdP////zFJsJA0nEDxuhAcDEgkEYjEkkgkjUJZ//M4xAwXgx7yX4IoAgCeXYgZ9oovHihUXv7Ob1OeQaRxi+hFflYXMXqt/92vlci/8+rttZXrai+ScQFMgn+Zv+1DvnPJDjTnnTd2UUIKCjyD55GfPCQixBcxX/z//BO33bDbW2PRBjsKUcCg//M4xA0UGqL2W8gQAtSYFFPQa5Z7v//KBhBHkIrkVz/oxFc4s7//5SlKvXuV35So77I900dv1///09f/SoslqKxA4cB8FoiEsBLGq7ksGoGKm+utulrklKqGKg0DDy3oNQvNH1uL2O9JZx/n//M4xBsUYQLiWsCMqo2CtyElAU930DGtGeUSEkYJXP///9Mk4BAkwIKORLN/LB2eh3K2nip0RZW3/DX/+HSxP/+s7spJrvAhfRAKXHSVTp/qR1yZwT//SsEOql7ChW9Q/OMbWcqTwk5mHqx3//M4xCgVUiJ0VEjKfJvMY0oqpWoY8RDupfzZhIqlN///0EmUDU9LHg0HOCodwVU8AnQaBUFfrKkt5CppLbfCQZI1EFRdF8qqmnnCQw/NfiYYhS57l/GgCLKyId/5H+VALvUe/75r5Xyx5n8e//M4xDENOQJoHjBKtLM67iEbxmn4ZnCdCLoqFQ9kxWiedXM7lVzLTKYul04P0UbpIFFAR5lxub6eFzRpwGWZebNGnFXF5s0//7s7O+bm5RpxRYJhmKEv//5UKiwtrUxBTUUzLjk5LjVVVVVV//M4xFsTMXHgAHsMHFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"),
Va=new Audio("data:audio/mp3;base64,//M4xAASgV4kFUwQACCAxs7JZPjOBIJicEBEdOxLJ6/6P3mlKTvt5zn5CBCEbI2c7oc57qf/XyEZTnQOBgYGLP/5c/1ygICQEP//EYPh+XBAMQ+Xf/wfbFqFNoEQoEFQEAoFAB+AVB4IMjon//M4xBUaKkrKX48oAFfHUmf89zpuUPoIoH/EBQgAD2Doh8EcCEYrHQOfg5IqAYuEADFAFIHufiYfOwfFyFFBYcHRAO/9XIRpJyy1dxT/+MFHac/xYuZar/fl+6pO7///UgWBacsstohOUoCw//M4xAsYGUbNn8wwAAMnmZ+cDu8djuSCYwYOmCwwdXtktWsTP35ZVoIgRJ5bXk6qf1VUR/f45seXnP2/2UZaUqN4JCMUOZ/QXBZBJxhp0akGam/eSOtFNysFTrfvaRb86SJV/8UPUrp+zSj1//M4xAkWefLEAMMG6O9KX1ERIatSpfyIuESQIBoKtVAipJxzbQQL48CaGZwhwiYAxOflcSz+973gNziP9c/v5/0/PsIzp/FcDcOP1BFm4cWZOejhzT30AwOIEAKnIInmpCW45KAB9YbUZ/KO//M4xA4XWgcGXnnS9wSLgdo+4uIZd65P8BmAVW7Y7RdHPK0MI1NPaSAaisaW6PReado2a3tr53Z8shskyFmpyIk2z3asoILchTb6As0mgosPDodNkqQyWtyzkN9VAOkEPxM62BmWyoOLzh2U//M4xA8Wo0bYVmBTPhU4VyIfetOVNubJtJwyjshE7b2ZpJtlITxc1n/J8XP///PMvDxcXPIwoA2s1hyf////4epZ4XqCenBIuF2M//9QvWE0dqBj/xLGEsUPE0jEFdMCsIqJSpRLJos62sp0//M4xBMZMz68BGoN5Wl11LRQpL29v/6e3///639n///10zdl8ltVyki9kGU76S73MSKDiwVgLnoYqS8dkGQxmRWYCIdkDyemBEJt8sECJ2ygAEKBwu6AY8ogACBZO52rx//7v/////6///////M4xA0WszrIAAhS/P6/8eVUMxJ6xGbUUV4y5GK2pLIUAIUTHlEKNVUUhYRFAMCkbC4YGRWQHAYoRJsg2ygsiFIlCSHN7VkjS8W1rJ2LYOTYG2bOm0LajK9swZdtrdttoNb7LQuMMOlQ3VRo//M4xBEZGU8SWMPS0tIV9Mkfd/1pqxzFRKswhSTgwWwQgQwhCwHACoEwdQyVi3qp5kt5l4gufzHb1ftPqNOHREJQLGOQMB6sJEcosEZvF0clGJo0hQoSQm2gQNrHxOBCKpL/dt/t4P83PyNq//M4xAsWcU8uWU9gA8fiEqmxOxkCxR4akYDKVhCQ5ihISWhdx7Aacl4qxKysejiaMq0RKVKjw1EIlXx7kNyh+YhTYQTIuJ6qH1XMejdTtLLsn1CrEeL7987UtHZP8DNiNI+8XNT2ZP9/uW15//M4xBAYwl6sAZhQAFu1p+7QEoFEBV6g1nEhETM/vMKP1RNwuAaAayAeGj0oc6q/i2hhO+PSRjjjX/FwXAsFAWAaAQzeahzov+TmOYx/5pqev7f9jx4WAgbOC3//B9weLoMQSAOtHnOtlwEc//M4xAwYUX64AY94ADqMNCC4LhWjHbCcscWKI+gkIRT5wve2X0GfevrOLVi2pfW/m3v4L2Die0CG/rPiJDe/fhRLzvp9YpesOBPrWKfGcRgVO0IKLecj34HDowGogX0kfwaqGKkalAB07DTR//M4xAkVUXa4988oA96hJKmadYbXjLDpmV8xPo1k6wuL0PCxnMJGMhSyrzFKVW7Sh0OgUtEsVmKxerFKpf0Q4iHg87wUFGhQV/pgoKCjcgoKahBS/0L/v/XqRrkvl1uuAHPRw8YD6obbAZWC//M4xBIUulrVv0YYAsy5WpzC/FjkoESgR4UTt+wwhRQCEFLAKVdjpuarL+uveMFSGZM6nmZMaEOIWDlW/5/+0r5//SO+5f3a+jXFKZxDY3GQ/s1JvAR00Bwm8O7JGQqoMUFo+y7mpgYG2r2Z//M4xB4bcyaYAY+AANJE6Zpfv7lAmES+t//rfSMzhikn//v2djA6YGqX//rdb6ponW8jSfJ8ibkXHX//3y4gabqQ8Zw1DEgm8QXFPFzCAAEwcY4A9QdIpc9///iBPL////////3//6M9cxlS//M4xA8XA0bMC8A4AsjHnuerv7VVCh9rmHodKIIiiUY7mD6VLmXU0bsJZcfcyYaPisRxwBgOwHnjQeMG4TgVGQhDhUTEwinA9B6g6NmFprmIhYajYcHygjk2V4VncGh/pRDV74GwDcP0CGGr//M4xBITSQr3GHgSwgw5n97yKxUMaHpRn1/7kgiEwoT78OtpAEDCCkDp+fpVl4UQo5o98MXf/aeWXBfInf////X4SBp//7b0qgCIGi9cuqFSVYVE2qotihQ5KWrE2fOIiAMVuhpaCTI7/0Dw//M4xCMUaO6dskgKwLA0WAQe/sCeCz8RJOxE10qrOhphGAQkGn1nexseGgoPBWMWAhKWWRDTIK5UA5ZtAroFgVAmNWRLlixNLy/xbJKikZ29gwqyerczBhX/o6Kibf/0+/1bYxSlaitzCKf3//M4xDAVGx5cFEiKzEdAiCD1rIHqlm6GpKZeWj6Gh46mGkVqGKVhIPHby1Zy8pfCQqpAWOqAYgcSGJhoGRGZHsMxdJkWFmegGRWgKiMBC6xUMgJn8e2aBkUDxrjxVMCirFixoKioo3FW/4sS//M4xDoR2CIEAkiEADQVFG4q38BBIRhkyEm1TEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"),
n=new Audio("data:audio/mp3;base64,//M4xAATEZoICUEQACAAAAAAVjGPIABjGMYxjGQhG/qc7znAAAQQhCEIBgZzn//nfIT///OACCAgCAIA+D4f1AgCDu/4Pg//BAEAQBD+D4Pg4CDogB8PlAQV/lyZtCAp/v2yc4zIHc/+UWAK//M4xBIZMvKIAZqQAQy6fRSNAxgABQc3y4i7ilB2l4t/20mIGbn//xmCKEgXDEr/+2w43WSBgVCJ/+mtTILdRIHCXMRzx3kQZD/9uympqz5UM0lui5eOEQNP/+r//N5Z/e8LkFm0AKioK/UN//M4xAwX0eawAdhAAUrHCF0Xyt8mH+FmJNO7GaWW0L6MPJXkR+2bc26/iL/uuZmIOmYGTZtbRo0aTfrOMMts4YKnqUUfYjnHGhktCIExYjMNlU6UuxpZy0mb/nM+giFCFaQQgI7LAFMBlv/y//M4xAsX4mbGXsIKnHpCwXElk/qwtoiMigBBRYYAMG6v9geFWqiha0rlTWVobWLi5m11Vmyl9ZVVaWYqKvf+yGsipuxhoULRZkKJGs9SX4wt/f67oUPCYo0ih1Et/Of4NOUpySxlRsf7ZHkf//M4xAoXSl68flmEulpKJzj4HRAjce2at13fUYlVa81Ao7xm5DvuRGYrbf1B1ZtrXZqLSczrZVqtDG85ZwpvKJarJLMnQxnUvK2//CiRQaXEHfWHyDUPGvKdAnuygnfJqiqqAaP/y5zeISIf//M4xAsWMzKwVBhTraE4JQMQ82CUXHSsAKLmIWCKLSuDZK6KLh/93cGBwg5oV5fy3/////5f/cqr14yU5IbSzejWjcl3qChaEaQIIGKuYrKMJvAILCg9DdUmbiO/5EAFgTgHV3kXGB5LzZhY//M4xBEXU0K8CkCTPLCnbWj/8LVfenb+v/9lMdhLkuZ////+h1e0////ZWuiu25JXU4gIdVOhgZI5auESAnYXYPtGLUVNkw7AZqT2UR1DRMOtEiMdJ1sojbqlksl0lij/vaaaWCAoUoOsOYj//M4xBIZWW7yWNMHKgmVLqEkBMvdl3bkthguWpAMJL5dmCBEMMvMFyiijcL0EPwsO/78WKl4Qx4ODxz9SJW37VEMH3l3Vxg5RrFjA8GI/soju6ZTz88GLg1nCLfLsQODdZMRym1ANb0zCehG//M4xAsU4SrBjgvMHF48ZpdH8XJp18bP0yXW60P4TU4WFxtISSN2WosJZ57tW1Wz5kjP9f1uU8oycSAssqs7rDT4iJCUaBn01bMlSOf1AZ5D3f4l4hWAC+VSUH1YSABA8DgzLD94INFxHhUG//M4xBYUgzq09kBFXhnywvc/I/749Tqi5YJPyMGAtWO9FRGXONgyKILofPtDMho9WsaEq/9P/9eZGWRgyPkdzI/V9NCXBB+oZTwx/5ZkohiZfFYWGUnhLK43nk8bR3byGp2OQCms4M5k3dYz//M4xCMUYUqgKsFNDAaLS6pDeQeM4oGqVgmMfV/0df0+e75mZaYIerAmcBUFUJFXNty0TEQM06bMf/jVoBMla1FwGt16zGA8NQefkpVAN0tnbzz1C06KzuUensbO9SV2RyYMOpFsarqJI2lK//M4xDAVQXalH1kYAK/2GsnDmUuZ6l+FJuXQlnlBR08KxEVjwEKmGf/rKgLDpVyG/5QgguSRiMOCQQOSyqMhGmSI0qtdpYGVsYNfgCHScsHWrAQqDrQckoEi/yCXUjSk/79aKf+tajBVaCz7//M4xDojc86+X5loAn+t02X//f7r9bplxtM2HeRmHqp0/93U2b3TlQ8xzl8e6kEFIG6mMEDI31/TTdvYvpM7oJjHGDJURsphZqqLhgSBcUZnkhwkoPw/f//5IHv//x5CJQBtaN/99owR/who//M4xAsVOd7mX8FAAsYFIH97r8ivyxIagvaf/+l6J/+44QAExgoMmpeCDHv///WmHpMo1Q7I9pQ4RgqFjCyGND0Wg0tx4RPLWFfkXvhVMOs//yhIeIwEkmhE332M1sAGU0ua+qxgESxhRLOA//M4xBUTyKKa/ghGBJqX1Y3AokRAV3UCp3w6dBqJRj/wKWbIhICjGB0iGjxLKlfqCvJMO5ICkg6GvhUSkQkBSAFIgsEgyk7VBP1OmAhQMBDCArw0eOsDoSPFSowOkiEYBe0CkAqAkUCIkggI//M4xCQSKB4U0hiCALz3UDICqAtg0sVLFSXCj0ZEJAXrLLHu3niRH8e4iSlS06dh0NJMQU1FMy45OS41qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),
Xa=new Audio("data:audio/mp3;base64,//M4xAASgSo1hUMQAIAgkWD33c9AN9ELeOf9d85/5CanO6HOhCNO//+hGUIQ5lw/EDogh8uH9YYLg+/UCEoCCwfLh/5Q4JDgPwQD6gQcDhwT/WDjidYYH41Hok//1+vs9vT8Aq1dS2NBQo9g//M4xBUaQmL2X4dAALQ2Nv44Xi2W/qxHUQblV/6FjBgoCtYppT/xUXgeJR7XVZl//o6MtmtX//9V+PR4UurefhUiY9P/v+HYURyEZPn2FUyg0IfGvlAQE4nuPo+d//Of6skEArDfvp+iADgm//M4xAsWqQbBZ88wAI8Z4TAwlzUxOFRqMwLkt7PBjyPCAzN57EJBCEQ7AhBUQ9J+MoqjYeqLUyR06dGBVigkZSuiSkjqVA08t/50tzOeqOg0HZglErtv+wsDIx9qsCCVRS8ugA0eMpdgLnQG//M4xA8Y+N7OVg4eHLkxaawiYEAmMzp+pVi0QgyWuSbfaLu2JCPMS48djN2OjQPo8Gm+1MTkQMvbWocLgBnJur3ebwmcLuKCc5bAgWU5jkzRmh7dVJw5hgQGKdTD4rLwfD/TApD6T3GsZ+jo//M4xAoVsMbllgvSOoaajtekUtnRNv4yigtZDycK1KCSjIEDHoXy5yCw8KkJoEIdZuEOmhM5IuAjwKlxUSmGXpCh5P7V0accB0u6n2KTHs/+J5P4YiA5EjpdEQKAAbh9B4FwOix3NYbHKio4//M4xBIWU0bg9jgfcoo1b0Gx3zTUfScea3RH////////j/////6huEM0ydj1nWzrgtgR8MM7g1AmhYF2q9N5b1G5qxk0wODIi0UWAfZJ4g3yTn+q1Q5KzlECQfkaxWsgj0I/RRb/2/v//9Vn//M4xBcaw0rBl0FoAHpf////sy1rrb///X//9kzydJBKkiipmY6O8Yom4cw0Lw+HguQW4KkIodoUAHsGwDYC1iJEUSQl5CFMcBNJIqCiC8hVRGw6AP4LeBlCxD0BcBVDFxaPvr/f9//9/t/L//M4xAsX2j8eX404AtuxjqjEzRIDwC51mFMl6MqmiWPEEbHnxoe62msPLMPPJsxnnBRvKtc+e6/LDrecjN+Y6DpnoPkzmXvmkjvb8z+hpR/FQ0fVKkELosVELRvtIqHf8qqbyaTMDIgnGhw1//M4xAoXiV7Yy494AId4yhnCcPiNF1KghyHyKgIIj2VKqcJqpPDrepyth2GrAcR63Fmhap8aeZtrEPE1J7TUjYiapaTTJjUCZuxLP8534sKLvX6+C4hRnyd0DLYhIa//DdW4SwYlwqtK1Zk1//M4xAoWEa64AZloABtJuengjtCaHvhxARYZEw5I8VtBIRvIKJJF4vLXxLjIzQLyKNFvpHx3Eqo7UmkZGX47RhB7ukbKMdnZt/cwmKNFmSQRnale8WIoQL1XARX18OEI5r/AaBcP1ehjqz4B//M4xBAXUuasAY84AAD8RB4wufax6mmJf3WY046i/zjS3OU//PQ0uPKg3dB48anHo0z5NmGhojnMTOHWGhxU1f/5U51m2tOpr+v//PtY2etxwtYLAVa3Fv/kFQpAY3wDgA//5BYdMtqpa7qi//M4xBEVET7Bt9iAAKTOTxnaPGEt9Kbeq7T3to8ZWvAPiGSMzEig4TiSjIqpKYpmyNlq9dSq+kg99n99MvhEXLFp27/U0OmrQK7fT6LGtJPVSABDsRjmAGH14mKnQlMUeVmib52Ev1vKSCGb//M4xBsU6MK5v1gYAMWnvrRa/zK6+rut4USRcWHkoCREFWw8SVVdAQdBo8HRLeCsc4JPLfaeI5aSK/4dEqVAwHyIVGvtUgAIKPKv/z/gAHxAkOJGEARIEghZOYmCTCxgEhs/SVqNzJ2S2uDz//M4xCYei86plZpoAGGcep4x54vonz6NvVVur6+YKXNqmQSPaS0UEqnQ7amo+j//Q01ejW3/6v+7et+gTDpTX//9PU03WmbvtQLhoMASZsSR0iCmE8GACQf//7f//xwgr9UCSgS2iC2oEfkI//M4xAoUC0LuX8EoAkdUf8b5/89Cd0///qqi5G///yodv50YXKLlExcABN0KYgoJoVxgmKkDpSOAwmKCwFDrGPRuzt6/00Zyr///1+jWOR0U0WKqEAls1wn0iBHCH/MIKAQktE4BU5EiRASW//M4xBgTIbrOXgmKlv/7y8scFEknl8///NZQ6KwiKiQecrf//5qVYxpQ64iCRKFDQVT88VBU7/1Q7/9raCJGRCTaAkYG01QNZFtww1LYo1EwKhNwSArlhI8Ej0OiURAIed1FQEPksJu8qIiS//M4xCoSsGIcFDBGQIqWW7wCAvkbSQiKjDp5YSDgdyxYe4986HQ0HdodEpUiSkxBTUUzLjk5LjWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"));
var fb={n:1,cfop:4,fp:2,roux:4,cf4op:7,cf4o2p2:9},Ra={n:[],cfop:["cross","F2L","OLL","PLL"],fp:["F2L","LL"],roux:["1st block","2nd block","CMLL","L6E"],cf4op:"cross;1st F2L;2nd F2L;3rd F2L;4th F2L;OLL;PLL".split(";"),cf4o2p2:"cross;1st F2L;2nd F2L;3rd F2L;4th F2L;EOLL;COLL;CPLL;EPLL".split(";")},Ya=function(){function b(a,b){a&&void 0==hb?(requestAnimFrame(d),hb=1,fb=0):a||void 0==hb||(hb=void 0);Qa=b?ea:Ra}function d(b){if(0!=f&&-1!=f&&-4!=f&&void 0!=hb){b=$.now()-Ua;var c=Qa===ea?pb:"";if(-3==f||
-2==f&&a())z(Qa,("n"!=w("timeU")?17E3<b?"DNF":15E3<b?"+2":15-~~(b/1E3):TIMER_INSPECT)+c);else{var h=Sa(b,!0);z(Qa,{u:h,c:h.replace(/([.>])(\d)\d+(<|$)/,"$1$2$3"),s:h.split(".")[0],n:TIMER_SOLVE,i:TIMER_SOLVE}[w("timeU")]+c)}if(-3==f||-2==f)Qa!==ea&&(12E3<=b?z(ea,'<div style="font-family: Arial;">Go!!!&nbsp;&nbsp;</div>'):8E3<=b&&z(ea,'<div style="font-family: Arial;">8s!&nbsp;&nbsp;</div>')),"n"!=w("voiceIns")&&(c=Ta,7900<=b&&7900>fb&&(c="1"==w("voiceIns")?ma:n),11900<=b&&11900>fb&&(c="1"==w("voiceIns")?
Va:Xa),c.volume=~~w("voiceVol")/100,c.play());fb=b;requestAnimFrame(d)}}function h(a){Ra.css("color",a);ea.css("color",a)}function r(a,b){z(b?ea:Ra,void 0!=a?Sa(a,!0):"--:--")}function z(a,b){var c=a===ea?1:0;bb[c]!==b&&(bb[c]=b,a.html(b))}var Ra,ea=$("<div />"),Qa,hb,pb="",bb=["",""],fb=0;$(function(){Ra=$("#lcd");$("#multiphase").append(ea)});return{setRunning:b,color:h,val:r,setEnable:function(a){a?Ra.show():Ra.hide()},append:function(a){z(ea,ea.html()+a)},setStaticAppend:function(a,b){pb=b?pb+
a:a},fixDisplay:function(d,n){var r=!1;0==f?Ya.color("red"):-1==f||-4==f?h(d&&n?a()?"#0d0":"#f00":""):-2==f?(h(d&&n?"#0d0":""),r=a()):(-3==f?h(d&&n?"#dd0":"#f00"):h(d?"#0d0":""),r=!0);c.setAutoShow(0==f||-1==f);b(r)},getMulPhaseAppend:function(a,b){for(var c=[],f=b;f>a;f--)c.push(Sa(Wa[f]-~~Wa[f+1],!0));return a==b||1==b?"":'<div style="font-size: 0.65em">='+c.join("<br>+")+"</div>"},reset:function(a){Ra.empty();ea.empty();bb[0]="";bb[1]="";r(0,a);b(!1);pb=""}}}(),eb=function(){function a(a,b){c.html(b[0]).unbind("click");
void 0!=b[2]?c.addClass("click").click(function(){b[4](b[2][0],b[2][1],b[2][2],b[2][3])}):c.removeClass("click");f.html(b[1]).unbind("click");void 0!=b[3]?f.addClass("click").click(function(){b[4](b[3][0],b[3][1],b[3][2],b[3][3])}):f.removeClass("click")}var b,c=$('<span class="click">'),f=$('<span class="click">'),d=!0;$(function(){b=$("#avgstr").append(c,"<br>",f);h("timer","avg",a)});return{showAvgDiv:function(a){a&&w("showAvg")&&-1!=$.inArray(w("input"),["s","m","t","i"])?d||(b.show(),d=!0):d&&
(b.hide(),d=!1)}}}(),bb=function(){function b(){void 0!=Ra&&(clearTimeout(Ra),Ra=void 0)}function d(){if(-1==f||-3==f)-1==f&&Ya.reset(),f=-2,Ra=void 0,Ya.fixDisplay(!0,!0)}function h(a,b,c){var f=ea;255<a?ea=b?ea&~(1<<a):ea|1<<a:c.ctrlKey||(ea=0);return 32==a||3==f&&255<a||3==ea}var n=0,r=0,Ra=void 0,ea=0;return{onkeydown:function(ea,Qa){var ma=h(ea,0,Qa),Ta=$.now();if(!(200>Ta-n)){if(0<f){n=Ta;Wa[f]=n-Ua;w("phases")!=f&&Ya.append("+");1!=w("phases")&&Ya.append(Sa(Wa[f]-~~Wa[f+1],!0)+"&nbsp;<br>");
if(27==ea){Ta=[-1];for(var Xa=1;f<Wa.length;)Ta[Xa++]=Wa[f++];f=1;Wa=Ta}0==--f&&(r=n,Ya.val(Wa[1]),c.setAutoShow(!0),z("time",Wa),32!=ea&&(f=-1))}else ma?f==(a()?-3:-1)&&void 0==Ra?Ra=setTimeout(d,w("preTime")):-1==f&&a()&&(f=-4):27==ea&&-1>=f&&(b(),f=-1,Ya.val(0),c.setAutoShow(!0));Ya.fixDisplay(!0,ma);ma&&kernel.clrKey()}},onkeyup:function(c,d){a:{var n=h(c,1,d);var z=$.now();if(n)if(0==f)f=-1;else if(-1==f||-3==f){if(b(),500>z-r){Ya.fixDisplay(!1,n);n=void 0;break a}}else if(-2==f){f=w("phases");
var Ra=a()?z-Ua:0;Wa=[17E3<Ra?-1:15E3<Ra?2E3:0];Ua=z;Ya.reset()}else-4==f&&(f=-3,Ya.reset(),Ua=z);Ya.fixDisplay(!1,n);n&&kernel.clrKey();n=void 0}return n},reset:function(){void 0!=Ra&&(clearTimeout(Ra),Ra=void 0);n=r=0}}}(),jb=function(){var a=$('<textarea id="inputTimer" rows="1" />'),b=0;$(function(){$("#lcd").after(a)});return{setEnable:function(b){b?a.show():a.hide();b?(gb=a,a[0].select(),a.unbind("click").click(function(){a[0].select()})):gb=void 0},parseInput:function(){var c=/^(?:[\d]+\. )?\(?(DNF)?\(?(\d*?):?(\d*?):?(\d*\.?\d*?)(\+)?\)?(?:=([\d:.+]+?))?(?:\[([^\]]+)\])?\)?\s*(?:   ([^@].*?))?(?:   @(.*?))?$/,
f=/^(\d*?):?(\d*?):?(\d*\.?\d*?)$/,d=a.val(),n=$.now();if(/^[\s\n]*$/.exec(d)&&n>b+500)kernel.pushSignal("ctrl",["scramble","next"]),b=n;else{d=d.split(/\s*[,\n]\s*/);var h;for(n=0;n<d.length;n++){var r=c.exec(d[n]);if(null!=r&&""!=r[4]){var w=Math.round(36E5*~~r[2]+6E4*~~r[3]+1E3*parseFloat(r[4]));if(0!=w){""==r[2]&&""==r[3]&&/^\d+$/.exec(r[4])&&(w=~~(w/(kernel.getProp("intUN")||1)));if("DNF"==r[1])var Ra=-1;else"+"==r[5]&&2E3<w?(Ra=2E3,w-=2E3):Ra=0;var ea=[];if(r[6]){ea=r[6].split("+").reverse();
var Qa=w;for(h=0;h<ea.length;h++){var ma=f.exec(ea[h]);if(null==ma){Qa=1E8;break}Qa-=Math.round(36E5*~~ma[1]+6E4*~~ma[2]+1E3*parseFloat(ma[3]));ea[h]=Math.max(0,Qa)}Math.abs(Qa)>10*ea.length?ea=[]:ea.pop()}Qa=r[7]||"";h=r[8];Wa=[Qa,h,[Ra,w].concat(ea)];(w=mathlib.str2time(r[9]))&&Wa.push(w);z("time",Wa);kernel.clrKey()}}}}a.val("")},clear:function(){a.val("")}}}(),lb=function(){function b(b){if(d){var r=$.now();if(b.on){var w=b.time_milli;if(b.running){if(-3==f||-4==f)h=r-Ua-w,Ya.reset();f=1;Ua=r-
w;c.setAutoShow(!1)}else-1==f&&a()&&0==w&&(b.rightHand||b.leftHand)?(f=-3,c.setAutoShow(!1),Ua=r):-3!=f&&-4!=f&&(f=-1,Ya.val(w),c.setAutoShow(!0));n&&!b.running&&0!=b.time_milli&&(h=a()?17E3<h?-1:15E3<h?2E3:0:0,z("time",[h,~~w]));n=b.running;b.greenLight?Ya.color("#0d0"):b.rightHand&&b.leftHand?Ya.color("#f00"):-4==f?Ya.color("#0d0"):Ya.color("");Ya.setRunning(-3==f||b.running&&67!=b.signalHeader)}else f=-1,Ya.val(),Ya.setRunning(!1),Ya.color(""),c.setAutoShow(!0)}}var d=!1,n=!1,h;return{setEnable:function(a){(d=
"s"==a||"m"==a)?(stackmatutil.setCallBack(b),stackmatutil.init(a)):stackmatutil.stop()},onkeyup:function(a){var b=$.now();32==a&&-4==f&&(f=-3,Ya.reset(),Ua=b,Ya.fixDisplay(!1,32==a));32==a&&kernel.clrKey()},onkeydown:function(b){var c=$.now();32==b&&-1==f&&a()?(f=-4,Ua=c,Ya.fixDisplay(!0,!0)):27==b&&-1>=f&&(f=-1,Ya.val(0),Ya.fixDisplay(!0,!1));32==b&&kernel.clrKey()}}}(),kb=function(){function d(b,d){if(1!=d){var h=$.now();if(-3==f||-2==f){if(Xa.isInspectionLegalMove(Xa,b)){0==d&&Qa[0].push([Xa.move2str(b),
0]);return}Sa=a()?h-Ua:0;Ua=h;Va=0;f=3==ib&&"r3"!=db?fb[w("vrcMP","n")]:1;var Ra=Qa[0];Qa=[];for(var ea=0;ea<f;ea++)Qa[ea]=[];Qa[f]=Ra;bb=f;Wa=[17E3<Sa?-1:15E3<Sa?2E3:0];Ya.setRunning(!0,!0);c.setAutoShow(!1)}if(1<=f){0==d&&Qa[f-1].push([Xa.move2str(b),h-Ua]);if(2==d){var ma=Xa.isSolved(Xa,w("vrcMP","n"));if(ma<f)for(ea=f;ea>ma;ea--)Wa[ea]=h-Ua;f=Math.min(ma,f)||1;Ya.setStaticAppend(Ya.getMulPhaseAppend(f,bb))}0==ma&&2==d&&(Va+=Xa.moveCnt(),db.match(/^r\d+$/)&&0!=jb.length?("r3"!=db&&ib++,n(!0),r()):
(c.setAutoShow(!0),f=-1,Ya.setRunning(!1),Ya.setStaticAppend(""),Ya.val(Wa[1],!0),Ya.append(Ya.getMulPhaseAppend(0,bb)),Ya.append('<div style="font-family: Arial; font-size: 0.5em">'+Va+" moves<br>"+~~(1E5*Va/Wa[1])/100+" tps</div>"),Qa.reverse(),z("time",["",0,Wa,0,[$.map(Qa,cubeutil.moveSeq2str).join(" ")]])))}}}function n(a){if(void 0!=Ta&&!gb&&Fb){gb=!0;var c=ib;c||(c=3);12==ib?Ta.initializeTwisty({type:"skewb",faceColors:b(kernel.getProp("colskb"),[0,5,4,2,1,3]),scale:.9}):13==ib?Ta.initializeTwisty({type:"mgm",
faceColors:b(kernel.getProp("colmgm"),[0,2,1,5,4,3,11,9,8,7,6,10]),scale:.9}):14==ib?Ta.initializeTwisty({type:"pyr",faceColors:b(kernel.getProp("colpyr"),[3,1,2,0]),scale:.9}):1==ib?Ta.initializeTwisty({type:"sq1",faceColors:b(kernel.getProp("colsq1"),[0,5,4,2,1,3]),scale:.9}):Ta.initializeTwisty({type:"cube",faceColors:b(kernel.getProp("colcube"),[3,4,5,0,1,2]),dimension:c,stickerWidth:1.7,scale:.9});Xa=Ta.getTwisty();a||(Ya.setRunning(!1,!0),Ya.setStaticAppend(""),ma(w("timerSize")))}}function r(){n();
var a=jb;db.match(/^r\d+$/)&&(a=jb.shift().match(/\d+\) (.*)$/)[1],Ya.setStaticAppend("<br>"+(jb.length+1)+"/"+jb.len));a=Xa.parseScramble(a);gb=!1;Ta.applyMoves(a);Xa.moveCnt(!0);Qa=[[]]}function Ra(){void 0==Ta&&(void 0!=window.twistyjs?(Ta=new twistyjs.TwistyScene,Ta.addMoveListener(d),qb.empty().append(Ta.getDomElement()),n(),Ta.resize(),eb=!1):!eb&&document.createElement("canvas").getContext?($.getScript("js/twisty.js",Ra),eb=!0):(qb.css("height",""),qb.html("--:--")))}function ea(a,b){if("scramble"==
a){db=b[0];jb=b[1];for(var c=tools.puzzleType(db),f=lb.length-1;0<f;f--)if(lb[f]==c){ib!=f&&(ib=f,gb=!1,n());break}if(c=b[0].match(/^r(\d)\d*$/))jb=jb.split("\n"),jb.len=jb.length,ib!=~~c[1]&&(ib=~~c[1],gb=!1,n())}}function ma(a){qb.css("height",a*$("#logo").width()/9+"px");Ta&&Ta.resize()}var Ta,Xa,Sa=0,Va=0,bb=1,eb=!1,jb,db,ib,lb=" sq1 222 333 444 555 666 777 888 999 101010 111111 skb mgm pyr".split(" "),gb=!1,qb=$("<div />"),Fb=!1;$(function(){h("timer","scramble",ea);qb.appendTo("#container")});
return{onkeydown:function(b){if(void 0!=Ta){var d=$.now();if(-1==f)32==b&&(r(),a()?(f=-3,Ua=d,Ya.setRunning(!0,!0)):(Ya.setRunning(!1,!0),Ya.val(0,!0),f=-2),c.setAutoShow(!1));else if(-3==f||-2==f||1<=f)27==b?(c.setAutoShow(!0),1==f&&z("time",[-1,d-Ua]),n(),f=-1):Ta.keydown({keyCode:b});27!=b&&32!=b||kernel.clrKey()}},setEnable:function(a){(Fb=a)?qb.show():qb.hide();a&&Ra()},setSize:ma,reset:n}}(),db=function(){function d(){Ta&&(clearTimeout(Ta),Ta=0);Xa&&(clearTimeout(Xa),Xa=0)}function n(b,n,r){eb=
b;if(ea){ma&&ib.setState(b,n,!1);d();if(-1==f){if(b!=mathlib.SOLVED_FACELET){var Va=w("giiSD");"s"==Va?giikerutil.checkScramble()&&h(r):"n"!=Va&&(Ta=setTimeout(function(){h(r)},1E3*~~Va));Va=w("giiSM");"n"!=Va&&{x4:/^([URFDLB][ '])\1\1\1$/,xi2:/^([URFDLB])( \1'\1 \1'|'\1 \1'\1 )$/}[Va].exec(n.join(""))&&(Xa=setTimeout(function(){h(r)},1E3))}}else if(-3==f||-2==f){Sa=a()?r-Ua:0;Ua=r;f=fb[w("vrcMP","n")];Qa=[];for(Va=0;Va<f;Va++)Qa[Va]=[];bb=f;Wa=[17E3<Sa?-1:15E3<Sa?2E3:0];Ya.fixDisplay(!1,!0);Ya.setRunning(!0,
ma);c.setAutoShow(!1)}if(1<=f){Qa[f-1].push([n[0],r-Ua]);n=cubeutil.getProgress(b,kernel.getProp("vrcMP","n"));if(n<f)for(Va=f;Va>n;Va--)Wa[Va]=r-Ua;f=Math.min(n,f)||1;Ya.setStaticAppend(Ya.getMulPhaseAppend(f,bb));if(b==mathlib.SOLVED_FACELET){Qa.reverse();b=cubeutil.getPrettyMoves(Qa);n="";var hb=Ra[kernel.getProp("vrcMP","n")],pb=0;for(Va=0;Va<b.length;Va++)pb+=b[Va][1],n+=b[Va][0]+(hb[Va]?" //"+hb[Va]+" "+b[Va][1]+" move(s)%0A":"");giikerutil.setLastSolve(n);f=-1;Wa[1]=r-Ua;c.setAutoShow(!0);
Ya.setRunning(!1,ma);Ya.setStaticAppend("");Ya.fixDisplay(!1,!0);Ya.val(Wa[1],ma);Ya.append(Ya.getMulPhaseAppend(0,bb));Ya.append('<div style="font-family: Arial; font-size: 0.5em">'+pb+" moves<br>"+~~(1E5*pb/Wa[1])/100+" tps</div>");if(0!=Wa[1]){n=[$.map(Qa,cubeutil.moveSeq2str).join(" ")];n[b.length]=b[0][1];for(Va=1;Va<b.length;Va++)n[b.length-Va]=n[b.length-Va+1]+b[Va][1];z("time",["",0,Wa,0,n])}}}}}function h(b){d();-1==f&&(giikerutil.markScrambled(),giikerutil.checkScramble()||z("scramble",
["333",scramble_333.genFacelet(eb)]),f=-2,Ua=b,Ya.fixDisplay(!0,!0),a()&&Ya.setRunning(!0,ma),c.setAutoShow(!1),w("giiBS")&&metronome.playTick())}function r(a){(ma=a)?Va.show():Va.hide();a&&ib.initVRC()}var ea=!1,ma=!1,Ta=0,Xa=0,Sa=0,Va=$("<div />"),bb=1,eb=mathlib.SOLVED_FACELET,ib=function(){function a(a){void 0!=d&&!h&&ma&&(h=!0,d.initializeTwisty({type:"cube",faceColors:b(kernel.getProp("colcube"),[3,4,5,0,1,2]),dimension:3,stickerWidth:1.7,scale:.9}),z.fromFacelet(mathlib.SOLVED_FACELET),n=d.getTwisty(),
a||c(w("timerSize")))}function c(a){Va.css("height",a*$("#logo").width()/9+"px");d&&d.resize()}function f(){void 0==d&&(void 0!=window.twistyjs?(d=new twistyjs.TwistyScene,Va.empty().append(d.getDomElement()),a(),d.resize(),r=!1):!r&&document.createElement("canvas").getContext?($.getScript("js/twisty.js",f),r=!0):(Va.css("height",""),Va.html("--:--")))}var d,n,h=!1,r=!1,z=new mathlib.CubieCube,ea=new mathlib.CubieCube,Ra=new mathlib.CubieCube;return{resetVRC:a,initVRC:f,setState:function(b,c,f){ea.fromFacelet(b);
f=[];for(var r=!0,w=0;w<c.length;w++){f.push(c[w]);var ma=3*"URFDLB".indexOf(c[w][0])+"'2 ".indexOf(c[w][1]);if(0<=ma&&18>ma&&(mathlib.CubieCube.EdgeMult(ea,mathlib.CubieCube.moveCube[ma],Ra),mathlib.CubieCube.CornMult(ea,mathlib.CubieCube.moveCube[ma],Ra),ma=ea,ea=Ra,Ra=ma,ea.isEqual(z))){r=!1;break}}r?(a(!1),z.fromFacelet(mathlib.SOLVED_FACELET),f=scramble_333.genFacelet(b)):f=f.reverse().join(" ");c=f.match(/^\s*$/)?[]:n.parseScramble(f);5>c.length?d.addMoves(c):d.applyMoves(c);h=!1;z.fromFacelet(b)},
setSize:c}}();$(function(){Va.appendTo("#container")});return{setEnable:function(a){(ea="g"==a)?(giikerutil.setCallBack(n),(a=giikerutil.init())&&a.then($.noop,function(a){a.code==a.SECURITY_ERR&&kernel.showDialog([$("<div>Press OK To Connect To Giiker Cube</div>"),function(){giikerutil.init().then($.noop,console.log)},0,0],"share","Giiker Connect")})):GiikerCube.stop();r(ea&&w("giiVRC"))},onkeydown:function(a){27==a?(d(),f=-1,c.setAutoShow(!0),Ya.val(0,ma),Ya.setRunning(!1,ma),Ya.fixDisplay(!1,!0)):
32==a&&w("giiSK")&&eb!=mathlib.SOLVED_FACELET&&-1==f&&h($.now())},setVRC:r,setSize:ib.setSize}}(),ib="input phases scrType preScr useMilli smallADP giiVRC".split(" ");$(function(){r=$("#container");h("timer","property",function(a,b){"timerSize"==b[0]&&(r.css("font-size",b[1]+"em"),kb.setSize(b[1]),db.setSize(b[1]));"timerSize"!=b[0]&&"phases"!=b[0]||$("#multiphase").css("font-size",w("timerSize")/Math.max(w("phases"),4)+"em");"input"==b[0]&&(lb.setEnable(b[1]),db.setEnable(b[1]));"showAvg"==b[0]&&
eb.showAvgDiv(b[1]);"giiVRC"==b[0]&&"set"!=b[2]&&db.setEnable(w("input"));if(-1!=$.inArray(b[0],ib)){var d=w("input");f=-1;kb.setEnable("v"==d);kb.reset();Ya.setEnable("i"!=d);Ya.reset("v"==d||"g"==d&&w("giiVRC"));bb.reset();jb.setEnable("i"==d);"i"==d?$("#touch").hide():$("#touch").show();c.setAutoShow(!0)}},/^(?:input|phases|scrType|preScr|timerSize|showAvg|useMilli|smallADP|giiVRC)$/);ea("vrc","vrcSpeed",1,PROPERTY_VRCSPEED,[100,[0,50,100,200,500,1E3]," 20 10 5 2 1".split(" ")]);ea("vrc","vrcMP",
1,PROPERTY_VRCMP,["n","n cfop fp cf4op cf4o2p2 roux".split(" "),PROPERTY_VRCMPS.split("|")]);ea("vrc","giiVRC",0,PROPERTY_GIIKERVRC,[!0]);ea("vrc","giiSD",1,PROPERTY_GIISOK_DELAY,["s","2345ns".split(""),PROPERTY_GIISOK_DELAYS.split("|")]);ea("vrc","giiSK",0,PROPERTY_GIISOK_KEY,[!0]);ea("vrc","giiSM",1,PROPERTY_GIISOK_MOVE,["n",["x4","xi2","n"],PROPERTY_GIISOK_MOVES.split("|")]);ea("vrc","giiBS",0,PROPERTY_GIISBEEP,[!0]);ea("vrc","giiRST",1,PROPERTY_GIIRST,["p",["a","p","n"],PROPERTY_GIIRSTS.split("|")]);
ea("vrc","giiAED",0,PROPERTY_GIIAED,[!1]);ea("timer","useMouse",0,PROPERTY_USEMOUSE,[!1]);ea("timer","useIns",1,PROPERTY_USEINS,["n",["a","b","n"],PROPERTY_USEINS_STR.split("|")]);ea("timer","voiceIns",1,PROPERTY_VOICEINS,["1",["n","1","2"],PROPERTY_VOICEINS_STR.split("|")]);ea("timer","voiceVol",2,PROPERTY_VOICEVOL,[100,1,100]);ea("timer","input",1,PROPERTY_ENTERING,["t","tismvg".split(""),PROPERTY_ENTERING_STR.split("|")],1);ea("timer","intUN",1,PROPERTY_INTUNIT,[1,[1,100,1E3],PROPERTY_INTUNIT_STR.split("|")],
1);ea("timer","timeU",1,PROPERTY_TIMEU,["c",["u","c","s","i","n"],PROPERTY_TIMEU_STR.split("|")]);ea("timer","preTime",1,PROPERTY_PRETIME,[300,[0,300,550,1E3],["0","0.3","0.55","1"]]);ea("timer","phases",2,PROPERTY_PHASES,[1,1,10]);ea("kernel","showAvg",0,SHOW_AVG_LABEL,[!0]);ea("ui","timerSize",2,PROPERTY_TIMERSIZE,[20,1,100]);ea("ui","smallADP",0,PROPERTY_SMALLADP,[!0])});var gb;return{onkeydown:function(a){if(!c.isPop()){var b=d(a),f=$(document.activeElement);if(f.is("input, textarea, select"))"i"==
w("input")&&"inputTimer"==f.prop("id")&&13==b&&jb.parseInput();else switch(f.blur(),w("input")){case "t":bb.onkeydown(b,a);break;case "s":lb.onkeydown(b,a);case "i":break;case "v":kb.onkeydown(b,a);break;case "g":db.onkeydown(b,a)}}},onkeyup:function(a){if(!c.isPop()){var b=d(a),f=$(document.activeElement);if(f.is("input, textarea, select"))"i"==w("input")&&"inputTimer"==f.prop("id")&&13==b&&jb.clear();else switch(f.blur(),w("input")){case "t":bb.onkeyup(b,a);break;case "s":lb.onkeyup(b,a)}}},showAvgDiv:eb.showAvgDiv,
refocus:function(){void 0!=gb?gb.focus():document.activeElement&&document.activeElement.blur()},getCurTime:function(a){return 0<f?(a||$.now())-Ua:0}}},[kernel.regListener,kernel.regProp,kernel.getProp,kernel.pretty,kernel.ui,kernel.pushSignal]);var scrMgr=function(h,ea){function w(a,c,r){a=a||[[""]];c=c||[""];r=r||len;for(var b=0,d=-1,w=[],z,Ta,ma=0;ma<r;ma++){do z=h(a.length),Ta=h(a[z].length),z!=d&&(b=0,d=z);while(0!=(b>>Ta&1));b|=1<<Ta;a[z][Ta].constructor==Array?w.push(ea(a[z][Ta])+ea(c)):w.push(a[z][Ta]+ea(c))}return w.join(" ")}function Sa(b,d,h){DEBUG&&console.log("[regscr]",b);if($.isArray(b))for(h=0;h<b.length;h++)c[b[h]]=d;else c[b]=d,void 0!=h&&(z[b]=h[0],a[b]=h[1]);return Sa}var c={},z={},a={};return{reg:Sa,scramblers:c,filters:z,
probs:a,mega:w,formatScramble:function(a){return a.replace(/[$#]\{([^\}]+)\}/g,function(a,b){if("$"==a[0]){var f=[b];"["==b[0]&&(f=JSON.parse(b));return c[f[0]].apply(this,f)}return"#"==a[0]?w.apply(this,JSON.parse("["+b+"]")):""})},rndState:function(a,c){if(void 0!=c){var b=c.slice();void 0==a&&(a=b);for(var f=0;f<a.length;f++)a[f]||(b[f]=0);return mathlib.rndProb(b)}},fixCase:function(a,c){return void 0==a?mathlib.rndProb(c):a}}}(mathlib.rn,mathlib.rndEl),scramble=execMain(function(h,ea){function w(){kernel.blur();
gb.html("Scrambling...");tb=mb&&"input"!=mb?mb:tb;wb||(yb=mb,pb=hb);wb=!1;pb&&Db.addClass("click").unbind("click").click(Sa);mb=eb.val();rb=~~ib.val();yb!=mb&&kernel.setProp("scrType",mb);"input"!=mb&&(ab=[]);hb="";requestAnimFrame(a)}function Sa(){wb=!0;gb.html(z(pb,!0));Db.removeClass("click").unbind("click");void 0!=pb&&kernel.pushSignal("scrambleX",[yb,z(pb)])}function c(){wb?(wb=!1,gb.html(z(hb,!0)),Db.addClass("click").unbind("click").click(Sa),kernel.pushSignal("scrambleX",[mb,z(hb)])):w()}
function z(a,b){return a.replace(/~/g,b?"&nbsp;":"").replace(/`([^']*)`/g,b&&kernel.getProp("scrKeyM",!1)?"<u>$1</u>":"$1")}function a(){r();hb?(hb=hb.replace(/(\s*)$/,""),gb.html(z(hb,!0)),kernel.pushSignal("scramble",[mb,z(hb)])):gb.html("Scrambling... ")}function b(a,b,c){csTimerWorker&&csTimerWorker.getScramble?ub=ub||csTimerWorker.getScramble(a,function(a,b){DEBUG&&console.log("[scrcache]",a+" cached by csTimerWorker");d(a,b)}.bind(void 0,b)):c||(ub=ub||setTimeout(function(a,b){var c=Va[b[0]];
d(a,c.apply(c,b))}.bind(void 0,b,a),500))}function d(a,b){var c=JSON.parse(localStorage.cachedScr||null)||{};$.isArray(c)&&(c={});c[a]=b;localStorage.cachedScr=JSON.stringify(c);ub=0}function r(){hb="";var c=Za[mb]||mb;if(c in Va){var d=JSON.parse(localStorage.cachedScr||null)||{},n=JSON.stringify([c,rb,cb[1]]);n in d?(hb=d[n],delete d[n],localStorage.cachedScr=JSON.stringify(d)):hb=Va[c](c,rb,xb(cb[1],Xa[c]));b([c,rb,xb(cb[1],Xa[c])],n)}else switch(c){case "input":0==ab.length?(ob.val(""),kernel.showDialog([ob,
f,Wa],"input",SCRAMBLE_INPUT)):hb=ab.shift();break;default:requestAnimFrame(a)}}function f(){var b=ob.val();if(b.match(/^\s*$/))b=!1;else{ab=[];b=b.split("\n");for(var c=0;c<b.length;c++){var f=b[c];null==f.match(/^\s*$/)&&ab.push(f.replace(/^\d+[\.\),]\s*/,""))}b=0!=ab.length}b?a():kernel.setProp("scrType",tb)}function Wa(){kernel.setProp("scrType",tb)}function Ua(a){if($.isNumeric(a))kernel.blur();else{a=0;var b=scrdata[Ya[0].selectedIndex][0];b&&b.match(/^===/)&&Ya[0].selectedIndex++}b=scrdata[Ya[0].selectedIndex][1];
eb.empty();for(var c=0;c<b.length;c++)eb.append('<option value="'+b[c][1]+'">'+b[c][0]+"</option");eb[0].selectedIndex=a;Qa()}function Qa(){kernel.blur();ib.val(Math.abs(scrdata[Ya[0].selectedIndex][1][eb[0].selectedIndex][2]));ib[0].disabled=0>=scrdata[Ya[0].selectedIndex][1][eb[0].selectedIndex][2];var a=eb.val();cb=JSON.parse(kernel.getProp("scrFlt",JSON.stringify([a,n[a]])));bb[0].disabled=ib[0].disabled&&!(a in n);cb[0]!=a&&(cb=[a,n[a]&&mathlib.valuedArray(n[a].length,1)],kernel.setProp("scrFlt",
JSON.stringify(cb)));w()}function Ta(){function a(){if(mb in n){for(var a=mathlib.valuedArray(n[mb].length,1),c=!1,d=0;d<b.length;d++)b[d][0].checked?c=!0:a[d]=0;c?(cb=[mb,a],a=JSON.stringify(cb),kernel.getProp("scrFlt")!=a&&(f=!0,kernel.setProp("scrFlt",a))):alert("Should Select At Least One Case");f&&w()}}lb.empty();var b=[],c=[],f=!1;if(mb in n){var d=function(a){var c=0;$.each(z[a],function(a,f){c+=b[f][0].checked?1:0});return c+"/"+z[a].length},h=n[mb],r=h;cb[0]==mb&&(r=cb[1]||h);lb.append("<br>",
kb,db,"<br><br>");for(var z={},ea=0;ea<h.length;ea++){var Ra=h[ea].indexOf("-");-1==Ra?z[h[ea]]=[ea]:(Ra=h[ea].slice(0,Ra),z[Ra]=z[Ra]||[],z[Ra].push(ea))}for(ea=0;ea<h.length;ea++)Ra=$('<input type="checkbox">').val(ea),r[ea]&&(Ra[0].checked=!0),b.push(Ra),c.push($("<label>").append(Ra,h[ea]));for(var ma in z)1==z[ma].length&&lb.append(c[z[ma][0]]);for(ma in z)1!=z[ma].length&&lb.append($("<div>").attr("data",ma).append($("<span>").html(ma+" "+d(ma))," | ",$('<span class="click">').html("All").click(function(){var a=
$(this).parent().attr("data");$.each(z[a],function(a,c){b[c][0].checked=!0});$(this).parent().children().first().html(a+" "+d(a))})," | ",$('<span class="click">').html("None").click(function(){var a=$(this).parent().attr("data");$.each(z[a],function(a,c){b[c][0].checked=!1});$(this).parent().children().first().html(a+" "+d(a))})," | ",$('<span class="click">[+]</span>').click(function(){$(this).next().toggle()}),$("<div>").append($.map(z[ma],function(a){b[a].change(function(){var a=$(this).parent().parent().parent().attr("data");
$(this).parent().parent().parent().children().first().html(a+" "+d(a))});return c[a]})).hide()));kb.unbind("click").click(function(){for(var a=0;a<b.length;a++)b[a][0].checked||(b[a][0].checked=!0),b[a].change()});db.unbind("click").click(function(){for(var a=0;a<b.length;a++)b[a][0].checked&&(b[a][0].checked=!1),b[a].change()})}kernel.showDialog([jb,a,null,a],"scropt","Scramble Options")}function ma(a,b){if("time"==a)nb?w():(gb.empty(),kernel.pushSignal("scramble",["-",""]));else if("property"==
a)if("scrSize"==b[0])gb.css("font-size",b[1]/7+"em");else if("scrMono"==b[0])fb.css("font-family",b[1]?"SimHei, Monospace":"Arial");else if("scrType"==b[0]){if(b[1]!=eb.val())a:for(var f=b[1],d=0;d<scrdata.length;d++)for(var n=0;n<scrdata[d][1].length;n++)if(scrdata[d][1][n][1]==f){Ya[0].selectedIndex=d;Ua(n);break a}}else"scrLim"==b[0]?b[1]?gb.addClass("limit"):gb.removeClass("limit"):"scrAlign"==b[0]?"c"==b[1]?fb.css("text-align","center"):"l"==b[1]?fb.css("text-align","left"):"r"==b[1]&&fb.css("text-align",
"right"):"scrFast"==b[0]?(Za["444wca"]=b[1]?"444m":"444wca","444wca"==mb&&w()):"scrKeyM"==b[0]?gb.html(z((wb?pb:hb)||"",!0)):"scrHide"==b[0]&&(b[1]?Ra.hide():Ra.show());else"button"==a&&"scramble"==b[0]?(nb=b[1])&&""==gb.html()&&w():"ctrl"==a&&"scramble"==b[0]&&("last"==b[1]?Sa():"next"==b[1]&&c())}var Va=scrMgr.scramblers,n=scrMgr.filters,Xa=scrMgr.probs,fb=$('<div id="scrambleDiv"/>'),Ra=$("<div />").addClass("title"),Ya=$("<select />"),eb=$("<select />"),bb=$('<input type="button" class="icon">').val(""),
jb=$("<div>"),lb=$('<div class="sflt">'),kb=$('<input type="button">').val("Select All"),db=$('<input type="button">').val("Select None"),ib=$('<input type="text" maxlength="3">'),gb=$('<div id="scrambleTxt"/>'),Za={"333oh":"333","333ft":"333"},cb="",ob=$("<textarea />"),ab=[],mb,yb,tb="333o",rb=0,hb,pb,wb=!1,Db=$("<span />").html(SCRAMBLE_LAST),Bb=$("<span />").addClass("click").html(SCRAMBLE_NEXT).click(c),ub=0;$(function(){if(csTimerWorker&&csTimerWorker.getScramble){var a=['["444wca",40,null]'],
c=JSON.parse(localStorage.cachedScr||null)||{};$.isArray(c)&&(c={});for(var d=0;d<a.length;d++)a[d]in c||setTimeout(b.bind(void 0,JSON.parse(a[d]),a[d],!0),2500+h(5E3))}});var nb=!1,sb=function(){function a(){for(var a=~~d.val(),b="",c=hb,h=n.val(),w=0;w<a;w++)r(),b+=h.replace("1",w+1)+hb+"\n";hb=c;f.text(b);f.select()}var b=$("<div />").css("text-align","center").css("font-size","0.7em"),c=$("<span />").addClass("click").html(SCRGEN_GEN),d=$('<input type="text" maxlength="3">').val(5),f=$('<textarea rows="10" style="width: 100%" readonly />'),
n=$('<select><option value="1. ">1. </option><option value="1) ">1) </option><option value="(1) ">(1) </option><option value=""></option></select>');b.append(SCRGEN_NSCR,d,"&nbsp;",SCRGEN_PRE).append(n,"<br>",c,"<br>",f);return function(d){d&&(d.empty().append(b.width(fb.width()/2)),n.unbind("change").change(kernel.blur),c.unbind("click").click(a))}}(),xb=scrMgr.rndState;$(function(){kernel.regListener("scramble","time",ma);kernel.regListener("scramble","property",ma,/^scr(?:Size|Mono|Type|Lim|Align|Fast|KeyM|Hide)$/);
kernel.regListener("scramble","button",ma,/^scramble$/);kernel.regListener("scramble","ctrl",ma,/^scramble$/);kernel.regProp("scramble","scrSize",2,PROPERTY_SCRSIZE,[15,5,50]);kernel.regProp("scramble","scrMono",0,PROPERTY_SCRMONO,[!0]);kernel.regProp("scramble","scrLim",0,PROPERTY_SCRLIM,[!0]);kernel.regProp("scramble","scrAlign",1,PROPERTY_SCRALIGN,["c",["c","l","r"],PROPERTY_SCRALIGN_STR.split("|")]);kernel.regProp("scramble","preScr",1,"pre-scramble",[""," z2 z' z x' x".split(" ")," z2 z' z x' x".split(" ")]);
kernel.regProp("scramble","scrFast",0,PROPERTY_SCRFAST,[!1]);kernel.regProp("scramble","scrKeyM",0,PROPERTY_SCRKEYM,[!1]);for(var a=0;a<scrdata.length;a++)Ya.append("<option>"+scrdata[a][0]+"</option>");kernel.regProp("scramble","scrType",-6,"Scramble Type",["333"]);Ya.change(Ua);eb.change(Qa);ib.change(w);bb.click(Ta);jb.append($("<div>").append(SCRAMBLE_LENGTH+": ",ib),lb);Ra.append($("<nobr>").append(Ya," ",eb," ",bb)," <wbr>");Ra.append($("<nobr>").append(Db,"/",Bb,SCRAMBLE_SCRAMBLE));fb.append(Ra,
gb);kernel.addWindow("scramble",BUTTON_SCRAMBLE,fb,!0,!0,3);tools.regTool("scrgen",TOOLS_SCRGEN,sb);gb.click(function(){Ra.show();kernel.blur();kernel.setProp("scrHide",!1)});kernel.regProp("ui","scrHide",-1,"Hide Scramble Selector",[!1])});return{getTypeName:function(a){for(var b=0;b<scrdata.length;b++)for(var c=0;c<scrdata[b][1].length;c++)if(scrdata[b][1][c][1]==a)return scrdata[b][0]+">"+scrdata[b][1][c][0];return""},getTypeIdx:function(a){for(var b=0;b<scrdata.length;b++)for(var c=0;c<scrdata[b][1].length;c++)if(scrdata[b][1][c][1]==
a)return 100*b+c;return 1E300}}},[mathlib.rn,mathlib.rndEl]);(function(h,ea,w){function Sa(a,b){var c=d[a];switch(c.length){case 1:return h(c[0],[""],b);case 2:return h(c[0],c[1],b);case 3:return h(c[0],c[1],c[2])}}function c(b,c){var d=f[b],h=d[1],r=d[2],n=0,z=0,Qa=[],Ra=[["R","R'"],["R'","R"],["L","L'"],["L'","L"],["F'","F"],["F","F'"],["B","B'"],["B'","B"]],Sa=["U","D"];d=d[0];for(var Wa=0;Wa<r.length;Wa++)Qa[Wa]=0;for(Wa=0;Wa<c;Wa++){for(var bb=!1;!bb;)for(var Ua="",lb=0;lb<r.length;lb++){var kb=ea(4);Qa[lb]+=kb;0!=kb&&(bb=!0,Ua+=" "+r[lb]+a[kb-1])}bb=
ea(8);lb=ea(2);kb=ea(3);d+=Ua+" "+Ra[bb][0]+" "+Sa[lb]+a[kb]+" "+Ra[bb][1];0==lb&&(n+=kb+1);1==lb&&(z+=kb+1)}for(Wa=0;Wa<r.length;Wa++)kb=4-Qa[Wa]%4,4>kb&&(d+=" "+r[Wa]+a[kb-1]);n=4-n%4;z=4-z%4;4>n&&(d+=" U"+a[n-1]);4>z&&(d+=" D"+a[z-1]);return d+=" "+w(h)}function z(a,b){var c=r[a].replace(/%l/g,b).replace(/%c/g,'["","2","\'"]');return scrMgr.formatScramble(c)}var a=["","2","'"],b=["","2","'","2'"],d={111:[[["x"],["y"],["z"]],a],2223:[[["U"],["R"],["F"]],a],2226:[[[["U","D"]],[["R","L"]],[["F","B"]]],
a],"333o":[[["U","D"],["R","L"],["F","B"]],a],334:[[[["U","U'","U2"],["u","u'","u2"]],[["R2","L2","M2"]],[["F2","B2","S2"]]]],336:[[[["U","U'","U2"],["u","u'","u2"],["3u","3u2","3u'"]],[["R2","L2","M2"]],[["F2","B2","S2"]]]],888:[["U D u d 3u 3d 4u".split(" "),"R L r l 3r 3l 4r".split(" "),"F B f b 3f 3b 4f".split(" ")],a],999:[["U D u d 3u 3d 4u 4d".split(" "),"R L r l 3r 3l 4r 4l".split(" "),"F B f b 3f 3b 4f 4b".split(" ")],a],101010:[["U D u d 3u 3d 4u 4d 5u".split(" "),"R L r l 3r 3l 4r 4l 5r".split(" "),
"F B f b 3f 3b 4f 4b 5f".split(" ")],a],111111:[["U D u d 3u 3d 4u 4d 5u 5d".split(" "),"R L r l 3r 3l 4r 4l 5r 5l".split(" "),"F B f b 3f 3b 4f 4b 5f 5b".split(" ")],a],444:[[["U","D","u"],["R","L","r"],["F","B","f"]],a],"444m":[[["U","D","Uw"],["R","L","Rw"],["F","B","Fw"]],a],555:[[["U","D","u","d"],["R","L","r","l"],["F","B","f","b"]],a],"555wca":[[["U","D","Uw","Dw"],["R","L","Rw","Lw"],["F","B","Fw","Bw"]],a],"666p":[[["U","D","2U","2D","3U"],["R","L","2R","2L","3R"],["F","B","2F","2B","3F"]],
a],"666wca":[[["U","D","Uw","Dw","3Uw"],["R","L","Rw","Lw","3Rw"],["F","B","Fw","Bw","3Fw"]],a],"666s":[[["U","D","U&sup2;","D&sup2;","U&sup3;"],["R","L","R&sup2;","L&sup2;","R&sup3;"],["F","B","F&sup2;","B&sup2;","F&sup3;"]],a],"666si":[[["U","D","u","d","3u"],["R","L","r","l","3r"],["F","B","f","b","3f"]],a],"777p":[["U D 2U 2D 3U 3D".split(" "),"R L 2R 2L 3R 3L".split(" "),"F B 2F 2B 3F 3B".split(" ")],a],"777wca":[["U D Uw Dw 3Uw 3Dw".split(" "),"R L Rw Lw 3Rw 3Lw".split(" "),"F B Fw Bw 3Fw 3Bw".split(" ")],
a],"777s":[["U D U&sup2; D&sup2; U&sup3; D&sup3;".split(" "),"R L R&sup2; L&sup2; R&sup3; L&sup3;".split(" "),"F B F&sup2; B&sup2; F&sup3; B&sup3;".split(" ")],a],"777si":[["U D u d 3u 3d".split(" "),"R L r l 3r 3l".split(" "),"F B f b 3f 3b".split(" ")],a],cm3:[[[["U<","U>","U2"],["E<","E>","E2"],["D<","D>","D2"]],[["R^","Rv","R2"],["M^","Mv","M2"],["L^","Lv","L2"]]]],cm2:[[[["U<","U>","U2"],["D<","D>","D2"]],[["R^","Rv","R2"],["L^","Lv","L2"]]]],233:[[[["U","U'","U2"]],["R2","L2"],["F2","B2"]]],
fto:[[["U","D"],["F","B"],["L","BR"],["R","BL"]],["","'"]],gear:[[["U"],["R"],["F"]]," 2 3 4 5 6 ' 2' 3' 4' 5'".split(" ")],sfl:[[["R","L"],["U","D"]],a],ufo:[[["A"],["B"],["C"],[["U","U'","U2'","U2","U3"]]]],"2gen":[[["U"],["R"]],a],"2genl":[[["U"],["L"]],a],roux:[[["U"],["M"]],a],"3gen_F":[[["U"],["R"],["F"]],a],"3gen_L":[[["U"],["R","L"]],a],RrU:[[["U"],["R","r"]],a],RrUu:[[["U","u"],["R","r"]],a],minx2g:[[["U"],["R"]],b],mlsll:[[[["R U R'","R U2 R'","R U' R'","R U2' R'"]],[["F' U F","F' U2 F",
"F' U' F","F' U2' F"]],[["U","U2","U'","U2'"]]]],half:[[["U","D"],["R","L"],["F","B"]],["2"]],lsll:[[[["R U R'","R U2 R'","R U' R'"]],[["F' U F","F' U2 F","F' U' F"]],[["U","U2","U'"]]]],prco:[[["F","B"],["U","D"],["L","DBR"],["R","DBL"],["BL","DR"],["BR","DL"]],b],skb:[[["R"],["L"],["B"],["U"]],["","'"]],112:[[["R"],["R"]],a],eide:[[["OMG"],["WOW"],["WTF"],["WOO-HOO WOO-HOO MATYAS YES YES YAY YEEEEEEEEEEEES".split(" ")],["HAHA"],["XD"],[":D"],["LOL"]],["","","","!!!"]]},r={sia113:'#{[["U","u"],["R","r"]],%c,%l} z2 #{[["U","u"],["R","r"]],%c,%l}',
sia123:'#{[["U"],["R","r"]],%c,%l} z2 #{[["U"],["R","r"]],%c,%l}',sia222:'#{[["U"],["R"],["F"]],%c,%l} z2 y #{[["U"],["R"],["F"]],%c,%l}',335:'#{[[["U","U\'","U2"],["D","D\'","D2"]],["R2","L2"],["F2","B2"]],0,%l} / ${333}',337:'#{[[["U","U\'","U2","u","u\'","u2","U u","U u\'","U u2","U\' u","U\' u\'","U\' u2","U2 u","U2 u\'","U2 u2"],["D","D\'","D2","d","d\'","d2","D d","D d\'","D d2","D\' d","D\' d\'","D\' d2","D2 d","D2 d\'","D2 d2"]],["R2","L2"],["F2","B2"]],0,%l} / ${333}',r234:"2) ${222so}\n3) ${333}\n4) ${[444,40]}",
r2345:'${r234}\n5) ${["555",60]}',r23456:'${r2345}\n6) ${["666p",80]}',r234567:'${r23456}\n7) ${["777p",100]}',r234w:'2) ${222so}\n3) ${333}\n4) ${["444m",40]}',r2345w:'${r234w}\n5) ${["555wca",60]}',r23456w:'${r2345w}\n6) ${["666wca",80]}',r234567w:'${r23456w}\n7) ${["777wca",100]}',"333ni":'${333}#{[[""]],["","Rw ","Rw2 ","Rw\' ","Fw ","Fw\' "],1}#{[[""]],["","Uw","Uw2","Uw\'"],1}',"444bld":'${444wca}#{[[""]],[""," x"," x2"," x\'"," z"," z\'"],1}#{[[""]],[""," y"," y2"," y\'"],1}',"555bld":'${["555wca",%l]}#{[[""]],[""," 3Rw"," 3Rw2"," 3Rw\'"," 3Fw"," 3Fw\'"],1}#{[[""]],[""," 3Uw"," 3Uw2"," 3Uw\'"],1}'},
f={"4edge":["r b2",["b2 r'","b2 U2 r U2 r U2 r U2 r"],["u"]],"5edge":["r R b B",["B' b' R' r'","B' b' R' U2 r U2 r U2 r U2 r"],["u","d"]],"6edge":["3r r 3b b",["3b' b' 3r' r'","3b' b' 3r' U2 r U2 r U2 r U2 r","3b' b' r' U2 3r U2 3r U2 3r U2 3r","3b' b' r2 U2 3r U2 3r U2 3r U2 3r U2 r"],["u","3u","d"]],"7edge":["3r r 3b b",["3b' b' 3r' r'","3b' b' 3r' U2 r U2 r U2 r U2 r","3b' b' r' U2 3r U2 3r U2 3r U2 3r","3b' b' r2 U2 3r U2 3r U2 3r U2 3r U2 r"],["u","3u","3d","d"]]},Wa;for(Wa in d)scrMgr.reg(Wa,
Sa);for(Wa in r)scrMgr.reg(Wa,z);for(Wa in f)scrMgr.reg(Wa,c)})(scrMgr.mega,mathlib.rn,mathlib.rndEl);var scramble_333=function(h,ea,w,Sa,c,z){function a(a){a.cp=[0,1,2,3,4,5,6,7];a.co=[0,0,0,0,0,0,0,0];a.ep=[0,1,2,3,4,5,6,7,8,9,10,11];a.eo=[0,0,0,0,0,0,0,0,0,0,0,0]}function b(a,b,c){var d;for(d=0;8>d;++d){c.cp[d]=a.cp[b.cp[d]];var f=a.co[b.cp[d]];var n=b.co[d];var h=f;h+=3>f?n:6-n;h%=3;3<=f!==3<=n&&(h+=3);c.co[d]=h}}function d(){a(this)}function r(b,c,d,f){a(this);w(this.cp,b);b=c;var n=0;for(c=6;0<=c;--c)n+=this.co[c]=b%3,b=~~(b/3);this.co[7]=(15-n)%3;ea(this.ep,d,12);d=f;b=0;for(f=10;0<=f;--f)b^=
this.eo[f]=d&1,d>>=1;this.eo[11]=b}function f(a,b,c){var d;for(d=0;12>d;++d)c.ep[d]=a.ep[b.ep[d]],c.eo[d]=b.eo[d]^a.eo[b.ep[d]]}function Wa(){Wa=$.noop;var a,c;gb[0]=new r(15120,0,119750400,0);gb[3]=new r(21021,1494,323403417,0);gb[6]=new r(8064,1236,29441808,550);gb[9]=new r(9,0,5880,0);gb[12]=new r(1230,412,2949660,0);gb[15]=new r(224,137,328552,137);for(a=0;18>a;a+=3)for(c=0;2>c;++c)gb[a+c+1]=new d,f(gb[a+c],gb[a],gb[a+c+1]),b(gb[a+c],gb[a],gb[a+c+1])}function Ua(){return n(0xffffffffffff,0xffffffffffff,
4294967295,4294967295)}function Qa(a){for(var b=0,c=0;c<a.length;c++)-1==a[c]&&b++;return b}function Ta(a,b,d){for(var f=0,n=0,h=0;h<a.length;h++)-1!=a[h]&&(f+=a[h]);f%=d;for(h=0;h<a.length-1;h++)-1==a[h]&&(1==b--?a[h]=((d<<4)-f)%d:(a[h]=c(d),f+=a[h])),n*=d,n+=a[h];return n}function ma(a,b,d){for(var f=[0,1,2,3,4,5,6,7,8,9,10,11],n=0;n<a.length;n++)-1!=a[n]&&(f[a[n]]=-1);for(var r=n=0;n<f.length;n++)-1!=f[n]&&(f[r++]=f[n]);var w;for(n=0;n<a.length&&0<b;n++)if(-1==a[n]){r=c(b);for(a[n]=f[r];11>r;r++)f[r]=
f[r+1];2==b--&&(w=n)}Sa(h(a,a.length),a.length)==1-d&&(b=a[n-1],a[n-1]=a[w],a[w]=b);return h(a,a.length)}function Va(a,b){if("number"!==typeof a)return a;for(var c=[],d=0;d<b;d++){var f=a&15;c[d]=15==f?-1:f;a/=16}return c}function n(a,c,n,w,ea,Ra){Wa();ea=ea||tb;Ra=Ra||tb;a=Va(a,12);c=Va(c,12);n=Va(n,8);w=Va(w,8);var Xa="";do{var hb=c.slice(),bb=a.slice(),Ua=w.slice(),Ya=n.slice();hb=Ta(hb,Qa(hb),2);Ua=Ta(Ua,Qa(Ua),3);var fb=Qa(bb),pb=Qa(Ya);0==fb&&0==pb?(bb=h(bb,12),Ya=h(Ya,8)):0!=fb&&0==pb?(Ya=
h(Ya,8),bb=ma(bb,fb,Sa(Ya,8))):(bb=0==fb&&0!=pb?h(bb,12):ma(bb,fb,-1),Ya=ma(Ya,pb,Sa(bb,12)));if(0!=Ya+Ua+bb+hb){Xa=new r(Ya,Ua,bb,hb);bb=new d;Ya=z(Ra);hb=z(ea);for(Ua=0;Ua<Ya.length;Ua++)b(gb[Ya[Ua]],Xa,bb),f(gb[Ya[Ua]],Xa,bb),fb=bb,bb=Xa,Xa=fb;for(Ua=0;Ua<hb.length;Ua++)b(Xa,gb[hb[Ua]],bb),f(Xa,gb[hb[Ua]],bb),fb=bb,bb=Xa,Xa=fb;Ya=Xa;bb=[];Xa=[85,82,70,68,76,66];for(hb=0;54>hb;++hb)bb[hb]=Xa[~~(hb/9)];for(pb=0;8>pb;++pb)for(fb=Ya.cp[pb],hb=Ya.co[pb],Ua=0;3>Ua;++Ua)bb[Za[pb][(Ua+hb)%3]]=Xa[~~(Za[fb][Ua]/
9)];for(pb=0;12>pb;++pb)for(fb=Ya.ep[pb],hb=Ya.eo[pb],Ua=0;2>Ua;++Ua)bb[cb[pb][(Ua+hb)%2]]=Xa[~~(cb[fb][Ua]/9)];Xa=String.fromCharCode.apply(null,bb);Xa=(new min2phase.Search).solution(Xa,21,1E9,50,2)}}while(3>=Xa.length);return Xa.replace(/ +/g," ")}function Xa(){return n(0xffffffffffff,0xffffffffffff,1985229328,0)}function fb(){return n(0xba9876543210,0,4294967295,4294967295)}function Ra(){return n(0xba987654ffff,65535,1985282047,65535)}function Ya(a,b,c){a=rb[scrMgr.fixCase(c,hb)];b=Math.pow(16,
a&15);c=Math.pow(16,a>>8&15);return n(0xba9f7654ffff-7*b,64424574975-(15^a>>4&1)*b,1986002943-11*c,1048575-(15^a>>12&3)*c)}function eb(){return n(0xffff7654ffff,0xffff0000ffff,4294967295,4294967295)}function bb(a,b,c){a=pb[scrMgr.fixCase(c,wb)];return n(0xba987654ffff,0,a[0]+1985216512,a[1],ab,ab)}function jb(){return n(0xba9876543f1f,0,1985282047,65535,ab)}function lb(){var a=c(4);return n(0xba98f6f4ffff,4042326015,1985229328,0,[mb[a]],ab)+yb[a]}function kb(a,b,d){a=c(4);b=[];for(var f=0;f<ab.length;f++)b.push(ab[f].concat(mb[a]));
return n(0xba98f6f4ffff,4042326015,1985282047,Db[scrMgr.fixCase(d,Bb)],b,ab)+yb[a]}function db(){return n(0xba9876543210,0,1985282047,65535)}function ib(){return n(0xba987654ffff,65535,1985229328,0)}r.prototype=d.prototype;var gb=[],Za=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],cb=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]],ob=new min2phase.Search,ab=[[],[0],[1],[2]],mb=[[],[3,14],[4,13],[5,12]],yb=["","x'",
"x2","x"],tb=[[]],rb=[8192,4113,8210,4099,8195,4114,8194,4115,8211,4098,8208,4097,8209,4096,8193,4112,0,17,3,18,2,19,1,16,1024,1041,5120,9233,5137,9216,24,8,8200,4104,8216,4120,1048,5128,9224,5144,9240,1032],hb=[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1],pb=[[12816,8481],[12306,8481],[12576,8481],[12801,8481],[12306,4128],[12321,4128],[12801,4128],[12546,4128],[12816,4128],[12576,4128],[12546,4386],[12576,4386],[12306,4386],[12321,4386],[12816,4386],[12801,
4386],[12576,8736],[12546,8736],[12816,8736],[12801,8736],[12321,8736],[12306,8736],[12816,8448],[12306,8448],[12801,8448],[12576,8448],[12546,8448],[12321,8448],[12321,4608],[12801,4608],[12306,4608],[12576,4608],[12546,4608],[12816,4608],[12546,4353],[12576,4353],[12306,4353],[12321,4353],[12816,4353],[12801,4353],[65535,0]],wb=[1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3],Db=[0,4626,258,4386,546,33,18,273],Bb=[6,12,24,24,24,24,24,24],ub=[[4146,12816],[12546,
12816],[12321,12816],[8961,12816],[12816,12321],[12816,12546],[12816,8961],[12306,12801],[8496,12321],[4896,12546],[12321,12546],[12546,12321],[12801,12801],[12576,12801],[4656,12306],[12306,12306],[531,12801],[8976,12801],[4656,12801],[12576,12306],[12801,12306]],nb=[1,4,4,2,4,4,2,4,4,4,4,4,4,4,1,1,4,4,4,4,4],sb=[[0,0],[4369,4626],[4369,4386],[4369,546],[4369,273],[17,8226],[17,4113],[17,8706],[17,273],[17,4368],[17,8736],[17,546],[17,4353],[257,8226],[257,273],[257,546],[257,4113],[4369,258],[4369,
18],[4369,33],[4369,0],[0,4626],[0,4386],[0,18],[0,33],[0,258],[0,273],[0,546],[17,0],[17,528],[17,8448],[17,33],[17,4098],[257,33],[257,528],[17,4128],[17,258],[17,8208],[17,513],[257,4128],[257,258],[17,4608],[17,288],[17,18],[17,8193],[257,18],[257,288],[17,4641],[17,4386],[17,8466],[17,8721],[257,4641],[257,4386],[17,8481],[17,4626],[257,8481],[257,4626],[257,0]],xb=[1,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,2,2,2];scrMgr.reg("333",
Ua)("333fm",function(){do{var a=Ua();var b=a.split(" ");if(!(3>b.length)){var c=b[0][0];var d=b[1][0];var f=b[b.length-2][0];var n=b[b.length-3][0]}}while("F"==c||"B"==c&&"F"==d||"R"==f||"L"==f&&"R"==n);return"R' U' F "+a+"R' U' F"})("edges",Xa)("corners",fb)("ll",Ra)("lsll2",Ya,["Easy-01 Easy-02 Easy-03 Easy-04 RE-05 RE-06 RE-07 RE-08 REFC-09 REFC-10 REFC-11 REFC-12 REFC-13 REFC-14 SPGO-15 SPGO-16 SPGO-17 SPGO-18 PMS-19 PMS-20 PMS-21 PMS-22 Weird-23 Weird-24 CPEU-25 CPEU-26 CPEU-27 CPEU-28 CPEU-29 CPEU-30 EPCU-31 EPCU-32 EPCU-33 EPCU-34 EPCU-35 EPCU-36 ECP-37 ECP-38 ECP-39 ECP-40 ECP-41 Solved-42".split(" "),
hb])("f2l",eb)("zbll",bb,["H-BBFF H-FBFB H-RFLF H-RLFF L-FBRL L-LBFF L-LFFB L-LFFR L-LRFF L-RFBL Pi-BFFB Pi-FBFB Pi-FRFL Pi-FRLF Pi-LFRF Pi-RFFL S-FBBF S-FBFB S-FLFR S-FLRF S-LFFR S-LFRF T-BBFF T-FBFB T-FFLR T-FLFR T-RFLF T-RLFF U-BBFF U-BFFB U-FFLR U-FRLF U-LFFR U-LRFF aS-FBBF aS-FBFB aS-FRFL aS-FRLF aS-LFRF aS-RFFL PLL".split(" "),wb])("zzll",jb)("zbls",function(){return n(0xba9f7654ffff,0,1986002943,1048575)})("lse",lb)("cmll",kb,["O H L Pi S T U aS".split(" "),Bb])("cll",db)("ell",ib)("pll",function(a,
b,c){a=ub[scrMgr.fixCase(c,nb)];return n(a[0]+0xba9876540000,0,a[1]+1985216512,0,ab,ab)},["H Ua Ub Z Aa Ab E F Ga Gb Gc Gd Ja Jb Na Nb Ra Rb T V Y".split(" "),nb])("oll",function(a,b,c){a=sb[scrMgr.fixCase(c,xb)];return n(0xba987654ffff,a[0],1985282047,a[1],ab,ab)},["PLL Point-1 Point-2 Point-3 Point-4 Square-5 Square-6 SLBS-7 SLBS-8 Fish-9 Fish-10 SLBS-11 SLBS-12 Knight-13 Knight-14 Knight-15 Knight-16 Point-17 Point-18 Point-19 CO-20 OCLL-21 OCLL-22 OCLL-23 OCLL-24 OCLL-25 OCLL-26 OCLL-27 CO-28 Awkward-29 Awkward-30 P-31 P-32 T-33 C-34 Fish-35 W-36 Fish-37 W-38 BLBS-39 BLBS-40 Awkward-41 Awkward-42 P-43 P-44 T-45 C-46 L-47 L-48 L-49 L-50 I-51 I-52 L-53 L-54 I-55 I-56 CO-57".split(" "),
xb])("2gll",function(){return n(0xba987654ffff,0,1985229328,65535,ab)})("easyc",function(a,b){var c=cross.getEasyCross(b);return n(c[0],c[1],4294967295,4294967295)})("eoline",function(){return n(0xffff7f5fffff,0,4294967295,4294967295)});return{getRandomScramble:Ua,getEdgeScramble:Xa,getCornerScramble:fb,getLLScramble:Ra,getLSLLScramble:Ya,getZBLLScramble:bb,getZZLLScramble:jb,getF2LScramble:eb,getLSEScramble:lb,getCMLLScramble:kb,getCLLScramble:db,getELLScramble:ib,getAnyScramble:n,genFacelet:function(a){return ob.solution(a,
21,1E9,50,2)},solvFacelet:function(a){return ob.solution(a,21,1E9,50,0)}}}(mathlib.getNPerm,mathlib.setNPerm,mathlib.set8Perm,mathlib.getNParity,mathlib.rn,mathlib.rndEl);var scramble_444=function(h,ea,w){function Sa(a,b){var c;var d=Array(a);if(void 0!=b)for(c=0;c<a;c++)d[c]=Array(b);return d}function c(a,b,c){var d=pc[a];d&&!d.___clazz$?zb=d.prototype:(!d&&(d=pc[a]=function(){}),zb=d.prototype=0>b?{}:new pc[b],zb.castableTypeMap$=c);for(var f=3;f<arguments.length;++f)arguments[f].prototype=zb;d.___clazz$&&(zb.___clazz$=d.___clazz$,d.___clazz$=null)}function z(a){for(var b={},c=0,d=a.length;c<d;++c)b[a[c]]=1;return b}function a(){}function b(){}function d(a,b){var c=
Array(b);if(3==a)for(var d=0;d<b;++d){var f={};f.l=f.m=f.h=0;c[d]=f}else if(0<a)for(f=[null,0,!1][a],d=0;d<b;++d)c[d]=f;return c}function r(a,b,c,n,h){n=d(h,n);f(a,b,c,n);return n}function f(a,b,c,d){Wa();var f=Ic,n=Jc;Wa();for(var h=0,zc=f.length;h<zc;++h)d[f[h]]=n[h];d.___clazz$=a;d.castableTypeMap$=b;d.queryId$=c;return d}function Wa(){Wa=a;Ic=[];Jc=[];var c=new b,d=Ic,f=Jc,n=0,h,r;for(r in c)if(h=c[r])d[n]=r,f[n]=h,++n}function Ua(){Ua=a;Ac=Sa(15582,36);qc=Sa(15582);Ub=Sa(15582);jc=Sa(48,48);
Wb=Sa(48,36);kc=Sa(48);Kc=Sa(48)}function Qa(a,b){var c;if(null!=b&&b.castableTypeMap$&&b.castableTypeMap$[21]){for(c=0;24>c;++c)if(a.ct[c]!=b.ct[c])return!1;return!0}return!1}function Ta(a){var b;var c=0;var d=8;for(b=23;0<=b;--b)1==a.ct[b]&&(c+=ea[b][d--]);return c}function ma(a){var b;if(null!=lc)return lc[Ta(a)];for(b=0;48>b;++b){var c=Ta(a);a:{var d;var f=0;for(d=qc.length-1;f<=d;){var h=f+(~~(d-f)>>1);var zc=qc[h];if(zc<c)f=h+1;else if(zc>c)d=h-1;else{c=h;break a}}c=-f-1}c=0<=c?c:-1;if(-1!=
c)return 64*c+b;n(a,0);1==b%2&&n(a,1);7==b%8&&n(a,2);15==b%16&&n(a,3)}}function Va(a,b){var c=b%3;switch(~~(b/3)){case 0:$a(a.ct,0,1,2,3,c);break;case 1:$a(a.ct,16,17,18,19,c);break;case 2:$a(a.ct,8,9,10,11,c);break;case 3:$a(a.ct,4,5,6,7,c);break;case 4:$a(a.ct,20,21,22,23,c);break;case 5:$a(a.ct,12,13,14,15,c);break;case 6:$a(a.ct,0,1,2,3,c);$a(a.ct,8,20,12,16,c);$a(a.ct,9,21,13,17,c);break;case 7:$a(a.ct,16,17,18,19,c);$a(a.ct,1,15,5,9,c);$a(a.ct,2,12,6,10,c);break;case 8:$a(a.ct,8,9,10,11,c);
$a(a.ct,2,19,4,21,c);$a(a.ct,3,16,5,22,c);break;case 9:$a(a.ct,4,5,6,7,c);$a(a.ct,10,18,14,22,c);$a(a.ct,11,19,15,23,c);break;case 10:$a(a.ct,20,21,22,23,c);$a(a.ct,0,8,4,14,c);$a(a.ct,3,11,7,13,c);break;case 11:$a(a.ct,12,13,14,15,c),$a(a.ct,1,20,7,18,c),$a(a.ct,0,23,6,17,c)}}function n(a,b){switch(b){case 0:Va(a,19);Va(a,28);break;case 1:Va(a,21);Va(a,32);break;case 2:$a(a.ct,0,3,1,2,1);$a(a.ct,8,11,9,10,1);$a(a.ct,4,7,5,6,1);$a(a.ct,12,15,13,14,1);$a(a.ct,16,19,21,22,1);$a(a.ct,17,18,20,23,1);
break;case 3:Va(a,18),Va(a,29),Va(a,24),Va(a,35)}}function Xa(a,b){var c;for(c=0;c<b;++c)n(a,0),1==c%2&&n(a,1),7==c%8&&n(a,2),15==c%16&&n(a,3)}function fb(a,b){var c;var d=8;for(c=23;0<=c;--c)a.ct[c]=0,b>=ea[c][d]&&(b-=ea[c][d--],a.ct[c]=1)}function Ra(a,b){var c;for(c=0;24>c;++c)a.ct[c]=b.ct[c]}function Ya(){var a;this.ct=Sa(24);for(a=0;8>a;++a)this.ct[a]=1;for(a=8;24>a;++a)this.ct[a]=0}function eb(a,b){var c;this.ct=Sa(24);for(c=0;24>c;++c)this.ct[c]=~~(a.ct[c]/2)==b?1:0}function bb(a){var b;this.ct=
Sa(24);for(b=0;24>b;++b)this.ct[b]=a[b]}function jb(){jb=a;Bc=Sa(70,28);Cc=Sa(6435,28);jd=Sa(70,16);kd=Sa(6435,16);Ob=Sa(450450);ld=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0]}function lb(a){var b;var c=0;var d=8;for(b=14;0<=b;--b)a.ct[b]!=a.ct[15]&&(c+=ea[b][d--]);return c}function kb(a){var b;var c=0;var d=4;for(b=6;0<=b;--b)a.rl[b]!=a.rl[7]&&(c+=ea[b][d--]);return 2*c+a.parity}function db(a,b){a.parity^=ld[b];var c=b%3;switch(~~(b/3)){case 0:$a(a.ct,0,1,2,3,c);break;
case 1:$a(a.rl,0,1,2,3,c);break;case 2:$a(a.ct,8,9,10,11,c);break;case 3:$a(a.ct,4,5,6,7,c);break;case 4:$a(a.rl,4,5,6,7,c);break;case 5:$a(a.ct,12,13,14,15,c);break;case 6:$a(a.ct,0,1,2,3,c);$a(a.rl,0,5,4,1,c);$a(a.ct,8,9,12,13,c);break;case 7:$a(a.rl,0,1,2,3,c);$a(a.ct,1,15,5,9,c);$a(a.ct,2,12,6,10,c);break;case 8:$a(a.ct,8,9,10,11,c);$a(a.rl,0,3,6,5,c);$a(a.ct,3,2,5,4,c);break;case 9:$a(a.ct,4,5,6,7,c);$a(a.rl,3,2,7,6,c);$a(a.ct,11,10,15,14,c);break;case 10:$a(a.rl,4,5,6,7,c);$a(a.ct,0,8,4,14,
c);$a(a.ct,3,11,7,13,c);break;case 11:$a(a.ct,12,13,14,15,c),$a(a.rl,1,4,7,2,c),$a(a.ct,1,0,7,6,c)}}function ib(a,b){switch(b){case 0:db(a,19);db(a,28);break;case 1:db(a,21);db(a,32);break;case 2:$a(a.ct,0,3,1,2,1),$a(a.ct,8,11,9,10,1),$a(a.ct,4,7,5,6,1),$a(a.ct,12,15,13,14,1),$a(a.rl,0,3,5,6,1),$a(a.rl,1,2,4,7,1)}}function gb(a,b,c){var d;for(d=0;16>d;++d)a.ct[d]=~~(b.ct[d]/2);for(d=0;8>d;++d)a.rl[d]=b.ct[d+16];a.parity=c}function Za(a,b){var c;var d=8;a.ct[15]=0;for(c=14;0<=c;--c)b>=ea[c][d]?(b-=
ea[c][d--],a.ct[c]=1):a.ct[c]=0}function cb(a,b){var c;a.parity=b&1;b>>>=1;var d=4;a.rl[7]=0;for(c=6;0<=c;--c)b>=ea[c][d]?(b-=ea[c][d--],a.rl[c]=1):a.rl[c]=0}function ob(){this.rl=Sa(8);this.ct=Sa(16)}function ab(){ab=a;rc=Sa(29400,20);md=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1];bc=Sa(29400);Lc=[0,9,14,23,27,28,41,42,46,55,60,69];Mc=Sa(70)}function mb(a){var b;var c=0;var d=4;for(b=6;0<=b;--b)a.ud[b]!=a.ud[7]&&(c+=ea[b][d--]);c*=35;d=4;for(b=6;0<=b;--b)a.fb[b]!=a.fb[7]&&(c+=ea[b][d--]);var f=a.fb[7]^
a.ud[7];var n=0;d=4;for(b=7;0<=b;--b)a.rl[b]!=f&&(n+=ea[b][d--]);return a.parity+2*(12*c+Mc[n])}function yb(a,b,c){var d;var f=b.ct[0]>b.ct[8]^b.ct[8]>b.ct[16]^b.ct[0]>b.ct[16]?1:0;for(d=0;8>d;++d)a.ud[d]=b.ct[d]&1^1,a.fb[d]=b.ct[d+8]&1^1,a.rl[d]=b.ct[d+16]&1^1^f;a.parity=f^c}function tb(){this.ud=Sa(8);this.rl=Sa(8);this.fb=Sa(8)}function rb(){rb=a}function hb(){var a;this.ct=Sa(24);for(a=0;24>a;++a)this.ct[a]=~~(a/4)}function pb(a){hb.call(this);for(a=0;23>a;++a){var b=a+h(24-a);if(this.ct[b]!=
this.ct[a]){var c=this.ct[a];this.ct[a]=this.ct[b];this.ct[b]=c}}}function wb(){wb=a;Sb=Sa(18);var b,c;Sb[0]=new sb(15120,0);Sb[3]=new sb(21021,1494);Sb[6]=new sb(8064,1236);Sb[9]=new sb(9,0);Sb[12]=new sb(1230,412);Sb[15]=new sb(224,137);for(b=0;18>b;b+=3)for(c=0;2>c;++c)Sb[b+c+1]=new nb,ub(Sb[b+c],Sb[b],Sb[b+c+1])}function Db(a){a.cp=[0,1,2,3,4,5,6,7];a.co=[0,0,0,0,0,0,0,0]}function Bb(a,b){var c;for(c=0;8>c;++c)a.cp[c]=b.cp[c],a.co[c]=b.co[c]}function ub(a,b,c){var d;for(d=0;8>d;++d){c.cp[d]=a.cp[b.cp[d]];
var f=a.co[b.cp[d]];var n=b.co[d];var h=f;h+=3>f?n:6-n;h%=3;3<=f^3<=n&&(h+=3);c.co[d]=h}}function nb(){Db(this)}function sb(a,b){Db(this);mathlib.set8Perm(this.cp,a);var c=b,d;var f=0;for(d=6;0<=d;--d)f+=this.co[d]=c%3,c=~~(c/3);this.co[7]=(15-f)%3}function xb(a){sb.call(this,h(40320),h(2187))}function qb(){qb=a;Xb=Sa(1937880);Dc=Sa(1538);Ec=Sa(1538);mc=Sa(11880);nd=[0,1,6,3,4,5,2,7];Nc=Sa(160,12);Oc=Sa(160,12);Pc=[1,1,1,3,12,60,360,2520,20160,181440,1814400,19958400,239500800];Qc=[0,2,4,6,1,3,7,
5,8,9,10,11]}function Fb(a,b,c,d,f){var n=a.edgeo[f];a.edgeo[f]=a.edge[d];a.edge[d]=a.edgeo[c];a.edgeo[c]=a.edge[b];a.edge[b]=n}function Ab(a,b){var c;a.isStd||Lb(a);var d=0;var f=1985229328;var n=47768;for(c=0;c<b;++c){var h=a.edge[c]<<2;d*=12-c;32<=h?(d+=n>>h-32&15,n-=4368<<h-32):(d+=f>>h&15,n-=4369,f-=286331152<<h)}return d}function Gb(a){var b=Ab(a,4);b=mc[b];var c=b&7;b>>=3;Eb(a,c);a=Ab(a,10)%20160;return 20160*b+a}function Tb(a,b){a.isStd=!1;switch(b){case 0:w(a.edge,0,4,1,5);w(a.edgeo,0,4,
1,5);break;case 1:vb(a.edge,0,4,1,5);vb(a.edgeo,0,4,1,5);break;case 2:w(a.edge,0,5,1,4);w(a.edgeo,0,5,1,4);break;case 3:vb(a.edge,5,10,6,11);vb(a.edgeo,5,10,6,11);break;case 4:w(a.edge,0,11,3,8);w(a.edgeo,0,11,3,8);break;case 5:vb(a.edge,0,11,3,8);vb(a.edgeo,0,11,3,8);break;case 6:w(a.edge,0,8,3,11);w(a.edgeo,0,8,3,11);break;case 7:w(a.edge,2,7,3,6);w(a.edgeo,2,7,3,6);break;case 8:vb(a.edge,2,7,3,6);vb(a.edgeo,2,7,3,6);break;case 9:w(a.edge,2,6,3,7);w(a.edgeo,2,6,3,7);break;case 10:vb(a.edge,4,8,
7,9);vb(a.edgeo,4,8,7,9);break;case 11:w(a.edge,1,9,2,10);w(a.edgeo,1,9,2,10);break;case 12:vb(a.edge,1,9,2,10);vb(a.edgeo,1,9,2,10);break;case 13:w(a.edge,1,10,2,9);w(a.edgeo,1,10,2,9);break;case 14:vb(a.edge,0,4,1,5);vb(a.edgeo,0,4,1,5);w(a.edge,9,11);w(a.edgeo,8,10);break;case 15:vb(a.edge,5,10,6,11);vb(a.edgeo,5,10,6,11);w(a.edge,1,3);w(a.edgeo,0,2);break;case 16:vb(a.edge,0,11,3,8);vb(a.edgeo,0,11,3,8);w(a.edge,5,7);w(a.edgeo,4,6);break;case 17:vb(a.edge,2,7,3,6);vb(a.edgeo,2,7,3,6);w(a.edge,
8,10);w(a.edgeo,9,11);break;case 18:vb(a.edge,4,8,7,9);vb(a.edgeo,4,8,7,9);w(a.edge,0,2);w(a.edgeo,1,3);break;case 19:vb(a.edge,1,9,2,10),vb(a.edgeo,1,9,2,10),w(a.edge,4,6),w(a.edgeo,5,7)}}function Mb(a,b){a.isStd=!1;switch(b){case 0:Tb(a,14);Tb(a,17);break;case 1:Fb(a,11,5,10,6);Fb(a,5,10,6,11);Fb(a,1,2,3,0);Fb(a,4,9,7,8);Fb(a,8,4,9,7);Fb(a,0,1,2,3);break;case 2:Cb(a,4,5),Cb(a,5,4),Cb(a,11,8),Cb(a,8,11),Cb(a,7,6),Cb(a,6,7),Cb(a,9,10),Cb(a,10,9),Cb(a,1,1),Cb(a,0,0),Cb(a,3,3),Cb(a,2,2)}}function Eb(a,
b){for(;2<=b;)b-=2,Mb(a,1),Mb(a,2);0!=b&&Mb(a,0)}function Pb(a,b){var c,d;var f=1985229328;var n=47768;for(c=d=0;11>c;++c){var h=Pc[11-c];var r=~~(b/h);b%=h;d^=r;r<<=2;32<=r?(r-=32,a.edge[c]=n>>r&15,h=(1<<r)-1,n=(n&h)+(n>>4&~h)):(a.edge[c]=f>>r&15,h=(1<<r)-1,f=(f&h)+(f>>>4&~h)+(n<<28),n>>=4)}0==(d&1)?a.edge[11]=f:(a.edge[11]=a.edge[10],a.edge[10]=f);for(c=0;12>c;++c)a.edgeo[c]=c;a.isStd=!0}function Jb(a,b){var c;for(c=0;12>c;++c)a.edge[c]=b.edge[c],a.edgeo[c]=b.edgeo[c];a.isStd=b.isStd}function Hb(a,
b){var c;null==a.temp&&(a.temp=Sa(12));for(c=0;12>c;++c)a.temp[c]=c,a.edge[c]=b.ep[Qc[c]+12]%12;var d=1;for(c=0;12>c;++c)for(;a.edge[c]!=c;){var f=a.edge[c];a.edge[c]=a.edge[f];a.edge[f]=f;var n=a.temp[c];a.temp[c]=a.temp[f];a.temp[f]=n;d^=1}for(c=0;12>c;++c)a.edge[c]=a.temp[b.ep[Qc[c]]%12];return d}function Lb(a){var b;null==a.temp&&(a.temp=Sa(12));for(b=0;12>b;++b)a.temp[a.edgeo[b]]=b;for(b=0;12>b;++b)a.edge[b]=a.temp[a.edge[b]],a.edgeo[b]=b;a.isStd=!0}function vb(a,b,c,d,f){var n=a[b];a[b]=a[d];
a[d]=n;n=a[c];a[c]=a[f];a[f]=n}function Cb(a,b,c){var d=a.edge[b];a.edge[b]=a.edgeo[c];a.edgeo[c]=d}function Ib(){this.edge=Sa(12);this.edgeo=Sa(12)}function Kb(a,b){return a[b>>4]>>((b&15)<<1)&3}function Qb(a,b,c){var d=Oc[b];var f=Nc[b];var n=0;var h=1985229328;var r=47768;for(b=0;b<c;++b){var w=d[a[f[b]]]<<2;n*=12-b;32<=w?(n+=r>>w-32&15,r-=4368<<w-32):(n+=h>>w&15,r-=4369,h-=286331152<<w)}return n}function gc(a){var b=new Ib;var c=0;var d=Kb(Xb,a);if(3==d)return 10;for(;0!=a;){0==d?d=2:--d;var f=
~~(a/20160);f=Dc[f];var n=a%20160;Pb(b,20160*f+n);for(f=0;17>f;++f){n=Qb(b.edge,f<<3,4);n=mc[n];var h=n&7;n>>=3;h=Qb(b.edge,f<<3|h,10)%20160;n=20160*n+h;if(Kb(Xb,n)==d){++c;a=n;break}}}return c}function Zb(a,b,c){a[b>>4]^=(3^c)<<((b&15)<<1)}function ic(){ic=a}function ac(){var a;this.ep=Sa(24);for(a=0;24>a;++a)this.ep[a]=a}function $b(a){ac.call(this);for(a=0;23>a;++a){var b=a+h(24-a);if(b!=a){var c=this.ep[a];this.ep[a]=this.ep[b];this.ep[b]=c}}}function dc(){dc=a;Rc=[35,1,34,2,4,6,22,5,19]}function Vb(a,
b){var c=a.edge;var d=b.edge,f;for(f=0;24>f;++f)c.ep[f]=d.ep[f];c=a.center;d=b.center;for(f=0;24>f;++f)c.ct[f]=d.ct[f];Bb(a.corner,b.corner);a.value=b.value;a.add1=b.add1;a.length1=b.length1;a.length2=b.length2;a.length3=b.length3;a.sym=b.sym;for(c=0;60>c;++c)a.moveBuffer[c]=b.moveBuffer[c];a.moveLength=b.moveLength;a.edgeAvail=b.edgeAvail;a.centerAvail=b.centerAvail;a.cornerAvail=b.cornerAvail}function Rb(a){for(;a.centerAvail<a.moveLength;){var b=a.center,c=a.moveBuffer[a.centerAvail++];var d=c%
3;switch(~~(c/3)){case 0:$a(b.ct,0,1,2,3,d);break;case 1:$a(b.ct,16,17,18,19,d);break;case 2:$a(b.ct,8,9,10,11,d);break;case 3:$a(b.ct,4,5,6,7,d);break;case 4:$a(b.ct,20,21,22,23,d);break;case 5:$a(b.ct,12,13,14,15,d);break;case 6:$a(b.ct,0,1,2,3,d);$a(b.ct,8,20,12,16,d);$a(b.ct,9,21,13,17,d);break;case 7:$a(b.ct,16,17,18,19,d);$a(b.ct,1,15,5,9,d);$a(b.ct,2,12,6,10,d);break;case 8:$a(b.ct,8,9,10,11,d);$a(b.ct,2,19,4,21,d);$a(b.ct,3,16,5,22,d);break;case 9:$a(b.ct,4,5,6,7,d);$a(b.ct,10,18,14,22,d);
$a(b.ct,11,19,15,23,d);break;case 10:$a(b.ct,20,21,22,23,d);$a(b.ct,0,8,4,14,d);$a(b.ct,3,11,7,13,d);break;case 11:$a(b.ct,12,13,14,15,d),$a(b.ct,1,20,7,18,d),$a(b.ct,0,23,6,17,d)}}return a.center}function ec(a){for(;a.cornerAvail<a.moveLength;){var b=a.corner,c=a.moveBuffer[a.cornerAvail++]%18;!b.temps&&(b.temps=new nb);ub(b,Sb[c],b.temps);Bb(b,b.temps)}return a.corner}function Nb(a){for(;a.edgeAvail<a.moveLength;){var b=a.edge,c=a.moveBuffer[a.edgeAvail++];var d=c%3;switch(~~(c/3)){case 0:$a(b.ep,
0,1,2,3,d);$a(b.ep,12,13,14,15,d);break;case 1:$a(b.ep,11,15,10,19,d);$a(b.ep,23,3,22,7,d);break;case 2:$a(b.ep,0,11,6,8,d);$a(b.ep,12,23,18,20,d);break;case 3:$a(b.ep,4,5,6,7,d);$a(b.ep,16,17,18,19,d);break;case 4:$a(b.ep,1,20,5,21,d);$a(b.ep,13,8,17,9,d);break;case 5:$a(b.ep,2,9,4,10,d);$a(b.ep,14,21,16,22,d);break;case 6:$a(b.ep,0,1,2,3,d);$a(b.ep,12,13,14,15,d);$a(b.ep,9,22,11,20,d);break;case 7:$a(b.ep,11,15,10,19,d);$a(b.ep,23,3,22,7,d);$a(b.ep,2,16,6,12,d);break;case 8:$a(b.ep,0,11,6,8,d);
$a(b.ep,12,23,18,20,d);$a(b.ep,3,19,5,13,d);break;case 9:$a(b.ep,4,5,6,7,d);$a(b.ep,16,17,18,19,d);$a(b.ep,8,23,10,21,d);break;case 10:$a(b.ep,1,20,5,21,d);$a(b.ep,13,8,17,9,d);$a(b.ep,14,0,18,4,d);break;case 11:$a(b.ep,2,9,4,10,d),$a(b.ep,14,21,16,22,d),$a(b.ep,7,15,1,17,d)}}return a.edge}function Yb(a){var b,c;var d=Array(a.moveLength-(a.add1?2:0));for(b=c=0;b<a.length1;++b)d[c++]=a.moveBuffer[b];var f=a.sym;for(b=a.length1+(a.add1?2:0);b<a.moveLength;++b)if(27<=Wb[f][a.moveBuffer[b]]){d[c++]=Wb[f][a.moveBuffer[b]]-
9;var h=Rc[Wb[f][a.moveBuffer[b]]-27];f=jc[f][h]}else d[c++]=Wb[f][a.moveBuffer[b]];b=jc[kc[f]];a:{a=Rb(a);var r;a=new bb(a.ct);for(r=0;48>r;++r){f=!0;for(h=0;24>h;++h)if(a.ct[h]!=~~(h/4)){f=!1;break}if(f){a=r;break a}n(a,0);1==r%2&&n(a,1);7==r%8&&n(a,2);15==r%16&&n(a,3)}a=-1}b=b[a];a="";f=b;for(b=c-1;0<=b;--b)c=d[b],c=3*~~(c/3)+(2-c%3),27<=Wb[f][c]?(a=a+Sc[Wb[f][c]-9]+" ",h=Rc[Wb[f][c]-27],f=jc[f][h]):a=a+Sc[Wb[f][c]]+" ";return a}function cc(a,b){a.moveBuffer[a.moveLength++]=b}function uc(){this.moveBuffer=
Sa(60);this.edge=new ac;this.center=new hb;this.corner=new nb}function vc(a){uc.call(this);Vb(this,a)}function Vc(a){this.moveBuffer=Sa(60);this.edge=new $b(a);this.center=new pb(a);this.corner=new xb(a)}function Wc(){}function Xc(){Xc=a;var b,c;Sc="U  ;U2 ;U' ;R  ;R2 ;R' ;F  ;F2 ;F' ;D  ;D2 ;D' ;L  ;L2 ;L' ;B  ;B2 ;B' ;Uw ;Uw2;Uw';Rw ;Rw2;Rw';Fw ;Fw2;Fw';Dw ;Dw2;Dw';Lw ;Lw2;Lw';Bw ;Bw2;Bw'".split(";");fc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,21,22,23,25,28,30,31,32,34,36];sc=[0,1,2,4,6,
7,8,9,10,11,13,15,16,17,19,22,25,28,31,34,36];od=Sa(37);pd=Sa(37);nc=Sa(37,36);Fc=Sa(29,28);Gc=Sa(21,20);Tc=Sa(36);tc=Sa(28);oc=Sa(20);for(b=0;29>b;++b)od[fc[b]]=b;for(b=0;21>b;++b)pd[sc[b]]=b;for(b=0;36>b;++b){for(c=0;36>c;++c)nc[b][c]=~~(b/3)==~~(c/3)||~~(b/3)%3==~~(c/3)%3&&b>c;nc[36][b]=!1}for(b=0;29>b;++b)for(c=0;28>c;++c)Fc[b][c]=nc[fc[b]][fc[c]];for(b=0;21>b;++b)for(c=0;20>c;++c)Gc[b][c]=nc[sc[b]][sc[c]];for(b=0;36>b;++b)for(Tc[b]=36,c=b;36>c;++c)if(!nc[b][c]){Tc[b]=c-1;break}for(b=0;28>b;++b)for(tc[b]=
28,c=b;28>c;++c)if(!Fc[b][c]){tc[b]=c-1;break}for(b=0;20>b;++b)for(oc[b]=20,c=b;20>c;++c)if(!Gc[b][c]){oc[b]=c-1;break}}function td(a){a.solution="";var b=ma(new eb(Rb(a.c),0));var c=ma(new eb(Rb(a.c),1));var d=ma(new eb(Rb(a.c),2));var f=Ub[~~b>>6];var n=Ub[~~c>>6];var h=Ub[~~d>>6];a.p1SolsCnt=0;a.arr2idx=0;vd(a.p1sols.heap);for(a.length1=(f<n?f:n)<h?f<n?f:n:h;100>a.length1&&!(h<=a.length1&&wc(a,~~d>>>6,d&63,a.length1,-1,0)||f<=a.length1&&wc(a,~~b>>>6,b&63,a.length1,-1,0)||n<=a.length1&&wc(a,~~c>>>
6,c&63,a.length1,-1,0));++a.length1);h=xd(a.p1sols,r(yd,z([25,30,40]),24,0,0));h.sort(function(a,b){return a.value-b.value});n=9;do{d=h[0].value;a:for(;100>d;++d)for(c=0;c<h.length&&!(h[c].value>d);++c)if(!(d-h[c].length1>n)&&(Vb(a.c1,h[c]),gb(a.ct2,Rb(a.c1),xc(Nb(a.c1).ep)),b=lb(a.ct2),f=kb(a.ct2),a.length1=h[c].length1,a.length2=d-h[c].length1,Yc(a,b,f,a.length2,28,0)))break a;++n}while(100==d);a.arr2.sort(function(a,b){return a.value-b.value});h=0;d=13;do{n=a.arr2[0].value;a:for(;100>n;++n)for(c=
0;c<Math.min(a.arr2idx,100)&&!(a.arr2[c].value>n);++c)if(!(n-a.arr2[c].length1-a.arr2[c].length2>d)){b=Hb(a.e12,Nb(a.arr2[c]));yb(a.ct3,Rb(a.arr2[c]),b^xc(ec(a.arr2[c]).cp));b=mb(a.ct3);f=Ab(a.e12,10);var w=gc(Gb(a.e12));if(w<=n-a.arr2[c].length1-a.arr2[c].length2&&Zc(a,f,b,w,n-a.arr2[c].length1-a.arr2[c].length2,20,0)){h=c;break a}}++d}while(100==n);d=new vc(a.arr2[h]);a.length1=d.length1;a.length2=d.length2;n=n-a.length1-a.length2;for(c=0;c<n;++c)cc(d,sc[a.move3[c]]);a.solution=Yb(d)}function ud(a,
b){if(!qd){var c,d,f;var h=new Ya;for(c=0;24>c;++c)h.ct[c]=c;var r=new bb(h.ct);var w=new bb(h.ct);var z=new bb(h.ct);for(c=0;48>c;++c){for(d=0;48>d;++d){for(f=0;48>f;++f)Qa(h,r)&&(jc[c][d]=f,0==f&&(kc[c]=d)),n(r,0),1==f%2&&n(r,1),7==f%8&&n(r,2),15==f%16&&n(r,3);n(h,0);1==d%2&&n(h,1);7==d%8&&n(h,2);15==d%16&&n(h,3)}n(h,0);1==c%2&&n(h,1);7==c%8&&n(h,2);15==c%16&&n(h,3)}for(c=0;48>c;++c)for(Ra(h,w),Xa(h,kc[c]),d=0;36>d;++d)for(Ra(r,h),Va(r,d),Xa(r,c),f=0;36>f;++f)if(Ra(z,w),Va(z,f),Qa(z,r)){Wb[c][d]=
f;break}fb(h,0);for(c=0;48>c;++c)Kc[kc[c]]=Ta(h),n(h,0),1==c%2&&n(h,1),7==c%8&&n(h,2),15==c%16&&n(h,3);lc=Sa(735471);h=new Ya;d=Sa(22984);for(w=0;22984>w;w++)d[w]=0;for(w=r=0;735471>w;++w)if(0==(d[~~w>>>5]&1<<(w&31))){fb(h,w);for(c=0;48>c;++c)z=Ta(h),d[~~z>>>5]|=1<<(z&31),null!=lc&&(lc[z]=r<<6|kc[c]),n(h,0),1==c%2&&n(h,1),7==c%8&&n(h,2),15==c%16&&n(h,3);qc[r++]=w}h=new Ya;r=new Ya;for(w=0;15582>w;++w)for(fb(r,qc[w]),z=0;36>z;++z)Ra(h,r),Va(h,z),Ac[w][z]=ma(h);lc=null;yc(Ub);r=Ub[0]=0;for(w=1;15582!=
w;){var Wa=(d=4<r)?-1:r;h=d?r:-1;++r;for(z=0;15582>z;++z)if(Ub[z]==Wa)for(f=0;27>f;++f)if(c=~~Ac[z][f]>>>6,Ub[c]==h)if(++w,d){Ub[z]=r;break}else Ub[c]=r}w=new ob;for(h=0;70>h;++h)for(r=0;28>r;++r)cb(w,h),db(w,fc[r]),Bc[h][r]=kb(w);for(h=0;70>h;++h)for(cb(w,h),r=0;16>r;++r)jd[h][r]=kb(w),ib(w,0),1==r%2&&ib(w,1),7==r%8&&ib(w,2);for(h=0;6435>h;++h)for(Za(w,h),r=0;16>r;++r)kd[h][r]=lb(w)&65535,ib(w,0),1==r%2&&ib(w,1),7==r%8&&ib(w,2);for(h=0;6435>h;++h)for(r=0;28>r;++r)Za(w,h),db(w,fc[r]),Cc[h][r]=lb(w)&
65535;yc(Ob);z=Ob[0]=Ob[18]=Ob[28]=Ob[46]=Ob[54]=Ob[56]=0;for(c=6;450450!=c;){Wa=(f=6<z)?-1:z;var hb=f?z:-1;++z;for(h=0;450450>h;++h)if(Ob[h]==Wa)for(w=~~(h/70),d=h%70,r=0;23>r;++r){var Ua=Cc[w][r];var pb=Bc[d][r];Ua=70*Ua+pb;if(Ob[Ua]==hb)if(++c,f){Ob[h]=z;break}else Ob[Ua]=z}}for(h=0;12>h;++h)Mc[Lc[h]]=h;w=new tb;for(h=0;29400>h;++h)for(r=0;20>r;++r){d=w;f=h;d.parity=f&1;f>>>=1;Wa=Lc[f%12];f=~~(f/12);z=4;for(c=7;0<=c;--c)d.rl[c]=0,Wa>=ea[c][z]&&(Wa-=ea[c][z--],d.rl[c]=1);Wa=f%35;f=~~(f/35);z=4;
d.fb[7]=0;for(c=6;0<=c;--c)Wa>=ea[c][z]?(Wa-=ea[c][z--],d.fb[c]=1):d.fb[c]=0;z=4;d.ud[7]=0;for(c=6;0<=c;--c)f>=ea[c][z]?(f-=ea[c][z--],d.ud[c]=1):d.ud[c]=0;z=w;c=r;z.parity^=md[c];switch(c){case 0:case 1:case 2:$a(z.ud,0,1,2,3,c%3);break;case 3:$a(z.rl,0,1,2,3,1);break;case 4:case 5:case 6:$a(z.fb,0,1,2,3,(c-1)%3);break;case 7:case 8:case 9:$a(z.ud,4,5,6,7,(c-1)%3);break;case 10:$a(z.rl,4,5,6,7,1);break;case 11:case 12:case 13:$a(z.fb,4,5,6,7,(c+1)%3);break;case 14:$a(z.ud,0,1,2,3,1);$a(z.rl,0,5,
4,1,1);$a(z.fb,0,5,4,1,1);break;case 15:$a(z.rl,0,1,2,3,1);$a(z.fb,1,4,7,2,1);$a(z.ud,1,6,5,2,1);break;case 16:$a(z.fb,0,1,2,3,1);$a(z.ud,3,2,5,4,1);$a(z.rl,0,3,6,5,1);break;case 17:$a(z.ud,4,5,6,7,1);$a(z.rl,3,2,7,6,1);$a(z.fb,3,2,7,6,1);break;case 18:$a(z.rl,4,5,6,7,1);$a(z.fb,0,3,6,5,1);$a(z.ud,0,3,4,7,1);break;case 19:$a(z.fb,4,5,6,7,1),$a(z.ud,0,7,6,1,1),$a(z.rl,1,4,7,2,1)}rc[h][r]=mb(w)&65535}yc(bc);w=bc[0]=0;for(z=1;29400!=z;){for(h=0;29400>h;++h)if(bc[h]==w)for(r=0;17>r;++r)-1==bc[rc[h][r]]&&
(bc[rc[h][r]]=w+1,++z);++w}h=new Ib;for(w=0;20>w;++w)for(z=0;8>z;++z){Pb(h,0);Tb(h,w);Eb(h,z);for(r=0;12>r;++r)Nc[w<<3|z][r]=h.edge[r];Lb(h);for(r=0;12>r;++r)Oc[w<<3|z][r]=h.temp[r]}r=new Ib;d=Sa(1485);for(w=0;1485>w;w++)d[w]=0;for(w=h=0;11880>w;++w)if(0==(d[~~w>>>3]&1<<(w&7))){Pb(r,w*Pc[8]);for(c=0;8>c;++c)z=Ab(r,4),z==w&&(Ec[h]=(Ec[h]|1<<c)&65535),d[~~z>>3]|=1<<(z&7),mc[z]=h<<3|nd[c],Mb(r,0),1==c%2&&(Mb(r,1),Mb(r,2));Dc[h++]=w}var ab;w=new Ib;z=new Ib;d=new Ib;yc(Xb);r=0;Hc=1;for(Zb(Xb,0,0);31006080!=
Hc;){f=9<r;Wa=r%3;h=(r+1)%3;c=f?3:Wa;Wa=f?Wa:3;if(9<=r)break;for(pb=0;31006080>pb;pb+=16){var eb=Xb[~~pb>>4];if(f||-1!=eb)for(Ua=pb,hb=pb+16;Ua<hb;++Ua,eb>>=2)if((eb&3)==c){var jb=~~(Ua/20160);jb=Dc[jb];var gb=Ua%20160;Pb(w,20160*jb+gb);for(jb=0;17>jb;++jb){gb=Qb(w.edge,jb<<3,4);gb=mc[gb];var wb=gb&7;gb>>=3;var nb=Qb(w.edge,jb<<3|wb,10)%20160;nb=20160*gb+nb;if(Kb(Xb,nb)==Wa){Zb(Xb,f?Ua:nb,h);++Hc;if(f)break;nb=Ec[gb];if(1!=nb)for(Jb(z,w),Tb(z,jb),Eb(z,wb),ab=1;0!=(nb=~~nb>>1&65535);++ab)1==(nb&1)&&
(Jb(d,z),Eb(d,ab),wb=20160*gb+Ab(d,10)%20160,Kb(Xb,wb)==Wa&&(Zb(Xb,wb,h),++Hc))}}}}++r}qd=!0}a.c=new Vc(b);td(a);return a.solution}function wc(a,b,c,d,f,h){var n,r,w;if(0==b){if(b=0==d){Vb(a.c1,a.c);for(b=0;b<a.length1;++b)cc(a.c1,a.move1[b]);switch(Kc[c]){case 0:cc(a.c1,24);cc(a.c1,35);a.move1[a.length1]=24;a.move1[a.length1+1]=35;a.add1=!0;c=19;break;case 12869:cc(a.c1,18);cc(a.c1,29);a.move1[a.length1]=18;a.move1[a.length1+1]=29;a.add1=!0;c=34;break;case 735470:a.add1=!1,c=0}gb(a.ct2,Rb(a.c1),
xc(Nb(a.c1).ep));b=lb(a.ct2);d=kb(a.ct2);a.c1.value=Ob[70*b+d]+a.length1;a.c1.length1=a.length1;a.c1.add1=a.add1;a.c1.sym=c;++a.p1SolsCnt;if(500>a.p1sols.heap.size)var z=new vc(a.c1);else{c=a.p1sols;if(0==c.heap.size)z=null;else{b=c.heap.array[0];d=c.heap;f=c.heap.size-1;h=d.array[f];d.array.splice(f,1);--d.size;if(0<c.heap.size){hc(c.heap,0,h);d=0;f=c.heap.size;for(w=c.heap.array[d];2*d+1<f;){h=(n=2*d+1,z=n+1,r=n,z<f&&0>c.heap.array[n].value-c.heap.array[z].value&&(r=z),r);if(0>c.heap.array[h].value-
w.value)break;hc(c.heap,d,c.heap.array[h]);d=h}hc(c.heap,d,w)}z=b}z.value>a.c1.value&&Vb(z,a.c1)}n=a.p1sols;b:{r=n.heap.size;c=n.heap;b=c.size++;for(c.array[b]=z;0<r;){c=r;r=~~((r-1)/2);if(0>=z.value-n.heap.array[r].value){hc(n.heap,c,z);break b}hc(n.heap,c,n.heap.array[r])}hc(n.heap,r,z)}b=1E4==a.p1SolsCnt}return b}for(n=0;27>n;n+=3)if(n!=f&&n!=f-9&&n!=f-18)for(w=0;3>w;++w){r=n+w;z=Ac[b][Wb[c][r]];var ea=Ub[~~z>>>6];if(ea>=d){if(ea>d)break}else if(ea=jc[c][z&63],z>>>=6,a.move1[h]=r,wc(a,z,ea,d-1,
n,h+1))return!0}return!1}function Yc(a,b,c,d,f,h){var n;if(0==b&&0==Ob[c]){if(b=0==d){Vb(a.c2,a.c1);for(b=0;b<a.length2;++b)cc(a.c2,a.move2[b]);b=Nb(a.c2);c=0;f=!1;for(d=0;12>d;++d)c|=1<<b.ep[d],f=f!=12<=b.ep[d];0!=(c&~~c>>12)||f?b=!1:(b=Hb(a.e12,Nb(a.c2)),yb(a.ct3,Rb(a.c2),b^xc(ec(a.c2).cp)),b=mb(a.ct3),Ab(a.e12,10),c=gc(Gb(a.e12)),a.arr2[a.arr2idx]?Vb(a.arr2[a.arr2idx],a.c2):a.arr2[a.arr2idx]=new vc(a.c2),a.arr2[a.arr2idx].value=a.length1+a.length2+Math.max(c,bc[b]),a.arr2[a.arr2idx].length2=a.length2,
++a.arr2idx,b=a.arr2idx==a.arr2.length)}return b}for(n=0;23>n;++n)if(Fc[f][n])n=tc[n];else{var r=Cc[b][n];var w=Bc[c][n];var z=Ob[70*r+w];if(z>=d)z>d&&(n=tc[n]);else if(a.move2[h]=fc[n],Yc(a,r,w,d-1,n,h+1))return!0}return!1}function Zc(a,b,c,d,f,h,n){var r;if(0==f)return 0==b&&0==c;Pb(a.tempe[n],b);for(r=0;17>r;++r)if(Gc[h][r])r=oc[r];else{b=rc[c][r];var w=bc[b];if(w>=f)w>f&&14>r&&(r=oc[r]);else{w=Qb(a.tempe[n].edge,r<<3,10);var z=~~(w/20160);z=mc[z];var ea=z&7;z>>=3;var Ra=Qb(a.tempe[n].edge,r<<
3|ea,10)%20160;ea=d;z=Kb(Xb,20160*z+Ra);z=3==z?10:(1227133513<<z>>ea&3)+ea-1;if(z>=f)z>f&&14>r&&(r=oc[r]);else if(Zc(a,w,b,z,f-1,r,n+1))return a.move3[n]=r,!0}}return!1}function $c(){var a;this.p1sols=new gd(new Wc);this.move1=Sa(15);this.move2=Sa(20);this.move3=Sa(20);this.c1=new uc;this.c2=new uc;this.ct2=new ob;this.ct3=new tb;this.e12=new Ib;this.tempe=Sa(20);this.arr2=Sa(100);for(a=0;20>a;++a)this.tempe[a]=new Ib}function ad(){ad=a}function xc(a){var b,c,d;var f=d=0;for(c=a.length;f<c;++f)for(b=
f;b<c;++b)a[f]>a[b]&&(d^=1);return d}function $a(a,b,c,d,f,h){switch(h){case 0:h=a[f];a[f]=a[d];a[d]=a[c];a[c]=a[b];a[b]=h;break;case 1:h=a[b];a[b]=a[d];a[d]=h;h=a[c];a[c]=a[f];a[f]=h;break;case 2:h=a[b],a[b]=a[c],a[c]=a[d],a[d]=a[f],a[f]=h}}function bd(){}function cd(a,b,c,d){var f=new bd;f.typeName=a+b;ed(0!=c?-c:0)&&fd(0!=c?-c:0,f);f.modifiers=4;f.superclass=Uc;f.componentType=d;return f}function dd(a,b,c,d){var f=new bd;f.typeName=a+b;ed(c)&&fd(c,f);f.superclass=d;return f}function ed(a){return"number"==
typeof a&&0<a}function fd(a,b){b.seedId=a;if(2==a)var c=String.prototype;else if(0<a)if(c=pc[b.seedId])c=c.prototype;else{c=pc[a]=function(){};c.___clazz$=b;return}else return;c.___clazz$=b}function vd(a){a.array=r(rd,z([30,40]),0,0,0);a.size=0}function hc(a,b,c){var d=a.array[b];a.array[b]=c;return d}function wd(){this.array=r(rd,z([30,40]),0,0,0);this.array.length=500}function yc(a){var b=a.length,c;for(c=0;c<b;++c)a[c]=-1}function xd(a,b){var c=a.heap,h=b;if(h.length<c.size){var n=d(0,c.size);
f(h.___clazz$,h.castableTypeMap$,h.queryId$,n);h=n}for(n=0;n<c.size;++n)h[n]=c.array[n];h.length>c.size&&(h[c.size]=null);return h}function gd(a){this.heap=new wd;this.cmp=a}function hd(){hd=a;Xc();ad();Ua();jb();ab();qb();rb();wb();ic();dc();sd=new $c}function id(){hd();return(scramble_333.getRandomScramble()+ud(sd,Math)).replace(/\s+/g," ")}var zb,pc={};c(1,-1,{});zb.value=null;c(73,1,{},b);zb.queryId$=0;var Ic,Jc;c(153,1,z([21]),Ya,eb,bb);var Ub,Ac,Kc,lc=null,qc,kc,Wb,jc;c(154,1,{},ob);zb.parity=
0;var Cc,Ob,kd,ld,Bc,jd;c(155,1,{},tb);zb.parity=0;var rc,md,bc,Lc,Mc;c(156,1,{},hb,pb);c(157,1,z([22]),nb,sb,xb);zb.temps=null;var Sb;c(158,1,z([23]),Ib);zb.isStd=!0;zb.temp=null;var Qc,Hc=0,Xb,Pc,Nc,Oc,mc,Dc,nd,Ec;c(159,1,{},ac,$b);c(160,1,z([24,34]),uc,vc,Vc);zb.compareTo$=function(a){return this.value-a.value};zb.add1=!1;zb.center=null;zb.centerAvail=0;zb.corner=null;zb.cornerAvail=0;zb.edge=null;zb.edgeAvail=0;zb.length1=0;zb.length2=0;zb.length3=0;zb.moveLength=0;zb.sym=0;zb.value=0;var Rc;
c(161,1,{},Wc);zb.compare=function(a,b){return b.value-a.value};var nc,Fc,Gc,fc,Sc,sc,Tc,tc,oc,od,pd;c(163,1,z([26]),$c);zb.add1=!1;zb.arr2idx=0;zb.c=null;zb.length1=0;zb.length2=0;zb.p1SolsCnt=0;zb.solution="";var qd=!1;zb.val$outerIter=null;zb.size=0;c(239,1,{},gd);zb.cmp=null;zb.heap=null;var Uc=dd("java.lang.","Object",1,null),rd=cd("[Ljava.lang.","Object;",356,Uc),zd=dd("cs.threephase.","FullCube",160,Uc),yd=cd("[Lcs.threephase.","FullCube;",381,zd),sd;scrMgr.reg("444wca",id);return{getRandomScramble:id}}(mathlib.rn,
mathlib.Cnk,mathlib.circle);(function(h,ea,w,Sa){function c(a,b){b<<=2;if(24<b){b=48-b;var c=a.ul;a.ul=(a.ul>>b|a.ur<<24-b)&16777215;a.ur=(a.ur>>b|c<<24-b)&16777215}else 0<b?(c=a.ul,a.ul=(a.ul<<b|a.ur>>24-b)&16777215,a.ur=(a.ur<<b|c>>24-b)&16777215):0==b?(c=a.ur,a.ur=a.dl,a.dl=c,a.ml=1-a.ml):-24<=b?(b=-b,c=a.dl,a.dl=(a.dl<<b|a.dr>>24-b)&16777215,a.dr=(a.dr<<b|c>>24-b)&16777215):-24>b&&(b=48+b,c=a.dl,a.dl=(a.dl>>b|a.dr<<24-b)&16777215,a.dr=(a.dr>>b|c<<24-b)&16777215)}function z(a,b){var c;6>b?c=a.ul>>(5-b<<2):12>b?c=a.ur>>(11-
b<<2):18>b?c=a.dl>>(17-b<<2):c=a.dr>>(23-b<<2);return c&15}function a(a,b,c){6>b?(a.ul&=~(15<<(5-b<<2)),a.ul|=c<<(5-b<<2)):12>b?(a.ur&=~(15<<(11-b<<2)),a.ur|=c<<(11-b<<2)):18>b?(a.dl&=~(15<<(17-b<<2)),a.dl|=c<<(17-b<<2)):(a.dr&=~(15<<(23-b<<2)),a.dr|=c<<(23-b<<2))}function b(){this.arr=[];this.prm=[]}function d(c){var d;void 0===c&&(c=Sa(3678));var f=new b;var h=kb[c];var n=324508639;var r=38177486;var w=d=8;for(c=0;24>c;c++)if(0==(h>>c&1)){var z=Sa(d)<<2;a(f,23-c,r>>z&15);z=(1<<z)-1;r=(r&z)+(r>>
4&~z);--d}else z=Sa(w)<<2,a(f,23-c,n>>z&15),a(f,22-c,n>>z&15),z=(1<<z)-1,n=(n&z)+(n>>4&~z),--w,++c;f.ml=Sa(2);return f}function r(a,b,d,h,n,w){if(0==d&&4>h){if(b=0==h)a:{b=a.Search_d;h=a.Search_c;b.ul=h.ul;b.ur=h.ur;b.dl=h.dl;b.dr=h.dr;b.ml=h.ml;for(b=0;b<a.Search_length1;++b)c(a.Search_d,a.Search_move[b]);b=a.Search_d;h=a.Search_sq;for(n=0;8>n;++n)b.prm[n]=z(b,3*n+1)>>1;h.cornperm=ea(b.prm);h.topEdgeFirst=z(b,0)==z(b,1);n=h.topEdgeFirst?2:0;for(w=0;4>w;n+=3,++w)b.prm[w]=z(b,n)>>1;h.botEdgeFirst=
z(b,12)==z(b,13);for(n=h.botEdgeFirst?14:12;8>w;n+=3,++w)b.prm[w]=z(b,n)>>1;h.edgeperm=ea(b.prm);h.ml=b.ml;n=a.Search_sq.edgeperm;h=a.Search_sq.cornperm;w=a.Search_sq.ml;for(b=Math.max(ob[a.Search_sq.edgeperm<<1|w],ob[a.Search_sq.cornperm<<1|w]);b<a.Search_maxlen2;++b)if(f(a,n,h,a.Search_sq.topEdgeFirst,a.Search_sq.botEdgeFirst,w,b,a.Search_length1,0)){for(h=0;h<b;++h)c(a.Search_d,a.Search_move[a.Search_length1+h]);h=a;n="";d=w=0;for(b=b+a.Search_length1-1;0<=b;b--){var Ra=a.Search_move[b];0<Ra?(Ra=
12-Ra,w=6<Ra?Ra-12:Ra):0>Ra?(Ra=12+Ra,d=6<Ra?Ra-12:Ra):(Ra="/",b==a.Search_length1-1&&(Ra="`/`"),n=0==w&&0==d?n+Ra:n+(" ("+w+","+d+")"+Ra),w=d=0)}if(0!=w||0!=d)n+=" ("+w+","+d+") ";h.Search_sol_string=n;b=!0;break a}b=!1}return b}if(0!=w){var ma=gb[b];Ra=db[ma];if(Ra<h&&(a.Search_move[n]=0,r(a,ma,Ra,h-1,n+1,0)))return!0}ma=b;if(0>=w)for(d=0;;){d+=ib[ma];ma=d>>4;d&=15;if(12<=d)break;Ra=db[ma];if(Ra>h)break;else if(Ra<h&&(a.Search_move[n]=d,r(a,ma,Ra,h-1,n+1,1)))return!0}ma=b;if(1>=w)for(d=0;;){d+=
lb[ma];ma=d>>4;d&=15;if(6<=d)break;Ra=db[ma];if(Ra>h)break;else if(Ra<h&&(a.Search_move[n]=-d,r(a,ma,Ra,h-1,n+1,2)))return!0}return!1}function f(a,b,c,d,h,n,r,w,z){var Ra,ea;if(0==r&&!d&&h)return!0;if(0!=z&&d==h){var ma=mb[b];var Qa=mb[c];if(ob[ma<<1|1-n]<r&&ob[Qa<<1|1-n]<r&&(a.Search_move[w]=0,f(a,ma,Qa,d,h,1-n,r-1,w+1,0)))return!0}if(0>=z){ma=(ea=!d)?ab[b]:b;Qa=ea?c:ab[c];var Xa=ea?1:2;var Ta=ob[ma<<1|n];for(Ra=ob[Qa<<1|n];12>Xa&&Ta<=r&&Ta<=r;){if(Ta<r&&Ra<r&&(a.Search_move[w]=Xa,f(a,ma,Qa,ea,h,
n,r-1,w+1,1)))return!0;(ea=!ea)?(ma=ab[ma],Ta=ob[ma<<1|n],Xa+=1):(Qa=ab[Qa],Ra=ob[Qa<<1|n],Xa+=2)}}if(1>=z)for(ma=(h=!h)?cb[b]:b,Qa=h?c:cb[c],Xa=h?1:2,Ta=ob[ma<<1|n],Ra=ob[Qa<<1|n];Xa<(6<r?6:12)&&Ta<=r&&Ta<=r;){if(Ta<r&&Ra<r&&(a.Search_move[w]=-Xa,f(a,ma,Qa,d,h,n,r-1,w+1,2)))return!0;(h=!h)?(ma=cb[ma],Ta=ob[ma<<1|n],Xa+=1):(Qa=cb[Qa],Ra=ob[Qa<<1|n],Xa+=2)}return!1}function Wa(a,b){a.Search_c=b;var c=b.ur&1118481;c|=c>>3;c|=c>>6;c=c&15|c>>12&48;var d=b.ul&1118481;d|=d>>3;d|=d>>6;d=d&15|d>>12&48;var f=
b.dr&1118481;f|=f>>3;f|=f>>6;f=f&15|f>>12&48;var h=b.dl&1118481;h|=h>>3;h|=h>>6;h=h&15|h>>12&48;var w,Ra;var ea=0;b.arr[0]=z(b,0);for(w=1;24>w;++w)z(b,w)!=b.arr[ea]&&(b.arr[++ea]=z(b,w));for(ea=Ra=0;16>ea;++ea)for(w=ea+1;16>w;++w)b.arr[ea]>b.arr[w]&&(Ra^=1);h=n(Ra<<24|d<<18|c<<12|h<<6|f);for(a.Search_length1=db[h];100>a.Search_length1&&(a.Search_maxlen2=Math.min(32-a.Search_length1,17),!r(a,h,db[h],a.Search_length1,0,-1));++a.Search_length1);return a.Search_sol_string}function Ua(){this.Search_move=
[];this.Search_d=new b;this.Search_sq=new fb}function Qa(){Qa=$.noop;Za=[0,3,6,12,15,24,27,30,48,51,54,60,63];kb=[];db=[];ib=[];lb=[];gb=[];var a,b;for(b=a=0;28561>b;++b){var c=Za[b%13];var d=Za[~~(b/13)%13];var f=Za[~~(~~(b/13)/13)%13];var h=Za[~~(~~(~~(b/13)/13)/13)];d=h<<18|f<<12|d<<6|c;16==Ra(d)&&(kb[a++]=d)}a=new Va;for(b=0;7356>b;++b){ma(a,b);d=ib;c=b;var r=a;h=f=0;do 0==(r.top&2048)?(f+=1,r.top<<=1):(f+=2,r.top=r.top<<2^12291),h=1-h;while(0!=(Ra(r.top&63)&1));0==(Ra(r.top)&2)&&(r.Shape_parity^=
h);d[c]=f;ib[b]|=Ta(a)<<4;ma(a,b);d=lb;c=b;r=a;h=f=0;do 0==(r.bottom&2048)?(f+=1,r.bottom<<=1):(f+=2,r.bottom=r.bottom<<2^12291),h=1-h;while(0!=(Ra(r.bottom&63)&1));0==(Ra(r.bottom)&2)&&(r.Shape_parity^=h);d[c]=f;lb[b]|=Ta(a)<<4;ma(a,b);h=a.top&63;d=Ra(h);c=Ra(a.bottom&4032);a.Shape_parity^=1&(d&c)>>1;a.top=a.top&4032|a.bottom>>6&63;a.bottom=a.bottom&63|h<<6;gb[b]=Ta(a)}for(b=0;7536>b;++b)db[b]=-1;db[n(14378715)]=0;db[n(31157686)]=0;db[n(23967451)]=0;db[n(7191990)]=0;d=4;c=0;for(a=-1;d!=c;)for(c=
d,++a,b=0;7536>b;++b)if(db[b]==a){f=0;h=b;do h=ib[h],f+=h&15,h>>=4,-1==db[h]&&(++d,db[h]=a+1);while(12!=f);f=0;h=b;do h=lb[h],f+=h&15,h>>=4,-1==db[h]&&(++d,db[h]=a+1);while(12!=f);h=gb[b];-1==db[h]&&(++d,db[h]=a+1)}}function Ta(a){return Ya(kb,a.top<<12|a.bottom)<<1|a.Shape_parity}function ma(a,b){a.Shape_parity=b&1;a.top=kb[b>>1];a.bottom=a.top&4095;a.top>>=12}function Va(){}function n(a){return Ya(kb,a&16777215)<<1|a>>24}function Xa(){Xa=$.noop;ob=[];mb=[];ab=[];cb=[];var a,b,c;var d=[];for(b=0;40320>
b;++b)h(d,b),w(d,2,4)(d,3,5),mb[b]=ea(d),h(d,b),w(d,0,3,2,1),ab[b]=ea(d),h(d,b),w(d,4,7,6,5),cb[b]=ea(d);for(b=0;80640>b;++b)ob[b]=-1;var f=ob[0]=0;for(a=1;80640>a;){var n=(c=11<=f)?-1:f;d=c?f:-1;++f;b=0;a:for(;80640>b;++b)if(ob[b]==n){var r=b>>1;var z=b&1;var Ra=mb[r]<<1|1-z;if(ob[Ra]==d&&(++a,ob[c?b:Ra]=f,c))continue a;Ra=r;for(r=0;4>r;++r)if(Ra=ab[Ra],ob[Ra<<1|z]==d&&(++a,ob[c?b:Ra<<1|z]=f,c))continue a;for(r=0;4>r;++r)if(Ra=cb[Ra],ob[Ra<<1|z]==d&&(++a,ob[c?b:Ra<<1|z]=f,c))continue a}}}function fb(){}
function Ra(a){a-=a>>1&1431655765;a=(a>>2&858993459)+(a&858993459);a=(a>>4)+a&252645135;a+=a>>8;return a+(a>>16)&63}function Ya(a,b){var c;var d=0;for(c=a.length-1;d<=c;){var f=d+(c-d>>1);var h=a[f];if(h<b)d=f+1;else if(h>b)c=f-1;else return f}return-d-1}function eb(){eb=$.noop;for(var a=new Va,b=0;b<yb.length;b++){for(var c=[yb[b]],d=0;d<c.length;d++){var f=c[d];do f=ib[f<<1]>>5,-1==c.indexOf(f)&&c.push(f);while(f!=c[d]);do f=lb[f<<1]>>5,-1==c.indexOf(f)&&c.push(f);while(f!=c[d]);ma(a,f<<1);f=a.top;
a.top=a.bottom;a.bottom=f;f=Ta(a)>>1;-1==c.indexOf(f)&&c.push(f)}yb[b]=c}}function bb(a,b,c){Qa();Xa();return Wa(rb,d())}var jb=b.prototype=function(){}.prototype;jb.dl=10062778;jb.dr=14536702;jb.ml=0;jb.ul=70195;jb.ur=4544119;jb=Ua.prototype=function(){}.prototype;jb.Search_c=null;jb.Search_length1=0;jb.Search_maxlen2=0;jb.Search_sol_string=null;jb=Va.prototype=function(){}.prototype;jb.bottom=0;jb.Shape_parity=0;jb.top=0;var lb,kb,db,ib,gb,Za;jb=fb.prototype=function(){}.prototype;jb.botEdgeFirst=
!1;jb.cornperm=0;jb.edgeperm=0;jb.ml=0;jb.topEdgeFirst=!1;var cb,ob,ab,mb,yb=[0,1,3,18,19,1004,1005,1006,1007,1008,1009,1011,1015,1016,1018,1154,1155,1156,1157,1158,1159,1161,1166,1168,424,425,426,427,428,429,431,436,95,218,341,482,528,632,1050,342,343,345,346,348,353,223,487,533,535,1055,219,225,483,489,639,1051,1057,486,1054,1062,6,21,34,46,59,71,144,157,182,305,7,22,35,47,60,72,145,158,183,306,8,23,36,48,61,73,146,159,184,307],tb=[16,16,16,10,16,24,16,24,16,24,16,16,4,24,16,48,32,48,32,48,32,32,
48,16,48,32,48,16,48,32,32,48,36,48,72,72,48,48,72,48,36,72,48,48,72,32,48,16,32,48,16,32,48,48,16,48,48,36,72,36,72,96,96,72,96,72,72,72,72,24,48,64,64,48,64,48,48,48,48,16,24,32,32,24,32,24,24,24,24,8],rb=new Ua;scrMgr.reg("sqrs",bb);scrMgr.reg("sqrcsp",function(a,b,c){Qa();Xa();eb();a=mathlib.rndEl(yb[scrMgr.fixCase(c,tb)]);return Wa(rb,d(a))},["Star-x8 Star-x71 Star-x62 Star-x44 Star-x53 Square-Scallop Square-rPawn Square-Shield Square-Barrel Square-rFist Square-Mushroom Square-lPawn Square-Square Square-lFist Square-Kite Kite-Scallop Kite-rPawn Kite-Shield Kite-Barrel Kite-rFist Kite-Mushroom Kite-lPawn Kite-lFist Kite-Kite Barrel-Scallop Barrel-rPawn Barrel-Shield Barrel-Barrel Barrel-rFist Barrel-Mushroom Barrel-lPawn Barrel-lFist Scallop-Scallop Scallop-rPawn Scallop-Shield Scallop-rFist Scallop-Mushroom Scallop-lPawn Scallop-lFist Shield-rPawn Shield-Shield Shield-rFist Shield-Mushroom Shield-lPawn Shield-lFist Mushroom-rPawn Mushroom-rFist Mushroom-Mushroom Mushroom-lPawn Mushroom-lFist Pawn-rPawn-rPawn Pawn-rPawn-lPawn Pawn-rPawn-rFist Pawn-lPawn-rFist Pawn-lPawn-lPawn Pawn-rPawn-lFist Pawn-lPawn-lFist Fist-rFist-rFist Fist-lFist-rFist Fist-lFist-lFist Pair-x6 Pair-r42 Pair-x411 Pair-r51 Pair-l42 Pair-l51 Pair-x33 Pair-x312 Pair-x321 Pair-x222 L-x6 L-r42 L-x411 L-r51 L-l42 L-l51 L-x33 L-x312 L-x321 L-x222 Line-x6 Line-r42 Line-x411 Line-r51 Line-l42 Line-l51 Line-x33 Line-x312 Line-x321 Line-x222".split(" "),
tb]);return{initialize:$.noop,getRandomScramble:bb}})(mathlib.set8Perm,mathlib.get8Perm,mathlib.circle,mathlib.rn);(function(h){var ea=new mathlib.Solver(4,2,[[0,function(w,c){var z=[];mathlib.set8Perm(z,w<<1,6);1==mathlib.getNParity(w<<1,6)&&h(z,4,5);0==c&&h(z,0,1,3);1==c&&h(z,1,2,5);2==c&&h(z,0,4,2);3==c&&h(z,3,5,4);return mathlib.get8Perm(z,6)>>1},360],[0,function(w,c){var z;var a=0;var b=[],d=w;for(z=0;4>=z;z++)b[z]=d&1,d>>=1,a^=b[z];b[5]=a;for(z=6;9>=z;z++){var r=~~(d/3);a=d-3*r;d=r;b[z]=a}b[c+6]=(b[c+6]+1)%3;0==c&&(h(b,0,1,3),b[1]^=1,b[3]^=1);1==c&&(h(b,1,2,5),b[2]^=1,b[5]^=1);2==c&&(h(b,0,4,2),b[0]^=1,
b[2]^=1);3==c&&(h(b,3,5,4),b[3]^=1,b[4]^=1);d=0;for(z=9;6<=z;z--)d=3*d+b[z];for(z=4;0<=z;z--)d=2*d+b[z];return d},2592]]),w=[1,1,1,3,12,60,360];scrMgr.reg(["pyro","pyrso"],function(h){h="pyrso"==h?8:0;do{var c=mathlib.rn(933119)+1;var z=c%360,a=~~(c/360);c=ea.search([z,a],0).length;w=ea.toStr(ea.search([z,a],h),"ULRB",["","'"])+" ";for(a=0;4>a;a++)z=mathlib.rn(3),2>z&&(w+="lrbu".charAt(a)+[" ","' "][z],c++)}while(6>c);return w})})(mathlib.circle);(function(h){var ea=[[6,5,10,1],[9,7,4,2],[3,11,8,0],[10,1,6,5],[0,8,11,3],[7,9,2,4],[4,2,9,7],[11,3,0,8],[1,10,5,6],[8,0,3,11],[2,4,7,9],[5,6,1,10]],w=new mathlib.Solver(4,2,[[0,function(c,w){var a=c%12;c=~~(c/12);var b=[];mathlib.set8Perm(b,c<<1,6);1==mathlib.getNParity(c<<1,6)&&h(b,4,5);0==w&&h(b,0,3,1);2==w&&h(b,1,5,2);1==w&&h(b,0,2,4);3==w&&h(b,3,4,5);return 12*(mathlib.get8Perm(b,6)>>1)+ea[a][w]},4320],[0,function(c,h){for(var a=[],b=[],d=0;4>d;d++)a[d]=c%3,c=~~(c/3);for(d=0;3>d;d++)b[d]=c%
3,c=~~(c/3);b[3]=(6-b[0]-b[1]-b[2])%3;a[h]=(a[h]+1)%3;switch(h){case 0:d=b[0];b[0]=b[2]+2;b[2]=b[1]+2;b[1]=d+2;break;case 1:d=b[0];b[0]=b[1]+2;b[1]=b[3]+2;b[3]=d+2;break;case 2:d=b[0];b[0]=b[3]+2;b[3]=b[2]+2;b[2]=d+2;break;case 3:d=b[1],b[1]=b[2]+2,b[2]=b[3]+2,b[3]=d+2}for(d=2;0<=d;d--)c=3*c+b[d]%3;for(d=3;0<=d;d--)c=3*c+a[d];return c},2187]]),Sa=[0,1,2,0,2,1,1,2,0,2,1,0];scrMgr.reg(["skbo","skbso"],function(c){var z="skbso"==c?8:0;do{c=mathlib.rn(4320);var a=mathlib.rn(2187)}while(0==c&&0==a||Sa[c%
12]!=(a+~~(a/3)+~~(a/9)+~~(a/27))%3||null!=w.search([c,a],0,6));c=w.search([c,a],z).reverse();a=[];z=["L","R","B","U"];for(var b=0;b<c.length;b++){var d=c[b][0],r=1-c[b][1];if(2==d)for(var f=0;f<=r;f++)h(z,0,3,1);a.push(z[d]+(1==r?"'":""))}return a.join(" ")})})(mathlib.circle);(function(h,ea){function w(c,h,a){var b="222o"==c?0:9;var d=[[0,0,0,0,4,5,6],[0,0,0,0,4,6,5],[0,0,0,0,5,4,6],[0,0,0,0,5,6,4],[0,0,0,0,6,4,5],[0,0,0,0,6,5,4]];do{var r=2;if("222o"==c||"222so"==c){var f=ea(5040);var z=ea(729);r=3}else if("222eg"==c){if(0==a)return w("222eg0",h);if(1==a)return w("222eg1",h);if(2==a)return w("222eg2",h)}else"222eg0"==c?(f=ea(24),z=ea(27),d=d[0],mathlib.set8Perm(d,f,4),f=mathlib.get8Perm(d,7)):"222eg1"==c?(f=ea(24),z=ea(27),d=d[ea(4)+2],mathlib.set8Perm(d,f,4),f=mathlib.get8Perm(d,
7)):"222eg2"==c&&(f=ea(24),z=ea(27),d=d[1],mathlib.set8Perm(d,f,4),f=mathlib.get8Perm(d,7))}while(0==f&&0==z||null!=Sa.search([f,z],0,r));return Sa.toStr(Sa.search([f,z],b).reverse(),"URF","'2 ")}var Sa=new mathlib.Solver(3,3,[[0,function(c,w){var a=[];mathlib.set8Perm(a,c,7);0==w?h(a,0,2,3,1):1==w?h(a,0,1,5,4):2==w&&h(a,0,4,6,2);return mathlib.get8Perm(a,7)},5040],[0,function(c,w){var a,b=0,d=c,r=[];for(a=1;6>=a;a++){var f=~~(d/3);var z=d-3*f;d=f;r[a]=z;b-=z;0>b&&(b+=3)}r[0]=b;0==w?h(r,0,2,3,1):
1==w?(h(r,0,1,5,4),r[0]+=2,r[1]++,r[5]+=2,r[4]++):2==w&&(h(r,0,4,6,2),r[2]+=2,r[0]++,r[4]+=2,r[6]++);d=0;for(a=6;1<=a;a--)d=3*d+r[a]%3;return d},729]]);scrMgr.reg(["222o","222so","222eg0","222eg1","222eg2"],w)("222eg",w,[["CLL","EG1","EG2"],[1,4,1]])})(mathlib.circle,mathlib.rn);(function(h){function ea(b,d,h,f,w,Sa,Qa){if(0==w)return 0==b&&0==d&&0==h&&0==f;if(Math.max(a[0][72*b+d],a[1][72*b+h],a[2][72*b+f])>w)return!1;for(var r,ma,Va,n,Xa=0;3>Xa;Xa++)if(Xa!=Sa){r=b;ma=d;Va=h;n=f;for(var Wa=0;11>Wa;Wa++)if(r=c[r][Xa],ma=z[ma][Xa],Va=z[Va][(Xa+1)%3],n=z[n][(Xa+2)%3],ea(r,ma,Va,n,w-1,Xa,Qa))return Qa.push("URF".charAt(Xa)+"' 2' 3' 4' 5' 6 5 4 3 2 ".split(" ")[Wa]),!0}}function w(){w=$.noop;for(var b=0;72>b;b++){z[b]=[];for(var d=0;3>d;d++){var r=z[b],f=d,ea=d,Sa=[];var Qa=
b%3;mathlib.setNPerm(Sa,~~(b/3),4);0==ea?(h(Sa,0,3,2,1),Qa=(Qa+1)%3):1==ea?h(Sa,0,1):2==ea&&h(Sa,0,3);Qa=3*mathlib.getNPerm(Sa,4)+Qa;r[f]=Qa}}for(b=0;24>b;b++)for(c[b]=[],d=0;3>d;d++)r=c[b],Qa=f=d,ea=[],mathlib.setNPerm(ea,b,4),h(ea,0,Qa+1),Qa=mathlib.getNPerm(ea,4),r[f]=Qa;for(b=0;3>b;b++){r={0:0};for(f=0;5>f;f++)for(var Ta in r)if(r[Ta]==f)for(d=0;3>d;d++)for(Qa=Ta,ea=0;12>ea;ea++)Qa=72*c[~~(Qa/72)][d]+z[Qa%72][(d+b)%3],void 0==r[Qa]&&(r[Qa]=f+1);a[b]=r}}function Sa(b){w();do{var c=[mathlib.rn(24)];
for(var h=0;3>h;h++){do c[h+1]=mathlib.rn(72);while(void 0==a[h][72*c[0]+c[h+1]])}}while(0==c);b="gearso"==b?4:0;for(h=[];!ea(c[0],c[1],c[2],c[3],b,-1,h);)b++;return h.reverse().join(" ")}var c=[],z=[],a=[];scrMgr.reg(["gearo","gearso"],Sa);return Sa})(mathlib.circle);(function(h){var ea=new mathlib.Solver(4,1,[[0,function(w,ea){var c=w&15,z=[];mathlib.set8Perm(z,w>>4,4);0==ea?h(z,0,1):1==ea?h(z,2,3):2==ea?h(z,0,3):3==ea&&h(z,1,2);return(mathlib.get8Perm(z,4)<<4)+(c^1<<ea)},384]]);scrMgr.reg("133",function(){var h=1+mathlib.rn(191);h=2*h+((mathlib.getNParity(h>>3,4)^h>>1^h>>2^h)&1);return ea.toStr(ea.search([h],0),"RLFB",[""])})})(mathlib.circle);(function(h,ea){function w(){w=$.noop;for(var a=[],b,d=0;40320>d;d++)c[d]=[];for(d=0;40320>d;d++)mathlib.set8Perm(a,d),h(a,0,1,2,3),b=c[0][d]=ea(a),h(a,4,5,6,7),b=c[1][b]=ea(a),h(a,2,5)(a,3,6),b=c[2][b]=ea(a),h(a,0,5)(a,3,4),c[3][b]=ea(a);mathlib.createPrun(z,0,40320,12,c,4,3)}function Sa(a,b,d,r,f){if(0==d)return 0==a+b;if(mathlib.getPruning(z,a)>d)return!1;var w,Ua;for(Ua=0;4>Ua;Ua++)if(Ua!=r){var Qa=a;var Ta=b;for(w=0;w<(2>Ua?3:1);w++){Qa=c[Ua][Qa];var ma=Ua;if(!(2>ma)){var Va=[];mathlib.set8Perm(Va,
Ta,3);2==ma?h(Va,0,1):3==ma&&h(Va,0,2);Ta=ea(Va,3)}if(Sa(Qa,Ta,d-1,Ua,f))return f.push(["U","D","R2","F2"][Ua]+(2>Ua?" 2'".charAt(w):"")),!0}}}var c=[],z=[];scrMgr.reg("223",function(){w();do{var a=mathlib.rn(40320);var b=mathlib.rn(6)}while(0==b+a);for(var c=[],h=0;99>h&&!Sa(a,b,h,-1,c);h++);return c.reverse().join(" ")})})(mathlib.circle,mathlib.get8Perm);var clock=function(h,ea){function w(a,c,h,f,w){for(var b=a[0].length;f<b;f++)a[h][f]=(a[h][f]+a[c][f]*w)%12}var Sa=[[0,1,1,0,1,1,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,1,0,1,1,0,0,0,0,0,0],[1,1,0,1,1,0,0,0,0,0,0,0,0,0],[1,1,1,1,1,1,0,0,0,0,0,0,0,0],[0,1,1,0,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0,0,0],[1,1,0,1,1,0,1,1,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,0,0,0,0,0],[11,0,0,0,0,0,0,0,0,1,0,1,1,0],[0,0,0,0,0,0,11,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,11,0,1,1,0,1],[0,0,11,0,0,0,0,0,0,1,
1,1,0,0],[11,0,11,0,0,0,0,0,0,1,1,1,1,0],[11,0,0,0,0,0,11,0,0,1,0,1,1,1],[0,0,0,0,0,0,11,0,11,0,1,1,1,1],[0,0,11,0,0,0,0,0,11,1,1,1,0,1],[11,0,11,0,0,0,11,0,11,1,1,1,1,1]],c=[-1,1,-1,-1,-1,5,-1,7,-1,-1,-1,11],z=[7695,42588,47187,85158,86697,156568,181700,209201,231778],a="UR DR DL UL U R D L ALL".split(" ");scrMgr.reg("clko",function(b){var d=[];for(b=0;14>b;b++)d[b]=h(12);b=[];b.length=18;if(14==d.length&&18==b.length)for(var r=15,f=0;f<ea[18][14];f++){var Wa=f;var Ua=14;for(var Qa=0,Ta=17;0<=Ta;Ta--)Wa>=
ea[Ta][Ua]&&(Wa-=ea[Ta][Ua--],Qa|=1<<Ta);Ua=Qa;Wa=!1;for(Qa=0;Qa<z.length;Qa++)if((Ua&z[Qa])==z[Qa]){Wa=!0;break}if(!Wa){Wa=[];for(Qa=Ta=0;18>Qa;Qa++)1==(Ua>>Qa&1)&&(Wa[Ta++]=Qa);Ua=[];for(Ta=0;14>Ta;Ta++){Ua[Ta]=[];for(Qa=0;14>Qa;Qa++)Ua[Ta][Qa]=Sa[Wa[Qa]][Ta];Ua[Ta][14]=d[Ta]}b:{Qa=Ua;Ta=Qa[0].length;for(var ma=0;ma<Ta-1;ma++){if(-1==c[Qa[ma][ma]]){for(var Va=-1,n=ma+1;14>n;n++)if(-1!=c[Qa[n][ma]]){Va=n;break}if(-1==Va)c:for(n=ma;13>n;n++)for(var Xa=n+1;14>Xa;Xa++)if(-1!=c[(Qa[n][ma]+Qa[Xa][ma])%
12]){w(Qa,Xa,n,ma,1);Va=n;break c}if(-1==Va){for(n=ma+1;14>n;n++)if(0!=Qa[n][ma]){Qa=-1;break b}Qa=ma+1;break b}n=Qa;Xa=n[ma];n[ma]=n[Va];n[Va]=Xa}Va=c[Qa[ma][ma]];for(n=ma;n<Ta;n++)Qa[ma][n]=Qa[ma][n]*Va%12;for(n=ma+1;14>n;n++)w(Qa,ma,n,ma,12-Qa[n][ma])}Qa=0}if(0==Qa){Qa=!0;for(Ta=14;14>Ta;Ta++)if(0!=Ua[Ta][14]){Qa=!1;break}if(Qa){Qa=Ua;for(Ta=Qa[0].length-2;0<Ta;Ta--)for(ma=Ta-1;0<=ma;ma--)0!=Qa[ma][Ta]&&w(Qa,Ta,ma,Ta,12-Qa[ma][Ta]);for(Ta=Qa=0;14>Ta;Ta++)0!=Ua[Ta][14]&&Qa++;if(Qa<r){for(Ta=0;18>
Ta;Ta++)b[Ta]=0;for(Ta=0;14>Ta;Ta++)b[Wa[Ta]]=Ua[Ta][14];r=Qa}}}}}d="";for(r=0;9>r;r++)f=b[r],0!=f&&(Wa=6>=f,6<f&&(f=12-f),d+=a[r]+f+(Wa?"+":"-")+" ");d+="y2 ";for(r=0;9>r;r++)f=b[r+9],0!=f&&(Wa=6>=f,6<f&&(f=12-f),d+=a[r]+f+(Wa?"+":"-")+" ");b=!0;for(r=0;4>r;r++)1==h(2)&&(d+=(b?"":" ")+a[r],b=!1);return d});return{moveArr:Sa}}(mathlib.rn,mathlib.Cnk);(function(h,ea){function w(){a||(a=!0,mathlib.createMove(d,5760,c,2),mathlib.createMove(r,32,z,2),mathlib.createPrun(b,0,184320,14,function(a,b){return d[b][a>>5]<<5|r[b][a&31]},2))}function Sa(a,c,h,w,z){if(0==h)return 0==c+a;if(mathlib.getPruning(b,a<<5|c)>h)return!1;var f,ea;for(ea=0;2>ea;ea++)if(ea!=w){var n=a;var Qa=c;for(f=0;3>f;f++)if(n=d[ea][n],Qa=r[ea][Qa],Sa(n,Qa,h-1,ea,z))return z.push("UM".charAt(ea)+"'2 ".charAt(f)),!0}}function c(a,b){var c=a>>3,d=a,f=mathlib.getNParity(c,6);f=a<<1|
f^d>>1&1;var r=[];mathlib.setNPerm(r,c,6);0==b?(h(r,0,1,2,3),d+=2):1==b&&(h(r,0,2,5,4),f+=1);return mathlib.getNPerm(r,6)<<3|d&6|f>>1&1}function z(a,b){var c,d=0,f=[];for(c=4;0<=c;--c)d^=f[c]=a&1,a>>=1;f[5]=d;0==b?h(f,0,1,2,3):1==b&&ea(f,0,2,5,4,1);for(c=a=0;5>c;++c)a=a<<1|f[c];return a}var a=!1,b=[],d=[],r=[];scrMgr.reg("lsemu",function(){w();var a=[],b;do{var c=mathlib.rn(5760);var d=mathlib.rn(32)}while(0==d+c);for(b=0;99>b&&!Sa(c,d,b,-1,a);b++);return a.reverse().join(" ").replace(/ +/g," ")})})(mathlib.circle,
mathlib.circleOri);(function(h,ea,w){function Sa(a,b,c,d){void 0==d&&(d=[""]);for(var f=0,n,r=[],w=0;w<c;w++){do n=h(a.length);while(f>>n&1);r.push(a[n]+ea(d));f&=~b[n];f|=1<<n}return r.join(" ")}function c(a){return" "+ea([a+"=0",a+"+1",a+"+2",a+"+3",a+"+4",a+"+5",a+"+6",a+"-5",a+"-4",a+"-3",a+"-2",a+"-1"])+" "}function z(){return ea(["U","d"])+ea(["U","d"])}function a(a,b){var c=a?["U","L","R","D"]:["D","R","L","U"],d=[[0,-1],[1,0],[-1,0],[0,1]],f=0,n=3,r,w,z=5,ea="";for(r=0;r<b;r++)for(w=!1;!w;){var ma=h(4);0<=f+
d[ma][0]&&3>=f+d[ma][0]&&0<=n+d[ma][1]&&3>=n+d[ma][1]&&3!=ma+z&&(w=!0,f+=d[ma][0],n+=d[ma][1],ea+=c[ma]+" ",z=ma)}return ea}function b(a,b){var c="",d,f;for(d=0;d<b;d++){c+="  ";for(f=0;f<a;f++)c+=(0==f%2?"R":"D")+ea(["++","--"])+" ";c+="U"+(c.endsWith("-- ")?"'\n":"~\n")}return c}function d(a,b){Ta=[];var c;r(1,a,b);var d="";for(c=0;c<Ta[0].length;c++){var f=Ta[0][c];d=7==f[0]?d+"/":d+(" ("+f[0]+","+f[1]+") ")}return d}function r(a,b,c){for(var d=0;d<a;d++){ma=[1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,
0,0,1,0,0,1,0];Ta[d]=[];for(var n=0;n<c;){var r=h(12)-5,w=2==b?0:h(12)-5,z=(0==r?0:1)+(0==w?0:1);(n+z<=c||1!=b)&&(0<z||0==n)&&f(r,w)&&(1==b&&(n+=z),0<z&&(Ta[d][Ta[d].length]=[r,w]),n<c||1!=b)&&(n++,Ta[d][Ta[d].length]=[7,0],f(7,0))}}}function f(a,b){var c;if(7==a){for(c=0;6>c;c++)mathlib.circle(ma,c+6,c+12);return!0}if(ma[(17-a)%12]||ma[(11-a)%12]||ma[12+(17-b)%12]||ma[12+(11-b)%12])return!1;var d=ma.slice(0,12);var f=ma.slice(12,24);for(c=0;12>c;c++)ma[c]=d[(12+c-a)%12],ma[c+12]=f[(12+c-b)%12];return!0}
function Wa(a,b){for(var c=0,d=[],f=0;4>f;f++)d[f]=h(3),0<d[f]?(d[f]="ulrb".charAt(f)+["! ","' "][d[f]-1],c++):d[f]="";return a.substr(0,a.length-b*c)+" "+d.join("")}var Ua=["","2","'"],Qa=["","2","'","2'"],Ta=[],ma=[];scrMgr.reg("444yj",function(a,b){var c=[["U","D"],["R","L","r"],["F","B","f"]],d=[],f=0,n,r="";var w=-1;for(n=0;n<b;n++){var z=0;do{var ea=h(c.length),ma=h(c[ea].length);if(ea!=w||0==d[ma]){if(ea==w)d[ma]=1,z=h(Ua.length);else{for(w=0;w<c[ea].length;w++)d[w]=0;w=ea;d[ma]=1;z=h(Ua.length)}0==
ea&&0==ma&&(f=(f+4+z)%4);r=1==ea&&2==ma?0==f||3==f?r+("l"+Ua[z]+" "):r+("r"+Ua[z]+" "):2==ea&&2==ma?0==f||1==f?r+("b"+Ua[z]+" "):r+("f"+Ua[z]+" "):r+(c[ea][ma]+Ua[z]+" ");z=1}}while(0==z)}return r});scrMgr.reg("bic",function(a,b){function c(a){var b=[],c,d,h,r=0;for(c=0;9>c;c++){for(d=h=0;d<b.length;d++)b[d]==n[f[a][c]]&&(h=1);0==h&&(b[b.length]=n[f[a][c]],0==n[f[a][c]]&&(r=1))}return 5==b.length&&1==r}function d(a,b){for(var c=0;c<b;c++){var d=n[f[a][0]];n[f[a][0]]=n[f[a][6]];n[f[a][6]]=n[f[a][4]];
n[f[a][4]]=n[f[a][2]];n[f[a][2]]=d;d=n[f[a][7]];n[f[a][7]]=n[f[a][5]];n[f[a][5]]=n[f[a][3]];n[f[a][3]]=n[f[a][1]];n[f[a][1]]=d}}for(var f=[[0,1,2,5,8,7,6,3,4],[6,7,8,13,20,19,18,11,12],[0,3,6,11,18,17,16,9,10],[8,5,2,15,22,21,20,13,14]],n=[1,1,2,3,3,2,4,4,0,5,6,7,8,9,10,10,5,6,7,8,9,11,11],r="",w=[],z,ea,ma,Qa;w.length<b;){z=[1,1,1,1];for(ea=0;4>ea;ea++)1!=z[ea]||c(ea)||(z[ea]=0);for(ea=0;0==ea;)ma=h(4),1==z[ma]&&(Qa=h(3)+1,d(ma,Qa),ea=1);w[w.length]=[ma,Qa];2<=w.length&&w[w.length-1][0]==w[w.length-
2][0]&&(w[w.length-2][1]=(w[w.length-2][1]+w[w.length-1][1])%4,w=w.slice(0,w.length-1));1<=w.length&&0==w[w.length-1][1]&&(w=w.slice(0,w.length-1))}for(z=0;z<b;z++)r+="UFLR"[w[z][0]]+Ua[w[z][1]-1]+" ";return r});scrMgr.reg("15p 15pm clkwca clk clkc clke giga mgmo mgmp mgmc heli redi redim pyrm prcp mpyr r3 r3ni sq1h sq1t sq2 ssq1t bsq -1 333noob lol".split(" "),function(f,n){var ma="";switch(f){case "15p":return a(!1,n);case "15pm":return a(!0,n);case "clkwca":var Va="0+ 1+ 2+ 3+ 4+ 5+ 6+ 1- 2- 3- 4- 5-".split(" ");
ma="UR? DR? DL? UL? U? R? D? L? ALL? y2 U? R? D? L? ALL?????";for(var Ra=0;14>Ra;Ra++)ma=ma.replace("?",ea(Va));return ma.replace("?",ea([""," UR"])).replace("?",ea([""," DR"])).replace("?",ea([""," DL"])).replace("?",ea([""," UL"]));case "clk":return"UU"+c("u")+"dU"+c("u")+"dd"+c("u")+"Ud"+c("u")+"dU"+c("u")+"Ud"+c("u")+"UU"+c("u")+"UU"+c("u")+"UU"+c("u")+"dd     "+z()+"\ndd"+c("d")+"dU"+c("d")+"UU"+c("d")+"Ud"+c("d")+"UU     UU     Ud     dU     UU     dd"+c("d")+z();case "clkc":ma="";for(Ra=0;4>
Ra;Ra++)ma+="("+(h(12)-5)+", "+(h(12)-5)+") / ";for(Ra=0;6>Ra;Ra++)ma+="("+(h(12)-5)+") / ";for(Ra=0;4>Ra;Ra++)ma+=ea(["d","U"]);return ma;case "clke":return"UU"+c("u")+"dU"+c("u")+"dU"+c("u")+"UU"+c("u")+"UU"+c("u")+"UU"+c("u")+"Ud"+c("u")+"Ud"+c("u")+"dd"+c("u")+"dd     "+z()+"\nUU     UU     dU"+c("d")+"dU     dd"+c("d")+"Ud     Ud"+c("d")+"UU     UU"+c("d")+"dd"+c("d")+z();case "giga":ma="";for(Ra=0;Ra<Math.ceil(n/10);Ra++){ma+="  ";for(Va=0;10>Va;Va++)ma+=(0==Va%2?"Rr".charAt(h(2)):"Dd".charAt(h(2)))+
ea(["+ ","++","- ","--"])+" ";ma+="y"+ea(Qa)+"\n"}return ma;case "mgmo":return Sa("F B U D L DBR DL BR DR BL R DBL".split(" "),[1364,2728,1681,2402,2629,1418,2329,1574,1129,2198,421,602],n);case "mgmp":return b(10,Math.ceil(n/10));case "mgmc":ma=Math.ceil(n/10);Ra="";var Ua;for(Va=0;Va<ma;Va++){Ra+=" ";for(Ua=0;5>Ua;Ua++)Ra+=ea(["+","-"])+ea(["+","-"])+" ";Ra+="U"+ea(["'\n","~\n"])}return Ra;case "heli":return Sa("UF UR UB UL FR BR BL FL DF DR DB DL".split(" "),[154,53,106,197,771,1542,3084,2313,
2704,1328,2656,1472],n);case "redi":return Sa("LRFBlrfb".split(""),[28,44,67,131,193,194,52,56],n,["","'"]);case "redim":ma=[];for(Ra=0;Ra<n;Ra++)ma.push(w([["R"],["L"]],["","'"],3+h(3)));return ma.join(" x ");case "pyrm":return ma=w([["U"],["L"],["R"],["B"]],["!","'"],n),Wa(ma,3).replace(/!/g,"");case "prcp":return b(10,Math.ceil(n/10));case "mpyr":return ma=Sa("U! L! R! B! Uw Lw Rw Bw".split(" "),[224,208,176,112,238,221,187,119],n,["!","'"]),Wa(ma,4).replace(/!/g,"");case "r3":for(Ra=0;Ra<n;Ra++)ma+=
(0==Ra?"":"\n")+(Ra+1)+") ${333}";return scrMgr.formatScramble(ma);case "r3ni":for(Ra=0;Ra<n;Ra++)ma+=(0==Ra?"":"\n")+(Ra+1)+") ${333ni}";return scrMgr.formatScramble(ma);case "sq1h":return d(1,n);case "sq1t":return d(0,n);case "sq2":for(Ra=0;Ra<n;)if(Va=h(12)-5,Ua=h(12)-5,0!=Va||0!=Ua)Ra++,ma+="("+Va+","+Ua+") / ";return ma;case "ssq1t":Ta=[];r(2,0,n);Ra=Ta[0];Va=Ta[1];Ua="";7==Ra[0][0]&&(Ra=[[0,0]].concat(Ra));7==Va[0][0]&&(Va=[[0,0]].concat(Va));for(ma=0;ma<n;ma++)Ua+="("+Ra[2*ma][0]+","+Va[2*
ma][0]+","+Va[2*ma][1]+","+Ra[2*ma][1]+") / ";return Ua;case "bsq":return d(2,n);case "-1":for(Ra=0;Ra<n;Ra++)ma+=String.fromCharCode(32+h(224));return ma+"Error: subscript out of range";case "333noob":return ma=w(SCRAMBLE_NOOBST,SCRAMBLE_NOOBSS.split("|"),n).replace(/t/,"T"),ma.substr(0,ma.length-2)+".";case "lol":return ma=w([["L"],["O"]],0,n),ma.replace(/ /g,"")}console.log("Error")})})(mathlib.rn,mathlib.rndEl,scrMgr.mega);var storage=execMain(function(){function h(a){a=""+a;return String.fromCharCode(47+a.length)+a}function ea(a,b){return"session_"+h(a)+(void 0==b?"":"_"+h(b))}function w(a){console.log("IndexedDB Error",a||"undefined")}function Sa(b,c,f,h){(h=h||a)?(h=h.transaction(["sessions"],b),h.oncomplete=f||$.noop,h.onerror=w,h=h.objectStore("sessions"),c(h)):requestAnimFrame(function(){Sa(b,c,f)})}function c(a,b,c){if(z)Sa("readwrite",function(b){b.clear();for(var c=1;c<=~~kernel.getProp("sessionN");c++)for(var d=
mathlib.str2obj(a["session"+c]||[]),f=0;f<(Math.ceil(d.length/100)||1);f++)b.put(d.slice(100*f,100*(f+1)),ea(c,f))},b,c);else for(b=1;b<=~~kernel.getProp("sessionN");b++)localStorage["session"+b]=obj2str(a["session"+b])}var z=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,a,b=/^session_\d(\d+)_\d(\d+)$/;z&&$(function(){var b=z.open("cstimer",1);b.onerror=w;b.onupgradeneeded=function(a){console.log("Update Data From LocalStorage");var b=a.target.result;
b.createObjectStore("sessions").transaction.oncomplete=function(a){c(localStorage,function(){},b)}};b.onsuccess=function(b){a=b.target.result}});return{set:function(a,b,c,h){z?Sa("readwrite",function(c){var d=~~(h/100),f=IDBKeyRange.bound(ea(a,d),ea(a+1),!1,!0);for(c["delete"](f);d<(Math.ceil(b.length/100)||1);d++)c.put(b.slice(100*d,100*(d+1)),ea(a,d))},function(){c&&c()}):(localStorage["session"+a]=JSON.stringify(b),c&&requestAnimFrame(c))},get:function(a,b,c,h){var d=[];if(z)Sa("readonly",function(b){var c=
IDBKeyRange.bound(ea(a),ea(a+1),!1,!0);b.openCursor(c).onsuccess=function(a){if(a=a.target.result)Array.prototype.push.apply(d,a.value),a["continue"]()}},function(){c=c||0;h=h||d.length;if(0!=c||h!=d.length)d=d.slice(c,h);b&&b(d)});else{var f=localStorage["session"+a];d=[];void 0!=f&&""!=f&&(d=JSON.parse(f));if(0!=c||h!=d.length)d=d.slice(c,h);requestAnimFrame(function(){b&&b(d)})}},del:function(a,c,f){z?Sa("readwrite",function(d){d["delete"](IDBKeyRange.bound(ea(a),ea(a+1),!1,!0));var f=IDBKeyRange.bound(ea(c),
ea(c+1),!1,!0);d.openCursor(f).onsuccess=function(c){if(c=c.target.result){var f=b.exec(c.key);d.put(c.value,ea(a,~~f[2]));d["delete"](c.key);c["continue"]()}}},f):(localStorage["session"+a]=localStorage["session"+c],delete localStorage["session"+c],f&&requestAnimFrame(f))},importAll:c,exportAll:function(a){var c={};if(z)Sa("readonly",function(a){a.openCursor().onsuccess=function(a){if(a=a.target.result){var d=~~b.exec(a.key)[1];c["session"+d]=c["session"+d]||[];Array.prototype.push.apply(c["session"+
d],a.value);a["continue"]()}}},function(){a&&a(c)});else{for(var d=1;d<=~~kernel.getProp("sessionN");d++)void 0!=localStorage["session"+d]&&(c["session"+d]=mathlib.str2obj(localStorage["session"+d]));requestAnimFrame(function(){a&&a(c)})}}}});var TimeStat=execMain(function(){function h(h,ea,c,z){this.avgSizes=h.slice();this.timeAt=c;this.timeSort=z;this.reset(ea)}function ea(h){var w=kernel.getProp("trim","p5");return"p"==w[0]?Math.ceil(h/100*w.slice(1)):"m"==w?Math.max(0,h-1>>1):~~w}h.prototype.reset=function(h){this.timesLen=h;this.shouldRecalc=!0};h.prototype.getAllStats=function(){this.genStats();var h=this.timesLen-this.tree.rankOf(-1);return[h,h==this.timesLen?-1:kernel.round(this.tree.cumSum(this.timesLen-h)/(this.timesLen-h))]};
h.prototype.genStats=function(){if(this.shouldRecalc){this.bestAvg=[];this.lastAvg=[];this.bestAvgIndex=[];this.treesAvg=[];this.tree=sbtree.tree(this.timeSort);this.bestTime=this.worstTime=-1;this.bestTimeIndex=this.worstTimeIndex=0;var h=this.timesLen;for(this.timesLen=0;this.timesLen<h;)this.doPushed(!0,this.timesLen!=h-1);this.shouldRecalc=!1}};h.prototype.pushed=function(h){this.genStats();this.doPushed(h)};h.prototype.doPushed=function(h,Sa){var c=[];this.timesLen++;var w=this.timesLen-1,a=
this.timeAt(w);this.tree.insert(a,w);if(!Sa){var b=this.bestTime;this.bestTime=0==this.timesLen?-1:this.tree.rank(0);this.bestTimeIndex=this.tree.find(this.bestTime);this.worstTime=0==this.timesLen?-1:this.tree.rank(Math.max(0,this.tree.rankOf(-1)-1));this.worstTimeIndex=this.tree.find(this.worstTime);0>this.timeSort(a,b)&&-1!=b&&c.push("single")}for(b=0;b<this.avgSizes.length;b++){var d=Math.abs(this.avgSizes[b]);if(this.timesLen<d)break;var r=0>this.avgSizes[b]?0:ea(d),f=d-2*r,Wa=this.treesAvg[b]||
sbtree.tree(this.timeSort);if(this.timesLen==d){for(var Ua=0;Ua<d;Ua++)Wa.insert(this.timeAt(Ua),Ua);this.bestAvg[b]=[-1,0,-1,-1];this.bestAvgIndex[b]=0;this.lastAvg[b]=[-1,0,-1,-1]}else Wa.remove(this.timeAt(w-d)).insert(a,w);Ua=Wa.cumSum(d-r)-Wa.cumSum(r);var Qa=Math.sqrt((Wa.cumSk2(d-r)-Wa.cumSk2(r)-Ua*Ua/f)/(f-1))/1E3;r=[Wa.rankOf(-1)<d-r?-1:Ua/f,Qa,Wa.rank(r-1),Wa.rank(d-r)];0>this.timeSort(r[0],this.bestAvg[b][0])&&(0<=this.bestAvg[b][0]&&!Sa&&c.push((0<this.avgSizes[b]?"ao":"mo")+d),this.bestAvg[b]=
r,this.bestAvgIndex[b]=w-d+1);this.lastAvg[b]=r;this.treesAvg[b]=Wa}0==c.length||h||logohint.push("Session best "+c.join(" ")+"!")};h.prototype.getMinMaxInt=function(){if(this.getAllStats()[0]==this.timesLen)return null;var h=[100,200,500,1E3,2E3,5E3,1E4,2E4,5E4,1E5];if("a"==kernel.getProp("disPrec")){var ea=(this.worstTime-this.bestTime)/10;for(var c=0;c<h.length;c++)if(ea<h[c]){ea=h[c];break}}else ea=h[kernel.getProp("disPrec")];return[this.worstTime,this.bestTime,ea]};h.prototype.runAvgMean=function(h,
Sa,c,z){c=c||Sa;void 0===z&&(z=ea(c));if(!(0>h||h+Sa>this.timesLen)){if(0>=c-z)return[-1,0,-1,-1];for(var a=sbtree.tree(this.timeSort),b=0;b<c;b++)a.insert(this.timeAt(h+b),b);for(var d=c-2*z,r=a.cumSum(c-z)-a.cumSum(z),f=Math.sqrt((a.cumSk2(c-z)-a.cumSk2(z)-r*r/d)/(d-1))/1E3,w=[[a.rankOf(-1)<c-z?-1:r/d,f,a.rank(z-1),a.rank(c-z)]],Ua=h-c,Qa=c;Qa<Sa;Qa++)a.remove(this.timeAt(Ua+Qa)).insert(this.timeAt(h+Qa),b),r=a.cumSum(c-z)-a.cumSum(z),f=Math.sqrt((a.cumSk2(c-z)-a.cumSk2(z)-r*r/d)/(d-1))/1E3,w.push([a.rankOf(-1)<
c-z?-1:r/d,f,a.rank(z-1),a.rank(c-z)]);return w}};h.prototype.getTrimList=function(h,Sa,c,z){for(var a=[],b=[],d=ea(Sa),r=0;r<Sa;r++){var f=this.timeAt(h+r),w=this.timeSort(f,c);f=this.timeSort(z,f);0>w?a.push(r):0>f?b.push(r):0==w&&a.length<d?a.unshift(r):0==f&&b.length<d&&b.unshift(r)}return a.slice(-d).concat(b.slice(-d))};return h});var stats=execMain(function(h,ea,w){function Sa(a){if(kernel.getProp("delmul")){var b=prompt(STATS_CFM_DELMUL,1);if(null==b||!/^\d+$/.exec(b)||0==~~b)return}else{if(!confirm(STATS_CFM_DELETE))return;b=1}Za.splice(a,~~b);sb.reset(Za.length);xb.reset(Za.length);Eb.save(a);Ua(!1);return!0}function c(a){for(var b=0,c=0,d=0;d<Za.length;d++){var f=Za[d][0];-1==f[0]||f.length<=a?c+=1:b+=Ra(a,d)}return c==Za.length?-1:b/(Za.length-c)}function z(a,b){switch(a[0]){case 0:return h(a[1]);case -1:return"DNF"+
(b?"("+h(a[1])+")":"");default:return h(a[0]+a[1])+"+"}}function a(a){if(2==a.length)return"";var b=[];b.push(h(a[a.length-1]));for(var c=a.length-2;1<=c;c--)b.push(h(a[c]-a[c+1]));return"="+b.join("+")}function b(a){var b=(kernel.getProp("statinv")?rb:hb).index()-2;a=Math.max(0,Za.length-b);b=Math.max(0,Za.length-b-50);for(var c=[],d=b;d<a;d++)c.push(f(d,ub));kernel.getProp("statinv")?hb.after(c.join("")):hb.before(c.reverse().join(""));0==b&&hb.unbind("click").hide()}function d(){for(var a=(kernel.getProp("statinv")?
rb:hb).index()-2;50<a;a--)(kernel.getProp("statinv")?hb.next():hb.prev()).remove();50<Za.length&&hb.unbind("click").click(b).show()}function r(a){a=~~$(a.target).attr("data");var b=sb;0!=a&&(b=new TimeStat(nb,Za.length,Ra.bind(void 0,a),jb));bb(b,Ya,0==a?0:STATS_CURSPLIT.replace("%d",a))}function f(a,b,c){var d=Za[a],f=d[0],n=[];n.push('<td class="times">'+(d[2]&&"*")+(a+1)+'</td><td class="times">'+z(f,!1)+"</td>");d=xb.runAvgMean(a-vb+1,vb,0,0<Hb?void 0:0);a=xb.runAvgMean(a-Cb+1,Cb,0,0<Lb?void 0:
0);n.push("<td"+(d?' class="times"':"")+">"+(d?w(d[0][0]):"-")+"</td><td"+(a?' class="times"':"")+">"+(a?w(a[0][0]):"-")+"</td>");if(1<b){n.push("<td>"+h(f[f.length-1])+"</td>");for(a=f.length-2;1<=a;a--)n.push("<td>"+h(f[a]-f[a+1])+"</td>");for(a=f.length-1;a<b;a++)n.push("<td>-</td>")}n=n.join("");c&&c.html(n);return"<tr>"+n+"</tr>"}function Wa(a){rb.empty().unbind("click").click(r);var b=Za.length,d=xb.getAllStats();rb.append('<th colspan="4" data="0" class="times">'+STATS_SOLVE+": "+(b-d[0])+
"/"+b+"<br>"+STATS_AVG+": "+w(d[1])+"</th>").css("font-size","1.2em");if(1<a)for(b=1;b<=a;b++)rb.append('<th data="'+b+'" class="times">'+w(c(b))+"</th>").css("font-size","")}function Ua(a){ub=1;for(a=0;a<Za.length;a++)ub=Math.max(ub,Za[a][0].length-1);tb.empty().append("<th></th><th>"+STATS_TIME+"</th><th>"+(0<Hb?"ao":"mo")+vb+"</th><th>"+(0<Lb?"ao":"mo")+Cb+"</th>");if(1<ub)for(a=0;a<ub;a++)tb.append("<th>P."+(a+1)+"</th>");var c=[];a=Math.max(0,Za.length-50);for(var d=Za.length;a<d;a++)c.push(f(a,
ub));kernel.getProp("statinv")?yb.empty().append(tb,hb,c.join(""),rb):yb.empty().append(rb,tb,c.reverse().join(""),hb);50<Za.length?hb.unbind("click").click(b).show():hb.unbind("click").hide();Wa(ub);Ta();ab.scrollTop(kernel.getProp("statinv")?yb[0].scrollHeight:0)}function Qa(){if(!Db){if(kernel.getProp("statsum")){wb.css("display","inline-block");sb.getAllStats();var a=$("<select>").change(function(a){kernel.setProp("statsrc",$(a.target).val())});a.append($("<option>").val("t").html("time"));var b=
["t"];if(1!=ub)for(var c=0;c<ub;c++)a.append($("<option>").val("p"+(c+1)).html("P."+(c+1))),b.push("p"+(c+1));c=kernel.getProp("statsrc","t");-1==b.indexOf(c)?(a.append($("<option>").val("n").html("select")),a.val("n"),b.push("n")):a.val(c);c=[];0<Za.length?(c.push('<td class="times click" data="cs">'+h(sb.timeAt(Za.length-1))+"</td>"),c.push('<td class="times click" data="bs">'+h(sb.bestTime)+"</td>")):(c.push("<td><span>-</span></td>"),c.push("<td><span>-</span></td>"));for(var d=[],f=0;f<nb.length;f++){var n=
Math.abs(nb[f]);Za.length>=n&&(d.push("<tr><th>"+"am"[nb[f]>>>31]+"o"+n+"</th>"),d.push('<td class="times click" data="c'+"am"[nb[f]>>>31]+f+'">'+w(sb.lastAvg[f][0])+"</td>"),d.push('<td class="times click" data="b'+"am"[nb[f]>>>31]+f+'">'+w(sb.bestAvg[f][0])+"</td>"))}pb.empty().append($("<tr>").append("<th></th><th>"+qb[1]+"</th><th>"+qb[0]+"</th>"),$("<tr>").append(1==b.length?"<th>time</th>":$("<th>").append(a),c.join("")),d.join(""))}else pb.empty(),wb.hide();gb()}}function Ta(){if(!Db){Qa();
Ab.update();Tb.update();Mb.update();Pb.update();var a=Za.length-1,b=xb.runAvgMean(a-vb+1,vb,0,0<Hb?void 0:0),c=xb.runAvgMean(a-Cb+1,Cb,0,0<Lb?void 0:0);kernel.pushSignal("avg",[(0<Hb?"ao":"mo")+vb+": "+(b?w(b[0][0]):"-"),(0<Lb?"ao":"mo")+Cb+": "+(c?w(c[0][0]):"-"),b?[a-vb+1,vb,10*vb,0>Hb]:void 0,c?[a-Cb+1,Cb,10*Cb,0>Lb]:void 0,n.bind(void 0,xb,Ya)])}}function ma(){var a=kernel.getProp("statsrc","t");return"t"==a?Gb:"p"==a[0]?Ra.bind(void 0,~~a.slice(1)):Gb}function Va(b,c,d){var f=z(c[0],!0)+a(c[0])+
(c[2]?"["+c[2]+"]":"");-1!=$.inArray(b,d)&&(f="("+f+")");kernel.getProp("printScr")&&(f+="   "+c[1]);kernel.getProp("printDate")&&(f+="   @"+mathlib.time2str(c[3]));return kernel.getProp("printScr")||kernel.getProp("printDate")?b+1+". "+f+" \n":f+", "}function n(a,b,c,d,f,h){if(0!=a.timesLen){var n=[0,[null],[null]],r=[];0!=c+d&&(h?n=a.runAvgMean(c,d,0,0)[0]:(n=a.runAvgMean(c,d)[0],r=a.getTrimList(c,d,n[2],n[3])));var z="";if(kernel.getProp("printDate")&&2<d){z=b(c);var ea=b(c+d-1);z=qb[11].replace("%s",
mathlib.time2str(z&&z[3])).replace("%e",mathlib.time2str(ea&&ea[3]));z=" ("+z+")"}z=[mathlib.time2str(+new Date/1E3,qb[3])+z+"\n"];1<f&&(2==f?z.push(qb[8]):10==f?z.push(qb[5]):h?z.push(qb[6].replace("%mk",~~(f/10))):z.push(qb[7].replace("%mk",~~(f/10))),z.push(": "+w(n[0])));z.push("\n\n"+qb[10]+"\n");for(f=0;f<d;f++)z.push(Va(kernel.getProp("absidx")?c+f:f,b(c+f),r));z=z.join("").slice(0,-2);ob.val(z);kernel.showDialog([ob,eb,void 0,eb,[STATS_EXPORTCSV,function(){Xa(a,b,c,d);return!1}]],"stats",
STATS_CURROUND);ob[0].select()}}function Xa(a,b,c,d){if(0!=a.timesLen){window.Blob||alert("Do not support your browser!");a=["No.;Time;Comment;Scramble;Date"];for(var f=0;f<ub;f++)a[0]+=";P."+(f+1);for(f=0;f<d;f++){var n=b(c+f),r=[];r.push(f+1);r.push(z(n[0],!0));r.push(n[2]?n[2]:"");r.push(n[1]);r.push(mathlib.time2str(n[3]));r.push(h(n[0][n[0].length-1]));for(var w=n[0].length-2;1<=w;w--)r.push(h(n[0][w]-n[0][w+1]));for(w=n[0].length-1;w<ub;w++)r.push("");for(w=0;w<r.length;w++){n=r;var ea=w,ma=
r[w];ma=ma.toString();if(-1!=ma.indexOf(";")||-1!=ma.indexOf("\n"))ma='"'+ma.replace(/"/g,'""')+'"';n[ea]=ma}a.push(r.join(";"))}a=a.join("\r\n");b=new Blob([a],{type:"text/csv"});c=$('<a class="click"/>').appendTo("body");c.attr("href",URL.createObjectURL(b));c.attr("download","csTimerExport_"+mathlib.time2str(new Date/1E3,"%Y%M%D_%h%m%s")+".csv");c[0].click();c.remove()}}function fb(a,b,c){c=$(c.target).attr("data");if(void 0!=c){var d=~~c.substr(2);switch(c.substr(0,2)){case "bs":n(a,b,a.bestTimeIndex,
1,10,!0);break;case "cs":n(a,b,a.timesLen-1,1,10,!0);break;case "ws":n(a,b,a.worstTimeIndex,1,10,!0);break;case "bm":n(a,b,a.bestAvgIndex[d],-nb[d],10*-nb[d],!0);break;case "cm":n(a,b,a.timesLen+nb[d],-nb[d],10*-nb[d],!0);break;case "ba":n(a,b,a.bestAvgIndex[d],nb[d],10*nb[d],!1);break;case "ca":n(a,b,a.timesLen-nb[d],nb[d],10*nb[d],!1);break;case "tt":bb(a,b)}}}function Ra(a,b){var c=Za[b][0];return-1==c[0]||c.length<=a?-1:Kb*~~((0==a?c[0]+c[1]:c[c.length-a]-(c[c.length-a+1]||0))/Kb)}function Ya(a){return Za[a]}
function eb(){ob.val("")}function bb(a,b,c){var d=a.getAllStats(),f=d[0],n=a.runAvgMean(0,Za.length)[0];d=d[1];var r=a.timesLen,z="";if(kernel.getProp("printDate")&&2<r){z=b(0);var ea=b(r-1);z=qb[11].replace("%s",mathlib.time2str(z&&z[3])).replace("%e",mathlib.time2str(ea&&ea[3]));z=" ("+z+")"}z=[mathlib.time2str(+new Date/1E3,qb[3])+z];z.push(qb[4].replace("%d",r-f+"/"+r)+"\n");z.push(qb[5]);z.push("    "+qb[0]+": "+h(a.bestTime));z.push("    "+qb[2]+": "+h(a.worstTime)+"\n");for(f=0;f<nb.length;f++)ea=
Math.abs(nb[f]),r>=ea&&(z.push(qb[7-(nb[f]>>>31)].replace("%mk",ea)),z.push("    "+qb[1]+": "+w(a.lastAvg[f][0])+" ( = "+lb(a.lastAvg[f][1],2)+")"),z.push("    "+qb[0]+": "+w(a.bestAvg[f][0])+" ( = "+lb(a.bestAvg[f][1],2)+")\n"));z.push(qb[8].replace("%v",w(n[0])).replace("%sgm",lb(n[1],2)).replace(/[{}]/g,""));z.push(qb[9].replace("%v",w(d)+"\n"));if(0!=r){z.push(qb[10]);n=[];for(d=0;d<r;d++)n.push(Va(d,b(d),[]));n=n.join("").slice(0,-2);z.push(n)}z=z.join("\n");ob.val(z);kernel.showDialog([ob,
eb,void 0,eb,[STATS_EXPORTCSV,function(){Xa(a,b,0,r);return!1}]],"stats",c||STATS_CURSESSION);ob[0].select()}function jb(a,b){return a==b?0:0>a?1:0>b?-1:a-b}function lb(a,b){a&&a!=Number.POSITIVE_INFINITY&&a!=Number.NEGATIVE_INFINITY||(a=0);for(var c=""+Math.round(a*Math.pow(10,b));c.length<b+1;)c="0"+c;var d=c.length;return c.substr(0,d-b)+"."+c.substr(d-b,b)}function kb(a){a=a.split(/[\s,;]+/);for(var b=/([am])o(\d+)/,c=[],d=0;d<a.length;d++){var f=b.exec(a[d]);if(!f)return!1;c.push(("a"==f[1]?
1:-1)*~~f[2])}c.sort(function(a,b){return Math.abs(a)-Math.abs(b)});return c}function db(a){(a=kb(a))?(nb=a,sb=new TimeStat(nb,Za.length,ma(),jb),xb=new TimeStat([],Za.length,Gb,jb),Fb.updateStatal(nb),Ta()):(kernel.setProp("statal","mo3 ao5 ao12 ao100"),kernel.reprop())}function ib(a,b){if("time"==a){var c=b;if("string"==typeof c[0]){var h=[c[2],c[1]||Jb,c[0],c[3]||Math.round(((new Date).getTime()-c[2][1])/1E3)];c[4]&&h.push(c[4]);Za.push(h);c=c[2]}else Za.push([c,Jb,"",Math.round(((new Date).getTime()-
c[1])/1E3)]);sb.pushed();xb.pushed();Eb.save(Za.length-1);c.length-1>ub?Ua(!0):(kernel.getProp("statinv")?(rb.before(f(Za.length-1,ub)),ab.scrollTop(yb[0].scrollHeight)):(tb.after(f(Za.length-1,ub)),ab.scrollTop(0)),Wa(ub),50<Za.length&&((kernel.getProp("statinv")?hb.next():hb.prev()).remove(),d()));Ta()}else"scramble"==a||"scrambleX"==a?Jb=b[1]:"property"==a?/^(:?useMilli|timeFormat|stat[12][tl]|statinv)$/.exec(b[0])?(Kb=kernel.getProp("useMilli")?1:10,Hb=[1,-1][~~kernel.getProp("stat1t")]*kernel.getProp("stat1l"),
Lb=[1,-1][~~kernel.getProp("stat2t")]*kernel.getProp("stat2l"),vb=Math.abs(Hb),Cb=Math.abs(Lb),Ua(!1)):"statsum"==b[0]?Qa():"statal"==b[0]?(c=b[1],"u"==c&&("modify"==b[2]?(h=prompt("Statistics Details",kernel.getProp("statalu")||"mo3 ao5 ao12 ao100"),/^\s*([am]o\d+[\s,;]*)+\s*$/.exec(h)?(kernel.setProp("statalu",h),c=h):(null!=h&&alert("INVALID VALUES!"),kernel.setProp("statal","mo3 ao5 ao12 ao100"),kernel.reprop())):c=kernel.getProp("statalu")),db(c)):"statalu"==b[0]?db(b[1]):"trim"==b[0]?(sb.reset(Za.length),
xb.reset(Za.length),Fb.updateStatal(nb),Ta()):"view"==b[0]?gb():"statHide"==b[0]?b[1]?mb.hide():mb.show():"statsrc"==b[0]?(sb=new TimeStat(nb,Za.length,ma(),jb),Ta()):"wndStat"==b[0]&&gb():"ctrl"==a&&"stats"==b[0]?"clr"==b[1]?Eb.getButton().click():"undo"==b[1]?Bb.delLast():"OK"==b[1]?Bb.setCfm(0):"+2"==b[1]?Bb.setCfm(2E3):"DNF"==b[1]&&Bb.setCfm(-1):"ashow"!=a||b?"button"==a&&"stats"==b[0]&&b[1]&&setTimeout(gb,50):d()}function gb(){$("html").hasClass("m")?ab.height(Math.max(wb.height(),rb.height()+
2*tb.height())):null!=ab[0].offsetParent&&ab.outerHeight(~~(cb.height()-(mb.is(":hidden")?0:mb.outerHeight())-wb.outerHeight()-5))}var Za=[],cb=$('<div id="stats" />'),ob=$('<textarea rows="10" readonly />'),ab=$('<div class="myscroll" />'),mb=$("<div>"),yb=$("<table />").click(function(a){a=$(a.target);if(a.is("td")&&"-"!=a.html()){var b=a.prevAll(),c=b.length;b=~~(0==c?a:b.eq(-1)).html().replace("*","")-1;if(!(4<c||0>c))switch(c){case 0:n(sb,Ya,b,1,10,!0);break;case 1:Bb.proc(b,a);break;case 2:n(sb,
Ya,b-vb+1,vb,10*vb,0>Hb);break;case 3:n(sb,Ya,b-Cb+1,Cb,10*Cb,0>Lb)}}}).addClass("table"),tb=$("<tr />"),rb=$("<tr />"),hb=$('<tr class="click" ><th class="click" colspan="15">...</th></tr>'),pb=$('<table class="sumtable" />').click(function(a){fb(sb,Ya,a)}).addClass("table"),wb=$('<div class="statc" />'),Db=!0,Bb=function(){function b(){Za[Ua][2]=ma.val();Eb.save(Ua);f(Ua,ub,bb)}function c(a){a=$(a.target);var b=a.attr("data");b&&("p"==b?(a={OK:0,"+2":2E3,DNF:-1}[a.html()],n(a,Ua,bb)):"d"==b&&Sa(Ua)&&
(Ua=void 0,d()))}function d(){kernel.isDialogShown("cfm")&&kernel.hideDialog();ab&&(w.css("font-size","0.8em"),ab.empty().append(w),Ua=Za.length-1,bb=kernel.getProp("statinv")?rb.prev():tb.next(),h())}function h(){if(Za[Ua]){var d=Za[Ua],f="";d[4]&&(f=$('<a target="_blank">Review</a>').addClass("click"),f.attr("href","https://alg.cubing.net/?alg="+(d[4][0]||"").replace(/@(\d+)/g,"/*$1*/")+"&setup="+(d[1]||"")),f=$("<tr>").append($("<td>").append(f),$("<td>").append(Xa)));w.empty().append(ea,"<br>",
a(d[0]),"<br>").append('<span class="click" data="p">OK</span> | <span class="click" data="p">+2</span> | <span class="click" data="p">DNF</span>'," | ",Ra).append("<br>",$('<table style="display:inline-block;">').append($("<tr>").append("<td>"+STATS_COMMENT+"</td>",$("<td>").append(ma)),$("<tr>").append("<td>"+SCRAMBLE_SCRAMBLE+"</td>",$("<td>").append(Qa)),$("<tr>").append("<td>"+STATS_DATE+"</td>",$("<td>").append(Va)),f)).unbind("click").click(c);ea.html(z(d[0],!0));Qa.val(d[1]);Va.val(mathlib.time2str(d[3]));
ma.val(d[2]).unbind("change").change(b);Xa.val(d[4]?JSON.stringify(d[4]):"")}else w.empty()}function n(a,b,c){if(Za[b][0][0]!=a){Za[b][0][0]=a;sb.reset(Za.length);xb.reset(Za.length);Eb.save(b);a=c;for(var d=b+1;d<b+Math.max(vb,Cb)&&d<Za.length;d++)a=kernel.getProp("statinv")?a.next():a.prev(),f(d,ub,a);Wa(ub);Ta();f(b,ub,c);b==Ua&&h()}}function r(a,b){ab=a;void 0!=a&&d()}var w=$('<div style="text-align:center; font-family: initial;">'),ea=$('<span style="font-size:2.5em;"/>'),ma=$('<input type="text">').css("width",
"8em"),Ra=$('<input type="button" data="d">').val("X"),Qa=$('<input type="text" readonly>').css("width","8em"),Va=$('<input type="text" readonly>').css("width","8em"),Xa=$('<input type="text" readonly>').css("width","8em"),Ua=0,bb,ab;$(function(){tools.regTool("cfm",TOOLS_CFMTIME,r);kernel.regListener("cfm","session",d)});return{proc:function(a,b){Ua=a;bb=b.parent();h();w.css("font-size","1.2em");kernel.showDialog([w,d,void 0,d],"cfm","Solves No."+(a+1))},delLast:function(){0!=Za.length&&Sa(Za.length-
1)&&(Ua=void 0,d())},setCfm:function(a){0!=Za.length&&n(a,Za.length-1,kernel.getProp("statinv")?rb.prev():tb.next())}}}(),ub=0,nb=[-3,5,12,50,100,1E3],sb=new TimeStat(nb,0,Gb,jb),xb=new TimeStat([],0,Gb,jb),qb=STATS_STRING.split("|");for(ea=0;13>ea;ea++)qb[ea]=qb[ea]||"";var Fb=function(){function a(a){return-1==Sa[a][0][0]?-1:~~((Sa[a][0][0]+Sa[a][0][1])/Kb)*Kb}function b(a){return Sa[a]}function c(){Sa=[];for(var a=Promise.resolve(),b=~~kernel.getProp("sessionN"),c=JSON.parse(kernel.getProp("sessionData")),
f=ma.val(),h=Qa.val(),n=-1==Ra.val()?-1:~~(+new Date/1E3)-86400*Ra.val(),r=0;r<b;r++){var w=Eb.rank2idx(r+1);if("*"==f||c[w].name==f)if("*"==h||c[w].scr==h)a=a.then(function(a){return new Promise(function(b){storage.get(a,function(a){for(var c=0;c<a.length;c++)(a[c][3]||0)<n||Sa.push(a[c]);b()})})}.bind(void 0,w))}a.then(function(){for(var a=[],b=0;b<Sa.length;b++)a.push(b);a.sort(function(a,b){var c=Sa[a][3]||0,d=Sa[b][3]||0;return c==d?a-b:c-d});for(b=0;b<Sa.length;b++)a[b]=Sa[a[b]];Sa=a;Va.reset(Sa.length);
d()})}function d(){var a=Va.getAllStats(),b=a[0],c=a[1],d=0;for(a=0;a<Sa.length;a++)d+=Sa[a][0][1];a=[];a.push('<span class="click" data="tt">'+qb[4].replace("%d",Va.timesLen-b+"/"+Va.timesLen)+", "+qb[9].replace("%v",w(c))+"</span>\n");a.push("<span>"+qb[12].replace("%d",h(d))+"</span>\n");a.push(qb[0]+': <span class="click" data="bs">'+h(Va.bestTime)+"</span>");a.push(" | "+qb[2]+': <span class="click" data="ws">'+h(Va.worstTime)+"</span>\n");b=!1;c='<table class="table"><tr><td></td><td>'+qb[1]+
"</td><td>"+qb[0]+"</td></tr>";for(d=0;d<nb.length;d++){var f=Math.abs(nb[d]);Va.timesLen>=f&&(b||(b=!0,a.push(c)),a.push("<tr><td>"+qb[7-(nb[d]>>>31)].replace("%mk",f)),a.push('<td><span class="click" data="c'+"am"[nb[d]>>>31]+d+'">'+w(Va.lastAvg[d][0])+" (="+lb(Va.lastAvg[d][1],2)+")</span></td>"),a.push('<td><span class="click" data="b'+"am"[nb[d]>>>31]+d+'">'+w(Va.bestAvg[d][0])+" (="+lb(Va.bestAvg[d][1],2)+")</span></td></tr>"))}b&&a.push("</table>");a=a.join("");ea.html(a.replace(/\n/g,"<br>"))}
function f(a,d){a&&!/^scr/.exec(d)&&(a.empty().append(z),Ta.unbind("click").click(c),ea.unbind("click").click(function(a){fb(Va,b,a)}))}function n(a,b){if("sessionData"==b[0]){var c=!1,d=JSON.parse(b[1]);$.each(d,function(a,b){Xa[a]&&b.name==Xa[a].name&&b.scr==Xa[a].scr||(c=!0)});Xa=JSON.parse(b[1]);if(c){d=JSON.parse(b[1]);var f=[],h=[];ma.empty().append($("<option />").val("*").html(STATS_XSESSION_NAME));Qa.empty().append($("<option />").val("*").html(STATS_XSESSION_SCR));$.each(d,function(a,b){var c=
b.name;-1==$.inArray(c,f)&&(f.push(c),ma.append($("<option />").val(c).html(c)));c=b.scr;-1==$.inArray(c,h)&&(h.push(c),Qa.append($("<option />").val(c).html(scramble.getTypeName(c))))})}}}var r=STATS_XSESSION_DATE.split("|"),z=$("<div />").css("text-align","center").css("font-size","0.7em"),ea=$("<div />"),ma=$("<select>"),Ra=$("<select>").append($("<option>").val(-1).html(r[0]),$("<option>").val(1).html(r[1]),$("<option>").val(7).html(r[2]),$("<option>").val(30).html(r[3]),$("<option>").val(365).html(r[4])).val(-1),
Qa=$("<select>"),Ta=$('<span class="click">'+STATS_XSESSION_CALC+"</span>"),Va=new TimeStat([],0,a,jb),Sa=[],Xa={};$(function(){z.append(ma,Ra,Qa," ",Ta,"<br>",ea);"undefined"!=typeof tools&&tools.regTool("hugestats",TOOLS_HUGESTATS,f);kernel.regListener("labelstat","property",n,/^sessionData$/)});return{update:$.noop,updateStatal:function(b){Va=new TimeStat(b,0,a,jb)}}}(),Ab=function(){function a(){if(d){var a=sb.getAllStats(),b=a[0],f=a[1],n=0;for(a=0;a<Za.length;a++)n+=Za[a][0][1];a=[];a.push('<span class="click" data="tt">'+
qb[4].replace("%d",sb.timesLen-b+"/"+sb.timesLen)+", "+qb[9].replace("%v",w(f))+"</span>\n");a.push("<span>"+qb[12].replace("%d",h(n))+"</span>\n");a.push(qb[0]+': <span class="click" data="bs">'+h(sb.bestTime)+"</span>");a.push(" | "+qb[2]+': <span class="click" data="ws">'+h(sb.worstTime)+"</span>\n");b=!1;f='<table class="table"><tr><td></td><td>'+qb[1]+"</td><td>"+qb[0]+"</td></tr>";for(n=0;n<nb.length;n++){var r=Math.abs(nb[n]);sb.timesLen>=r&&(b||(b=!0,a.push(f)),a.push("<tr><td>"+qb[7-(nb[n]>>>
31)].replace("%mk",r)),a.push('<td><span class="click" data="c'+"am"[nb[n]>>>31]+n+'">'+w(sb.lastAvg[n][0])+" (="+lb(sb.lastAvg[n][1],2)+")</span></td>"),a.push('<td><span class="click" data="b'+"am"[nb[n]>>>31]+n+'">'+w(sb.bestAvg[n][0])+" (="+lb(sb.bestAvg[n][1],2)+")</span></td></tr>"))}b&&a.push("</table>");a=a.join("");c.html(a.replace(/\n/g,"<br>"))}}function b(b,f){(d=void 0!=b)&&!/^scr/.exec(f)&&(b.empty().append(c.unbind("click").click(function(a){fb(sb,Ya,a)})),a())}var c=$("<div />").css("text-align",
"center").css("font-size","0.7em"),d=!1;$(function(){"undefined"!=typeof tools&&tools.regTool("stats",TOOLS_STATS,b)});return{update:a}}(),Gb=Ra.bind(void 0,0),Tb=function(){function a(){if(d){c.empty();var a=xb.getMinMaxInt();if(a){var b=a[0],f=a[1];a=a[2];b=~~(b/a);f=~~(f/a);for(var n={},r={},w=0,z=r[b+1]=0;z<Za.length;z++){var ea=Gb(z);-1!=ea?(ea=~~(ea/a),n[ea]=(n[ea]||0)+1,w=Math.max(n[ea],w),r[ea]=z+1):r[b+1]=z+1}for(z=b;z>f;z--)r[z]=Math.max(r[z+1],r[z]||0);ea=[];var ma=0,Ra=1E3<=a?/[^\.]+(?=\.)/:
/[^\.]+\.[\d]/,Qa=h(b*a).match(Ra)[0].length;for(z=f;z<=b;z++){f=h(z*a).match(Ra)[0];var Ta=h((z+1)*a).match(Ra)[0];n[z]=n[z]||0;ma+=n[z];f=mathlib.valuedArray(Qa-f.length,"&nbsp;").join("")+f;Ta=mathlib.valuedArray(Qa-Ta.length,"&nbsp;").join("")+Ta;ea.push("<tr><td>"+f+'+</td><td><span class="cntbar" style="width: '+n[z]/w*5+'em;">'+n[z]+"</span></td><td>&nbsp;&lt;"+Ta+'</td><td><span class="cntbar" style="width: '+ma/Za.length*5+'em; white-space: nowrap;">'+(Za.length-r[z+1])+"/"+ma+"</span></td></tr>")}c.html('<table style="border:none;">'+
ea.join("")+"</table>")}}}function b(b,f){(d=void 0!=b)&&!/^scr/.exec(f)&&(b.empty().append(c),a())}var c=$("<div />"),d=!1;$(function(){"undefined"!=typeof tools&&(kernel.regListener("distribution","property",function(b,c){"disPrec"==c[0]&&a()},/^disPrec$/),kernel.regProp("tools","disPrec",1,STATS_PREC,["a",["a",0,1,2,3,4,5,6,7,8,9],STATS_PREC_STR.split("|")],1),tools.regTool("distribution",TOOLS_DISTRIBUTION,b))});return{update:a}}(),Mb=function(){function a(){if(n&&d[0].getContext){f=d[0].getContext("2d");
var a=kernel.getProp("imgSize")/10;r=50;d.width(12*a+"em");d.height(6*a+"em");d.attr("width",10*r+1);d.attr("height",5*r+5);w=5*r;r*=10;f.lineWidth=2;f.font="12pt Arial";f.fillText("time",50,13);f.strokeStyle="#888";f.beginPath();f.moveTo(90,7);f.lineTo(150,7);f.stroke();f.fillText((0<Hb?"ao":"mo")+vb,200,13);f.strokeStyle="#f00";f.beginPath();f.moveTo(240,7);f.lineTo(300,7);f.stroke();f.fillText((0<Lb?"ao":"mo")+Cb,350,13);f.strokeStyle="#00f";f.beginPath();f.moveTo(390,7);f.lineTo(450,7);f.stroke();
if(a=xb.getMinMaxInt()){var c=a[2],z=Math.ceil(a[0]/c)*c;a=~~(a[1]/c)*c;var ea=z-a,ma=1E3<=c?/[^\.]+(?=\.)/:/[^\.]+\.[\d]/,Ra=[0,1,1,0,0],Qa=[0,0,1,1,0];f.fillStyle="#fff";f.beginPath();f.moveTo(Ra[0]*(r-35)+35,(1-Qa[0])*(w-25)+25);for(var Ta=1;Ta<Ra.length;Ta++)f.lineTo(Ra[Ta]*(r-35)+35,(1-Qa[Ta])*(w-25)+25);f.fill();f.closePath();f.fillStyle="#000";f.strokeStyle="#ccc";f.lineWidth=1;f.textAlign="right";for(Ra=a;Ra<=z;Ra+=c)b([0,1],[(Ra-a)/ea,(Ra-a)/ea],"#ccc"),Qa=h(Ra).match(ma)[0],f.fillText(Qa,
30,(z-Ra)/ea*(w-25)+30);f.lineWidth=2;if(1<Za.length){c=[];z=[];for(Ra=0;Ra<Za.length;Ra++)ma=Gb(Ra),-1!=ma&&(c.push(Ra/(Za.length-1)),z.push(Math.max(0,Math.min(1,(ma-a)/ea))));b(c,z,"#888")}if(Za.length>vb){c=[];z=[];ma=xb.runAvgMean(0,Za.length,vb,0<Hb?void 0:0);for(Ra=0;Ra<ma.length;Ra++)-1!=ma[Ra][0]&&(c.push((Ra+vb-1)/(Za.length-1)),z.push(Math.max(0,Math.min(1,(ma[Ra][0]-a)/ea))));b(c,z,"#f00")}if(Za.length>Cb){c=[];z=[];ma=xb.runAvgMean(0,Za.length,Cb,0<Lb?void 0:0);for(Ra=0;Ra<ma.length;Ra++)-1!=
ma[Ra][0]&&(c.push((Ra+Cb-1)/(Za.length-1)),z.push(Math.max(0,Math.min(1,(ma[Ra][0]-a)/ea))));b(c,z,"#00f")}b([0,1,1,0,0],[0,0,1,1,0],"#000")}}}function b(a,b,c){f.strokeStyle=c;f.beginPath();f.moveTo(a[0]*(r-35)+35,(1-b[0])*(w-25)+25);for(c=1;c<a.length;c++)f.lineTo(a[c]*(r-35)+35,(1-b[c])*(w-25)+25);f.stroke();f.closePath()}function c(b,c){(n=void 0!=b)&&!/^scr/.exec(c)&&(b.empty().append(d),a())}var d=$("<canvas />"),f,n=!1,r,w;$(function(){"undefined"!=typeof tools&&(kernel.regListener("trend",
"property",function(b,c){"disPrec"==c[0]&&a()},/^disPrec$/),d[0].getContext&&tools.regTool("trend",TOOLS_TREND,c))});return{update:a}}(),Eb=function(){function a(a){eb=a;kernel.setProp("session",eb);Ra();a=cb[eb];kernel.setSProps(a.opt||{});kernel.setProp("scrType",a.scr,"session");kernel.setProp("phases",a.phases,"session");b()}function b(){for(var a=1;a<=db;a++)cb[a]=cb[a]||{name:JSON.parse(kernel.getProp("sessionName")||"{}")[a]||a,scr:JSON.parse(kernel.getProp("sessionScr")||"{}")[a]||"333",phases:1,
opt:{}},cb[a].rank=cb[a].rank||a;c();hb.empty();for(a=0;a<mb.length;a++)hb.append($("<option />").val(mb[a]).html(cb[mb[a]].name));hb.append(tb,kb);hb.val(eb)}function c(){mb=[];for(var a=1;a<=db;a++)mb.push(a);mb.sort(function(a,b){return cb[a].rank-cb[b].rank});for(a=0;a<mb.length;a++)cb[mb[a]].rank=a+1;kernel.setProp("sessionData",JSON.stringify(cb))}function d(a){return cb[a].rank+"-"+cb[a].name}function f(a,c){$.isNumeric(a)||(a=(cb[eb]||{}).rank||db);eb=++db;var d=new Date;d=d.getMonth()+1+
"."+d.getDate()+" "+Ib;kernel.setProp("sessionN",db);var f=cb[mb[a-1]]||{};cb[eb]=void 0===c||c?{name:f.name||d,scr:f.scr||Ib,phases:f.phases||1,opt:JSON.parse(JSON.stringify(f.opt||{})),rank:a+.5}:{name:d,scr:Ib,phases:1,opt:kernel.getSProps(),rank:a+.5};b()}function h(b,c){f(b,c);Za=[];xb.reset(Za.length);sb.reset(Za.length);Qa();a(eb);kernel.blur();kernel.getProp("imrename")&&ea(eb,!0)}function n(b){b!=db&&(cb[b]=cb[db]);delete cb[db];storage.del(b,db);db--;kernel.setProp("sessionN",db);kernel.setProp("sessionData",
JSON.stringify(cb));0==db?h():eb==b?kernel.setProp("session",1):eb==db+1&&a(b)}function r(a){if(0!=("stat"in cb[a]?cb[a].stat[0]:1)&&!confirm(STATS_CFM_DELSS.replace("%s",d(a))))return!1;n(a);return!0}function z(){confirm(STATS_CFM_RESET)&&(Za=[],sb.reset(),xb.reset(),Qa(),Ua(!1),kernel.blur())}function ea(a,b){void 0===a&&(a=eb);var c=prompt(b?STATS_SESSION_NAMEC:STATS_SESSION_NAME,cb[a].name);null!=c&&(c=$("<div/>").text(c).html(),cb[a].name=c,kernel.setProp("sessionData",JSON.stringify(cb)))}function ma(a,
b){Db=!1;Za=b;sb.reset(Za.length);xb.reset(Za.length);Ua(!1);cb[a].stat=[Za.length].concat(xb.getAllStats());cb[a].date=[(Za[0]||[])[3],(Za[Za.length-1]||[])[3]];kernel.setProp("sessionData",JSON.stringify(cb));kernel.isDialogShown("ssmgr")&&Ya();kernel.pushSignal("session","load")}function Ra(){storage.get(eb,ma.bind(void 0,eb))}function Qa(a){cb[eb].stat=[Za.length].concat(xb.getAllStats());cb[eb].date=[(Za[0]||[])[3],(Za[Za.length-1]||[])[3]];kernel.setProp("sessionData",JSON.stringify(cb));storage.set(eb,
Za,void 0,a)}function Ta(c){c=$(c.target);if(c.is("td, th, select")&&(c.hasClass("click")||c.is("select"))){for(var d=c.parent();!d.is("tr");)d=d.parent();var f=d.children();5>f.length&&(f=d.prev().children());d=~~f.first().html().replace(/-.*$/,"");f=mb[d-1];switch(c.attr("data")||c.val()){case "r":ea(f);break;case "u":1!=d&&(cb[f].rank--,cb[mb[d-2]].rank++,kernel.setProp("sessionData",JSON.stringify(cb)));break;case "d":d!=mb.length&&(cb[f].rank++,cb[mb[d]].rank--,kernel.setProp("sessionData",JSON.stringify(cb)));
break;case "s":a(f);break;case "+":h(d);break;case "x":r(f);break;case "m":Sa(f);break;case "p":Va();break;case "e":Wa(c.parent());return;case "g":rb=!1;break;case "gn":rb="name";break;case "gs":rb="scr";break;case "v":storage.get(f,function(a){Xa(new TimeStat([],a.length,function(a,b){return-1==a[b][0][0]?-1:~~((a[b][0][0]+a[b][0][1])/Kb)*Kb}.bind(void 0,a),jb),function(a,b){return a[b]}.bind(void 0,a),0,a.length)});break;default:return}kernel.blur();b();Ya()}}function Va(){var a=prompt(STATS_PROMPTSPL.replace("%s",
d(eb)),~~(Za.length/2));if(null!=a)if(a=~~a,1>a||a>Za.length-1)alert(STATS_ALERTSPL);else{var b=eb,c=Za.slice(-a);f();storage.set(eb,c,function(){eb=b;Za=Za.slice(0,-a);sb.reset();xb.reset();Qa();ma(eb,Za)})}}function Sa(b){if(eb!=b&&confirm(STATS_ALERTMG.replace("%f",d(eb)).replace("%t",d(b)))){var c=eb;storage.get(b,function(d){Array.prototype.push.apply(d,Za);storage.set(b,d,function(){delete cb[b].stat;cb[eb].date=[(d[0]||[])[3],(d[d.length-1]||[])[3]];kernel.setProp("sessionData",JSON.stringify(cb));
a(b);n(c)})})}}function bb(a){var b=mb[a-1],c=cb[b],d=["?/?","?"];if("stat"in c){var f=c.stat;d[0]=f[0]-f[1]+"/"+f[0];d[1]=w(f[2])}f=STATS_SSMGR_OPS.split("|");f='<select><option value="">...</option><option value="r">'+f[0]+'</option><option value="+">'+f[1]+'</option><option value="'+(b==eb?'p">'+f[2]:'m">'+f[3])+'</option><option value="x">'+f[4]+'</option><option value="v">'+STATS_EXPORTCSV+"</option></select>";var h=1==a?"<td></td>":'<td class="click" data="u">&#8593;</td>',n=a==mb.length?"<td></td>":
'<td class="click" data="d">&#8595;</td>',r="<td>"+scramble.getTypeName(c.scr)+"</td>",z="<td>"+d[0]+"</td>";d="<td>"+d[1]+"</td>";var ea=mathlib.time2str((cb[b].date||[])[1],"%Y-%M-%D");return'<tr class="'+(b==eb?"selected mhide":"mhide")+'"><td class="click" data="s">'+a+"-"+c.name+(b==eb?"*":"")+"</td>"+z+d+"<td>"+ea+"</td>"+r+"<td>"+c.phases+"</td>"+h+n+'<td class="seltd">'+f+'</td></tr><tr class="'+(b==eb?"selected ":"")+'mshow t"><td class="click" data="s" rowspan=2>'+a+"-"+c.name+(b==eb?"*":
"")+"</td>"+z+r+h+n+'</tr><tr class="'+(b==eb?"selected ":"")+'mshow b">'+d+"<td>"+ea+"&nbsp;"+c.phases+'P.</td><td class="seltd" colspan=2>'+f+"</td></tr>"}function ab(a){for(var b=!1,c=[],d=0;d<a.length;d++){var f=mb[a[d]];b=b||eb==f;c.push(cb[f].name+"("+scramble.getTypeName(cb[f].scr)+")")}c=c.join(", ");45<c.length&&(c=c.slice(0,42)+"...");return"<tr"+(b?' class="selected"':"")+'><td class="click" data="e" colspan=9 style="text-align:left;">'+(b?"*":"")+"[+] "+a.length+" session(s): "+c+"</td></tr>"}
function Wa(a){for(var b=a.next();b.is(":hidden");b=b.next())b.css("display","");a.remove()}function Ya(){c();ob.empty().append('<tr class="mhide"><th class="click" data='+("name"==rb?'"g">[+]':'"gn">[-]')+" "+STATS_SSMGR_NAME+"</th><th>"+STATS_SOLVE+"</th><th>"+STATS_AVG+"</th><th>"+STATS_DATE+'</th><th class="click" data='+("scr"==rb?'"g">[+]':'"gs">[-]')+" "+SCRAMBLE_SCRAMBLE+'</th><th>P.</th><th colspan=3>OP</th></tr><tr class="mshow t"><th rowspan=2 class="click" data='+("name"==rb?'"g">[+]':
'"gn">[-]')+" "+STATS_SSMGR_NAME+"</th><th>"+STATS_SOLVE+'</th><th class="click" data='+("scr"==rb?'"g">[+]':'"gs">[-]')+" "+SCRAMBLE_SCRAMBLE+'</th><th colspan=2 rowspan=2>OP</th></tr><tr class="mshow b"><th>'+STATS_AVG+"</th><th>"+STATS_DATE+" & P.</th></tr>");for(var a=[],b=NaN,d=0;d<mb.length;d++){var f=cb[mb[d]];rb&&f[rb]==b?a[a.length-1].push(d):(a.push([d]),b=f[rb])}for(d=0;d<a.length;d++)if(1==a[d].length)ob.append(bb(a[d][0]+1));else for(ob.append(ab(a[d])),b=0;b<a[d].length;b++)ob.append($(bb(a[d][b]+
1)).hide());ob.unbind("click").click(Ta).unbind("change").change(Ta)}function fb(){Ya();kernel.showDialog([ib,0,void 0,0,[STATS_SSMGR_ORDER,function(){if(!confirm(STATS_SSMGR_ODCFM))return!1;for(var a=[],d=1;d<=db;d++)a.push(d);a.sort(function(a,b){var c=scramble.getTypeIdx(cb[a].scr),d=scramble.getTypeIdx(cb[b].scr);return c==d?cb[a].rank-cb[b].rank:c-d});for(d=0;d<a.length;d++)cb[a[d]].rank=d+1;c();b();Ya();return!1}]],"ssmgr",STATS_SSMGR_TITLE)}function gb(c,d){if("property"==c)"set"==d[2]||"session"==
d[2]||d[0].startsWith("session")||(cb[eb].opt=kernel.getSProps(),kernel.setProp("sessionData",JSON.stringify(cb))),"session"==d[0]&&~~d[1]!=eb?a(d[1]):"sessionData"==d[0]?(cb=JSON.parse(d[1]),b()):"scrType"==d[0]||"phases"==d[0]?("scrType"==d[0]?(Ib=d[1],cb[eb].scr!=d[1]&&kernel.getProp("scr2ss")?h(void 0,!1):cb[eb].scr=d[1]):"phases"==d[0]&&(cb[eb].phases=d[1]),kernel.setProp("sessionData",JSON.stringify(cb))):"statclr"==d[0]&&(d[1]?lb.val("X").unbind("click").click(z):lb.val("+").unbind("click").click(h));
else if("ctrl"==c&&"stats"==d[0]){var f=cb[eb].rank;"+"==d[1]&&f<db?kernel.setProp("session",mb[f]):"-"==d[1]&&1<f&&kernel.setProp("session",mb[f-2])}}var db=15,eb=-1,ib=$("<div />"),ob=$("<table />").appendTo(ib).addClass("table ssmgr"),lb=$('<input type="button">').val("+"),cb,mb,tb=$("<option />").val("new").html("New.."),kb=$("<option />").val("del").html("Delete.."),hb=$("<select />").change(function(){kernel.blur();"new"==hb.val()?h(db,!1):"del"==hb.val()?r(eb)||hb.val(eb):a(~~hb.val())}),rb=
!1;$(function(){kernel.regListener("ssmgr","property",gb);kernel.regListener("ssmgr","ctrl",gb,/^stats$/);kernel.regProp("stats","sessionN",-6,"Number of Sessions",[15]);kernel.regProp("stats","sessionData",-6,"Session Data",["{}"]);kernel.regProp("stats","session",-6,"Current Session Index",[1]);db=kernel.getProp("sessionN");cb=JSON.parse(kernel.getProp("sessionData"));b();kernel.setProp("sessionData",JSON.stringify(cb))});return{getSelect:function(){return hb},showMgrTable:fb,importSessions:function(c){if(c&&
0!=c.length){for(var d=eb,f=0;f<c.length;f++){var h=c[f];eb=++db;cb[eb]={name:h.name||eb,scr:h.scr||"333",phases:h.phases||1,opt:kernel.getSProps(),rank:db};kernel.setProp("sessionN",db);Za=h.times;sb.reset(Za.length);xb.reset(Za.length);Qa()}b();a(d);fb();logohint.push("Import %d session(s)".replace("%d",c.length));return c.length}},getButton:function(){return lb},rank2idx:function(a){return mb[a-1]},load:Ra,save:Qa}}(),Pb=function(){function a(a){a-=Qa;var b=new Date(1E3*a);switch(Ta){case "d":return~~(a/
86400);case "w":return~~((a/86400-ma.val())/7);case "m":return 12*b.getFullYear()+b.getMonth();case "y":return b.getFullYear()}}function b(a){switch(Ta){case "d":return mathlib.time2str(86400*a+Qa,"%Y-%M-%D");case "w":return mathlib.time2str(86400*(7*a+~~ma.val())+Qa,"Start@ %Y-%M-%D");case "m":return~~(a/12)+"-"+("0"+(a%12+1)).slice(-2);case "y":return""+a}}function c(){for(var b=Promise.resolve(),c=[],d=~~kernel.getProp("sessionN"),f=0;f<d;f++){var h=Eb.rank2idx(f+1);b=b.then(function(b){return new Promise(function(d){storage.get(b,
function(f){c[b]={};for(var h=0;h<f.length;h++)if(f[h][3]){var n=a(f[h][3]);c[b][n]=c[b][n]||[0,0];c[b][n][0]+=1;c[b][n][1]+=-1!=f[h][0][0]}d()})})}.bind(void 0,h))}return b.then(function(){Ra=c})}function d(a){a=$(a.target).html();"&gt;"==a?Sa--:"&lt;"==a?Sa=Math.min(Sa+1,0):"+"==a?Xa++:"-"==a&&(Xa=Math.max(1,Xa-1));f()}function f(){if(Ya){var a=$('<table class="table">');eb.empty().append("Period",r.unbind("change").change(n)," Start of day",w.unbind("change").change(n)," week",ma.unbind("change").change(n),
"<br>",a);for(var c=JSON.parse(kernel.getProp("sessionData")),f=~~kernel.getProp("sessionN"),h=$("<tr>").append(bb.unbind("click").click(d),Ua.unbind("click").click(d)),z=$("<tr>").append(ab.unbind("click").click(d),Wa.unbind("click").click(d)),ea=0;ea<Xa;ea++)h.append($("<td rowspan=2>").html(b(Va-ea+Sa).replace(" ","<br>")));a.append(h,z);for(ea=0;ea<f;ea++)if(h=Eb.rank2idx(ea+1),0!=Object.keys(Ra[h]||{}).length){z=$("<tr>").append($("<td colspan=2>").html(c[h].name));for(var Qa=0;Qa<Xa;Qa++){var Ta=
Ra[h][Va-Qa+Sa];z.append($("<td>").html(Ta?Ta[1]+"/"+Ta[0]:"-"))}a.append(z)}}}function h(a,b){Ya=!!a;a&&!/^scr/.exec(b)&&(a.empty().append(eb),n())}function n(){Ya&&(Ta=r.val(),Qa=3600*w.val()+60*(new Date).getTimezoneOffset(),Va=a(+new Date/1E3),c().then(f))}for(var r=$("<select>").append($("<option>").val("d").html("day"),$("<option>").val("w").html("week"),$("<option>").val("m").html("month"),$("<option>").val("y").html("year")).val("d"),w=$("<select>"),z=0;24>z;z++){var ea=("0"+z).slice(-2)+
":00";w.append($("<option>").val(z).html(ea))}var ma=$("<select>").append($("<option>").val(3).html("Sun"),$("<option>").val(4).html("Mon"),$("<option>").val(5).html("Tue"),$("<option>").val(6).html("Wed"),$("<option>").val(0).html("Thu"),$("<option>").val(1).html("Fri"),$("<option>").val(2).html("Sat")).val(3),Ra=[],Qa,Ta,Va,Sa=0,Xa=3,Ua=$('<td class="click">').html("&gt;"),bb=$('<td class="click">').html("&lt;"),ab=$('<td class="click">').html("+"),Wa=$('<td class="click">').html("-");$("<td colspan=1>");
var Ya=!1,eb=$("<div />").css("text-align","center").css({"font-size":"0.7em","max-height":"20em","overflow-y":"auto"});$(function(){"undefined"!=typeof tools&&tools.regTool("dlystat","Daily Statistics",h);kernel.regListener("dlystat","property",f,/^sessionData$/)});return{update:n}}(),Jb="",Hb,Lb,vb,Cb,Ib="333",Kb=1;$(function(){kernel.regListener("stats","time",ib);kernel.regListener("stats","scramble",ib);kernel.regListener("stats","scrambleX",ib);kernel.regListener("stats","property",ib,/^(:?useMilli|timeFormat|stat(:?sum|[12][tl]|alu?|inv|Hide|src)|session(:?Data)?|scrType|phases|trim|view|wndStat)$/);
kernel.regListener("stats","ctrl",ib,/^stats$/);kernel.regListener("stats","ashow",ib);kernel.regListener("stats","button",ib);kernel.regProp("stats","trim",1,PROPERTY_TRIM,["p5","1 p1 p5 p10 p20 m".split(" "),["1","1%","5%","10%","20%",PROPERTY_TRIM_MED]]);kernel.regProp("stats","statsum",0,PROPERTY_SUMMARY,[!0]);kernel.regProp("stats","printScr",0,PROPERTY_PRINTSCR,[!0]);kernel.regProp("stats","printDate",0,PROPERTY_PRINTDATE,[!1]);kernel.regProp("stats","imrename",0,PROPERTY_IMRENAME,[!1]);kernel.regProp("stats",
"scr2ss",0,PROPERTY_SCR2SS,[!1]);kernel.regProp("stats","statinv",0,PROPERTY_STATINV,[!1]);kernel.regProp("stats","statclr",0,STATS_STATCLR,[!0]);kernel.regProp("stats","absidx",0,STATS_ABSIDX,[!1]);cb.append(mb.append($('<span class="click" />').html(STATS_SESSION).click(Eb.showMgrTable),Eb.getSelect(),Eb.getButton()),wb.append(pb),$('<div class="stattl">').append(ab.append(yb)));$(window).bind("resize",gb);yb.append(tb,rb);kernel.addWindow("stats",BUTTON_TIME_LIST,cb,!0,!0,4);ab.bind("scroll",function(){var a=
ab[0];a.scrollHeight-a.scrollTop<a.clientHeight+5&&!kernel.getProp("statinv")&&hb.click()});var a=STATS_TYPELEN.split("|");kernel.regProp("stats","stat1t",1,a[0].replace("%d",1),[0,[0,1],a.slice(2)],1);kernel.regProp("stats","stat1l",2,a[1].replace("%d",1),[5,3,1E3],1);kernel.regProp("stats","stat2t",1,a[0].replace("%d",2),[0,[0,1],a.slice(2)],1);kernel.regProp("stats","stat2l",2,a[1].replace("%d",2),[12,3,1E3],1);kernel.regProp("stats","statalu",5,PROPERTY_STATALU,["mo3 ao5 ao12 ao100"],1);kernel.regProp("stats",
"statal",1,PROPERTY_STATAL,["mo3 ao5 ao12 ao100",["mo3 ao5 ao12 ao100","mo3 ao5 ao12 ao25 ao50 ao100","mo3 ao5 ao12 ao25 ao50 ao100 ao200 ao500 ao1000 ao2000 ao5000 ao10000","u"],["mo3 ao5 ao12 ao100","mo3 ao5 ao12 ao25 ao50 ao100","mo3 ao5 ao12 ao25 ao50 ao100 ao200 ao500 ao1000 ao2000 ao5000 ao10000","Custom"]],1);kernel.regProp("stats","delmul",0,PROPERTY_DELMUL,[!0]);kernel.regProp("ui","statHide",-1,"Hide Session Title",[!1])});return{importSessions:Eb.importSessions}},[kernel.pretty,kernel.round,
kernel.pround]);var tools=execMain(function(){function h(a,c){if(-1==a)for(var d=0;d<kernel.getProp("NTools");d++)h(d,c);else if(!b){for(d in Ta)Ta[d]();r[a].empty()}else for(d in Ta)if(d==f[a])Ta[d](r[a],c)}function ea(a,b){for(var c in Ta)if(c==f[a])Ta[c](void 0,b)}function w(w,z){if("property"==w)if("imgSize"==z[0]||/^col/.exec(z[0]))for(var n=0;n<kernel.getProp("NTools");n++)"image"==f[n]&&h(n,w);else if("NTools"==z[0])for(n=0;4>n;n++)n<z[1]?(d[n].show(),""==r[n].html()&&h(n,w)):(d[n].hide(),ea(n,w));else if("toolHide"==
z[0]){n=!z[1];for(var ma=0;4>ma;ma++)n?Ua[ma].show():Ua[ma].hide()}else{if("toolsfunc"==z[0]&&"session"==z[2]){ma=JSON.parse(z[1]);for(n=0;4>n;n++)Wa[n].val(ma[n]);c()}}else if("scramble"==w||"scrambleX"==w)a=z,h(-1,w);else if("button"==w&&"tools"==z[0])if(b=z[1])for(n=0;n<kernel.getProp("NTools");n++)b&&""==r[n].html()&&h(n,w);else h(-1,w)}function Sa(a){$(a.target).hasClass("click")||$(a.target).is("input, textarea, select")||kernel.setProp("toolHide",!1)}function c(){kernel.blur();for(var a=0;4>
a;a++){var b=Wa[a].val();f[a]!=b&&(ea(a,"property"),f[a]=b,kernel.setProp("toolsfunc",JSON.stringify(f)),h(a,"property"))}}function z(a){a=$(this);if("a"==a.attr("data"))a.prevAll().show(),a.prev().hide(),a.hide();else if("n"==a.attr("data")){var b=a.prevAll(":hidden");b.last().show();1==b.length&&(a.next().hide(),a.hide())}}for(var a=["-",""],b=!1,d=[],r=[],f=["image","stats","cross"],Wa=[],Ua=[],Qa=0;4>Qa;Qa++)r[Qa]=$("<div />"),Ua[Qa]=$("<span />"),Wa[Qa]=$("<select />"),d[Qa]=$("<div />").css("display",
"inline-block");$(function(){kernel.regListener("tools","property",w,/^(?:imgSize|image|toolsfunc|NTools|col(?:cube|pyr|skb|sq1|mgm)|toolHide)$/);kernel.regListener("tools","scramble",w);kernel.regListener("tools","scrambleX",w);kernel.regListener("tools","button",w,/^tools$/);for(var a=$('<div id="toolsDiv"/>'),b=0;4>b;b++)r[b].click(Sa),Wa[b].change(c),Ua[b].append("<br>",TOOLS_SELECTFUNC,Wa[b]),d[b].append(r[b],Ua[b]).appendTo(a),1==b&&a.append("<br>");kernel.regProp("tools","solSpl",0,"Hide full solution",
[!1]);kernel.regProp("tools","imgSize",2,PROPERTY_IMGSIZE,[15,5,50]);kernel.regProp("tools","NTools",2,PROPERTY_NTOOLS,[1,1,4]);b=JSON.stringify(["image","stats","cross","distribution"]);kernel.regProp("tools","toolsfunc",5,PROPERTY_TOOLSFUNC,[b],1);var h=kernel.getProp("toolsfunc",b);-1==h.indexOf("[")&&(h=b.replace("image",h),kernel.setProp("toolsfunc",h));f=JSON.parse(h);kernel.addWindow("tools",BUTTON_TOOLS,a,!1,!0,6);kernel.regProp("ui","toolHide",-1,"Hide Tools Selector",[!1])});var Ta={};return{regTool:function(a,
b,c){DEBUG&&console.log("[regtool]",a,b);Ta[a]=c;for(c=0;4>c;c++)Wa[c].append($("<option />").val(a).html(b)).val(f[c])},getCurScramble:function(){return a},getSolutionSpan:function(a){for(var b=$("<span />"),c=0;c<a.length;c++)b.append('<span style="display:none;">&nbsp;'+a[c]+"</span>");kernel.getProp("solSpl")?(b.append($('<span class="click" data="n">[+1]</span>').click(z)),b.append($('<span class="click" data="a">['+a.length+"f]</span>").click(z))):b.children().show();return b},scrambleType:function(a){return null==
a.match(/^([\d]?[xyzFRUBLDfrubldSME]([w]|&sup[\d];)?[2']?\s*)+$/)?"-":a.match(/^([xyzFRU][2']?\s*)+$/)?"222o":a.match(/^([xyzFRUBLDSME][2']?\s*)+$/)?"333":a.match(/^(([xyzFRUBLDfru]|[FRU]w)[2']?\s*)+$/)?"444":a.match(/^(([xyzFRUBLDfrubld])[w]?[2']?\s*)+$/)?"555":"-"},puzzleType:function(a){if(/^222(so|[236o]|eg[012]?)$/.exec(a))return"222";if(/^(333(oh?|ni|f[mt])?|(z[zb]|[coep]|cm|2g|ls)?ll|lse(mu)?|2genl?|3gen_[LF]|edges|corners|f2l|lsll2|zbls|roux|RrU|half|easyc|eoline)$/.exec(a))return"333";if(/^(444(o|wca|yj|bld)?|4edge|RrUu)$/.exec(a))return"444";
if(/^(555(wca|bld)?|5edge)$/.exec(a))return"555";if(/^(666(si|[sp]|wca)?|6edge)$/.exec(a))return"666";if(/^(777(si|[sp]|wca)?|7edge)$/.exec(a))return"777";if(/^888$/.exec(a))return"888";if(/^999$/.exec(a))return"999";if(/^101010$/.exec(a))return"101010";if(/^111111$/.exec(a))return"111111";if(/^pyrs?[om]$/.exec(a))return"pyr";if(/^skb(so)?$/.exec(a))return"skb";if(/^sq(rs|1[ht])$/.exec(a))return"sq1";if(/^clk(wca|o)$/.exec(a))return"clk";if(/^mgmp$/.exec(a))return"mgm"}}});var image=execMain(function(){function h(a,b){return ea(a,[Math.cos(b),-Math.sin(b),0,Math.sin(b),Math.cos(b),0])}function ea(a){for(var b,c=1;c<arguments.length;c++){var d=arguments[c];3==d.length&&(d=[d[0],0,d[1]*d[0],0,d[0],d[2]*d[0]]);b=[[],[]];for(c=0;c<a[0].length;c++)b[0][c]=a[0][c]*d[0]+a[1][c]*d[1]+d[2],b[1][c]=a[0][c]*d[3]+a[1][c]*d[4]+d[5]}return b}function w(a,b,c,d){if(a){d=d||[1,0,0,0,1,0];c=ea(c,d);a.beginPath();a.fillStyle=b;a.moveTo(c[0][0],c[1][0]);for(b=1;b<c[0].length;b++)a.lineTo(c[0][b],
c[1][b]);a.closePath();a.fill();a.stroke()}}function Sa(a){var b=a[0];"input"==b&&(b=tools.scrambleType(a[1]));b=tools.puzzleType(b);var c;for(c=0;12>c;c++)if(b==ma[c])return Ta(c,a[1]),!0;return"pyr"==b?(Qa(a[1]),!0):"skb"==b?(Ua(a[1]),!0):"sq1"==b?(Wa(a[1]),!0):"clk"==b?(f(a[1]),!0):"mgm"==b?(r(a[1]),!0):!1}function c(b){b&&(z=$("<canvas>"),a=z[0].getContext("2d"),b.empty().append(z),Sa(tools.getCurScramble())||b.html(IMAGE_UNAVAILABLE))}var z,a,b=Math.sqrt(3)/2,d=Math.PI,r=function(){function b(b,
c,f,n){for(var r=0;5>r;r++)w(a,gb[b[c+r]],h([Qa,Ta],2*d/5*r+n),f),w(a,gb[b[c+r+5]],h([Sa,Ua],2*d/5*r+n),f);w(a,gb[b[c+10]],h([Wa,ib],n),f)}var c=[[4,0,1,2,3,9,5,6,7,8,10,11,12,13,58,59,16,17,18,63,20,21,22,23,24,14,15,27,28,29,19,31,32,33,34,35,25,26,38,39,40,30,42,43,44,45,46,36,37,49,50,51,41,53,54,55,56,57,47,48,60,61,62,52,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,
116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],[81,77,78,3,4,86,82,83,8,85,87,122,123,124,125,121,127,128,129,130,126,131,89,90,24,25,88,94,95,29,97,93,98,33,34,35,36,37,38,39,40,41,42,43,44,26,22,23,48,30,31,27,28,53,32,69,70,66,67,68,74,75,71,72,73,76,101,102,103,99,100,106,107,108,104,105,109,46,47,79,80,45,51,52,84,49,50,54,0,1,2,91,92,5,6,7,96,9,10,15,11,12,13,14,20,16,17,18,19,21,113,114,110,111,112,118,119,115,116,117,120,55,56,57,58,59,60,61,62,63,64,65],[0,1,2,3,4,5,6,7,
8,9,10,33,34,35,14,15,38,39,40,19,42,43,44,45,46,25,26,49,50,51,30,53,54,55,56,57,36,37,60,61,62,41,64,65,11,12,13,47,48,16,17,18,52,20,21,22,23,24,58,59,27,28,29,63,31,32,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,124,125,121,122,123,129,130,126,127,128,131]],f=(Math.sqrt(5)+1)/2,r=.25/Math.tan(d/5),ea=2.6+3*Math.cos(.1*d)*f,ma=2.2+1*Math.sin(.1*d)*f,Qa=[0,
r,0,-r],Ta=[-1,-.75,-.5,-.75],Sa=[Math.cos(.1*d)-r,r,0,.5*Math.sin(.4*d)],Ua=[-Math.sin(.1*d)+-.25,-.75,-.5,.5*-Math.cos(.4*d)],Wa=[.5*Math.sin(0*d),.5*Math.sin(.4*d),.5*Math.sin(.8*d),.5*Math.sin(1.2*d),.5*Math.sin(1.6*d)],ib=[.5*-Math.cos(0*d),.5*-Math.cos(.4*d),.5*-Math.cos(.8*d),.5*-Math.cos(1.2*d),.5*-Math.cos(1.6*d)],gb="#fff #d00 #060 #81f #fc0 #00b #ffb #8df #f83 #7e0 #f9f #999".split(" "),Za=/[RD][+-]{2}|U'?/;return function(h){gb=kernel.getProp("colmgm").match(Va);for(var n=[],r=0;12>r;r++)for(var w=
0;11>w;w++)n[11*r+w]=r;h=h.split(/\s+/);for(r=0;r<h.length;r++)if(w=Za.exec(h[r])){var Ra="URD".indexOf(w[0][0]),Qa=/[-']/.exec(w[0][1]);w=n;Ra=c[Ra];var Ta=w.slice();if(Qa)for(Qa=0;132>Qa;Qa++)w[Ra[Qa]]=Ta[Qa];else for(Qa=0;132>Qa;Qa++)w[Qa]=Ta[Ra[Qa]]}r=kernel.getProp("imgSize")/7.5;z.width(7*r+"em");z.height(3.5*r+"em");z.attr("width",392);z.attr("height",196);b(n,0,[40,2.6+0*f,2.2+0*f],0*d);b(n,11,[40,2.6+Math.cos(.1*d)*f,2.2+Math.sin(.1*d)*f],.2*d);b(n,22,[40,2.6+Math.cos(.5*d)*f,2.2+Math.sin(.5*
d)*f],.6*d);b(n,33,[40,2.6+Math.cos(.9*d)*f,2.2+Math.sin(.9*d)*f],1*d);b(n,44,[40,2.6+Math.cos(1.3*d)*f,2.2+Math.sin(1.3*d)*f],1.4*d);b(n,55,[40,2.6+Math.cos(1.7*d)*f,2.2+Math.sin(1.7*d)*f],1.8*d);b(n,66,[40,ea+Math.cos(.7*d)*f,ma+Math.sin(.7*d)*f],0*d);b(n,77,[40,ea+Math.cos(.3*d)*f,ma+Math.sin(.3*d)*f],1.6*d);b(n,88,[40,ea+Math.cos(1.9*d)*f,ma+Math.sin(1.9*d)*f],1.2*d);b(n,99,[40,ea+Math.cos(1.5*d)*f,ma+Math.sin(1.5*d)*f],.8*d);b(n,110,[40,ea+Math.cos(1.1*d)*f,ma+Math.sin(1.1*d)*f],.4*d);b(n,121,
[40,ea+0*f,ma+0*f],1*d);a&&(a.fillStyle="#000",a.font="20px serif",a.textAlign="center",a.textBaseline="middle",a.fillText("U",104,88),a.fillText("F",104,40*(2.2+Math.sin(.5*d)*f)))}}(),f=function(){var b=/([UD][RL]|ALL|[UDRLy])(\d[+-]?)?/,c="UR DR DL UL U R D L ALL".split(" ");return function(f){var n=f.split(/\s+/),r=clock.moveArr,w=9;f=[0,0,0,0];for(var ma=[0,0,0,0,0,0,0,0,0,0,0,0,0,0],Qa=0;Qa<n.length;Qa++){var Ta=b.exec(n[Qa]);if(Ta)if("y2"==Ta[0])w=0;else{var Sa=c.indexOf(Ta[1])+w;if(void 0==
Ta[2])f[Sa%9]=1;else{var Ua=~~Ta[2][0];Ua="+"==Ta[2][1]?Ua:12-Ua;for(Ta=0;14>Ta;Ta++)ma[Ta]=(ma[Ta]+r[Sa][Ta]*Ua)%12}}}ma=[ma[0],ma[3],ma[6],ma[1],ma[4],ma[7],ma[2],ma[5],ma[8],12-ma[2],ma[10],12-ma[8],ma[9],ma[11],ma[13],12-ma[0],ma[12],12-ma[6]];f=[f[3],f[2],f[0],f[1],1-f[0],1-f[1],1-f[3],1-f[2]];Qa=kernel.getProp("imgSize")/7.5;z.width(6.25*Qa+"em");z.height(3*Qa+"em");z.attr("width",375);z.attr("height",180);n=[10,30,50];r=[10,30,50,75,95,115];for(Qa=0;18>Qa;Qa++)w=["#37b","#5cf"][~~(Qa/9)],Sa=
[3,r[~~(Qa/3)],n[Qa%3]],a&&(Ta=ea(h([[1,1,0,-1,-1,-1,1,0],[0,-1,-8,-1,0,1,1,0]],ma[Qa]/6*d),Sa),Ua=Ta[0],Ta=Ta[1],a.beginPath(),a.fillStyle=w,a.arc(Ua[7],Ta[7],9*Sa[0],0,2*d),a.fill(),a.beginPath(),a.fillStyle="#ff0",a.strokeStyle="#f00",a.moveTo(Ua[0],Ta[0]),a.bezierCurveTo(Ua[1],Ta[1],Ua[1],Ta[1],Ua[2],Ta[2]),a.bezierCurveTo(Ua[3],Ta[3],Ua[3],Ta[3],Ua[4],Ta[4]),a.bezierCurveTo(Ua[5],Ta[5],Ua[6],Ta[6],Ua[0],Ta[0]),a.closePath(),a.fill(),a.stroke());n=[20,40];r=[20,40,85,105];for(Qa=0;8>Qa;Qa++)ma=
["#850","#ff0"][f[Qa]],w=[3,r[~~(Qa/2)],n[Qa%2]],a&&(Sa=ea([[0],[0]],w),a.beginPath(),a.fillStyle=ma,a.strokeStyle="#000",a.arc(Sa[0][0],Sa[1][0],3*w[0],0,2*d),a.fill(),a.stroke())}}(),Wa=function(){function c(a){for(var b=[],c=0;12>c;c++)b[(c+a[0])%12]=f[c];for(c=0;12>c;c++)b[c+12]=f[(c+a[1])%12+12];if(a[2])for(r=1-r,c=0;6>c;c++)mathlib.circle(b,c+6,23-c);f=b}var f=[],r=0,ma=[[0,-.5,.5],[0,-b-1,-b-1]],Qa=[[0,-.5,-b-1,-b-1],[0,-b-1,-b-1,-.5]],Ta=[[0,-.5,-b-1],[0,-b-1,-b-1]],Sa=[[0,-b-1,-b-1],[0,-b-
1,-.5]],Ua=ea(ma,[.66,0,0]),Wa=ea(Qa,[.66,0,0]),kb={U:"#ff0",R:"#f80",F:"#0f0",D:"#fff",L:"#f00",B:"#00f"},db=/^\s*\(\s*(-?\d+),\s*(-?\d+)\s*\)\s*$/;return function(n){var ea=kernel.getProp("colsq1").match(Va);kb={U:ea[0],R:ea[1],F:ea[2],D:ea[3],L:ea[4],B:ea[5]};f=[0,0,1,2,2,3,4,4,5,6,6,7,8,8,9,10,10,11,12,12,13,14,14,15];r=0;ea=n.split("/");for(n=0;n<ea.length;n++)if(/^\s*$/.exec(ea[n]))c([0,0,1]);else{var Ra=db.exec(ea[n]);c([~~Ra[1]+12,~~Ra[2]+12,1])}c([0,0,1]);n=kernel.getProp("imgSize")/10;z.width(11*
n/1.3+"em");z.height(6.3*n/1.3+"em");z.attr("width",495);z.attr("height",283.5);ea=[45,2.7,2.7];for(n=0;12>n;n++)0==f[n]%2?f[n]==f[(n+1)%12]&&(w(a,kb["LBBRRFFLBLRBFRLF"[f[n]]],h(Sa,(n-3)*d/6),ea),w(a,kb["LBBRRFFLBLRBFRLF"[f[n]+1]],h(Ta,(n-3)*d/6),ea),w(a,kb["UD"[8<=f[n]?1:0]],h(Wa,(n-3)*d/6),ea)):(w(a,kb["-B-R-F-L-B-R-F-L"[f[n]]],h(ma,(n-5)*d/6),ea),w(a,kb["UD"[8<=f[n]?1:0]],h(Ua,(n-5)*d/6),ea));ea=[45,2.7+5.4,2.7];for(n=12;24>n;n++)0==f[n]%2?f[n]==f[(n+1)%12+12]&&(w(a,kb["LBBRRFFLBLRBFRLF"[f[n]]],
h(Sa,-n*d/6),ea),w(a,kb["LBBRRFFLBLRBFRLF"[f[n]+1]],h(Ta,-n*d/6),ea),w(a,kb["UD"[8<=f[n]?1:0]],h(Wa,-n*d/6),ea)):(w(a,kb["-B-R-F-L-B-R-F-L"[f[n]]],h(ma,(-1-n)*d/6),ea),w(a,kb["UD"[8<=f[n]?1:0]],h(Ua,(-1-n)*d/6),ea));ea=[45,5.4,5.7];w(a,kb.L,[[-b-1,-b-1,-.5,-.5],[.5,-.5,-.5,.5]],ea);0==r?w(a,kb.L,[[b+1,b+1,-.5,-.5],[.5,-.5,-.5,.5]],ea):w(a,kb.R,[[b,b,-.5,-.5],[.5,-.5,-.5,.5]],ea)}}(),Ua=function(){var c=[],d="#fff #00f #f00 #ff0 #0f0 #f80".split(" "),f=[[45*b,45*b,186.75*b,-22.5,22.5,45],[45*b,0,328.5*
b,-22.5,45,67.5],[45*b,0,234*b,-22.5,45,114.75],[0,-45*b,139.5*b,45,-22.5,209.25],[45*b,0,139.5*b,22.5,45,114.75],[45*b,0,45*b,22.5,45,67.5]];return function(h){d=kernel.getProp("colskb").match(Va);for(var n=0,r=0;6>r;r++)for(var ea=0;5>ea;ea++)c[n++]=r;h=kernel.parseScramble(h,"RULB");for(r=0;r<h.length;r++){n=h[r][0];ea=1==h[r][2]?1:2;for(var ma=0;ma<ea;ma++)switch(n){case 0:mathlib.circle(c,10,5,15);mathlib.circle(c,14,8,17);mathlib.circle(c,12,9,16);mathlib.circle(c,13,6,19);mathlib.circle(c,
24,4,28);break;case 1:mathlib.circle(c,0,25,5);mathlib.circle(c,2,26,7);mathlib.circle(c,4,27,9);mathlib.circle(c,1,28,6);mathlib.circle(c,21,19,12);break;case 2:mathlib.circle(c,20,15,25);mathlib.circle(c,23,18,29);mathlib.circle(c,21,16,28);mathlib.circle(c,24,19,27);mathlib.circle(c,13,9,1);break;case 3:mathlib.circle(c,5,25,15),mathlib.circle(c,9,28,19),mathlib.circle(c,8,26,18),mathlib.circle(c,7,29,17),mathlib.circle(c,2,23,14)}}r=kernel.getProp("imgSize")/10;z.width((8*b+.3)*r+"em");z.height(6.2*
r+"em");z.attr("width",45*(8*b+.3)+1);z.attr("height",280);for(r=0;6>r;r++)h=r,n=f[h],w(a,d[c[5*h]],[[-1,0,1,0],[0,1,0,-1]],n),w(a,d[c[5*h+1]],[[-1,-1,0],[0,-1,-1]],n),w(a,d[c[5*h+2]],[[0,1,1],[-1,-1,0]],n),w(a,d[c[5*h+3]],[[-1,-1,0],[0,1,1]],n),w(a,d[c[5*h+4]],[[0,1,1],[1,1,0]],n)}}(),Qa=function(){var c=[],d=["#0f0","#f00","#00f","#ff0"],f=[3.5,1.5,5.5,3.5],h=[0,3*b,3*b,6.5*b],r=[0,6,5,4],ea=[1,7,3,5],ma=[2,8,4,3],Qa=[[0,1,2],[2,3,0],[1,0,3],[3,2,1]],Ta=[-.5,.5,0],Sa=[b,b,0],Ua=[-b,-b,0];return function(n){d=
kernel.getProp("colpyr").match(Va);for(var Ra=0,Wa=0;4>Wa;Wa++)for(var bb=0;9>bb;bb++)c[Ra++]=Wa;n=kernel.parseScramble(n,"URLB");for(Wa=0;Wa<n.length;Wa++){var Xa=n[Wa][0]+(2==n[Wa][1]?4:0);Ra=1==n[Wa][2]?1:2;bb=4<=Xa?1:4;Xa=Qa[Xa%4];for(var ab=0;ab<bb;ab++)for(var Ya=0;Ya<Ra;Ya++)mathlib.circle(c,9*Xa[0]+r[ab],9*Xa[1]+ea[ab],9*Xa[2]+ma[ab])}Wa=kernel.getProp("imgSize")/10;z.width(7*Wa+"em");z.height(6.5*b*Wa+"em");z.attr("width",315);z.attr("height",292.5*b);for(Wa=0;4>Wa;Wa++){n=Wa;Ra=0!=n;bb=
[0,-1,1,0,.5,-.5,0,-.5,.5];Xa=[0,2,2,2,1,1,2,3,3];for(ab=0;ab<Xa.length;ab++)Xa[ab]*=Ra?-b:b,bb[ab]*=Ra?-1:1;for(ab=0;9>ab;ab++)w(a,d[c[9*n+ab]],[Ta,6<=ab!=Ra?Ua:Sa],[45,f[n]+bb[ab],h[n]+Xa[ab]])}}}(),Ta=function(){function b(a,b,d,f){var h=f*f,n,r,w;5<a&&(a-=6);for(w=0;w<d;w++){for(n=0;n<f;n++){if(0==a){var z=6*h-f*b-f+n;var ea=2*h-f*b-1-n;var ma=3*h-f*b-1-n;var Qa=5*h-f*b-f+n}else 1==a?(z=3*h+b+f*n,ea=3*h+b-f*(n+1),ma=h+b-f*(n+1),Qa=5*h+b+f*n):2==a?(z=3*h+b*f+n,ea=4*h+f-1-b+f*n,ma=b*f+f-1-n,Qa=
2*h-1-b-f*n):3==a?(z=4*h+b*f+f-1-n,ea=2*h+b*f+n,ma=h+b*f+n,Qa=5*h+b*f+f-1-n):4==a?(z=6*h-1-b-f*n,ea=f-1-b+f*n,ma=2*h+f-1-b+f*n,Qa=4*h-1-b-f*n):5==a&&(z=4*h-f-b*f+n,ea=2*h-f+b-f*n,ma=h-1-b*f-n,Qa=4*h+b+f*n);var Ra=c[z];c[z]=c[ea];c[ea]=c[ma];c[ma]=c[Qa];c[Qa]=Ra}if(0==b)for(n=0;n+n<f;n++)for(r=0;r+r<f-1;r++)z=a*h+n+r*f,ma=a*h+(f-1-n)+(f-1-r)*f,3>a?(ea=a*h+(f-1-r)+n*f,Qa=a*h+r+(f-1-n)*f):(Qa=a*h+(f-1-r)+n*f,ea=a*h+r+(f-1-n)*f),Ra=c[z],c[z]=c[ea],c[ea]=c[ma],c[ma]=c[Qa],c[Qa]=Ra}}var c=[],d="#ff0 #fa0 #00f #fff #f00 #0d0".split(" ");
return function(f,h){d=kernel.getProp("colcube").match(Va);for(var n=0,r=0;6>r;r++)for(var ea=0;ea<f*f;ea++)c[n++]=r;r=kernel.parseScramble(h,"DLBURF");for(n=0;n<r.length;n++){for(ea=0;ea<r[n][1];ea++)b(r[n][0],ea,r[n][2],f);if(-1==r[n][1]){for(ea=0;ea<f-1;ea++)b(r[n][0],ea,-r[n][2],f);b((r[n][0]+3)%6,0,r[n][2]+4,f)}}r=kernel.getProp("imgSize")/50;z.width(39*r+"em");z.height(29*r+"em");z.attr("width",39*f/9*30+1);z.attr("height",29*f/9*30+1);for(r=0;6>r;r++){n=r;ea=f;var ma=10/9,Qa=10/9;0==n?(ma*=
ea,Qa*=2*ea):1==n?(ma*=0,Qa*=ea):2==n?(ma*=3*ea,Qa*=ea):3==n?(ma*=ea,Qa*=0):4==n?(ma*=2*ea,Qa*=ea):5==n&&(ma*=ea,Qa*=ea);for(var Ra=0;Ra<ea;Ra++)for(var Ta=1==n||2==n?ea-1-Ra:Ra,Sa=0;Sa<ea;Sa++)w(a,d[c[(n*ea+(0==n?ea-1-Sa:Sa))*ea+Ta]],[[Ra,Ra,Ra+1,Ra+1],[Sa,Sa+1,Sa+1,Sa]],[30,ma,Qa])}}}(),ma="  222 333 444 555 666 777 888 999 101010 111111".split(" "),Va=/#[0-9a-fA-F]{3}/g;$(function(){z=$("<canvas>");z[0].getContext&&tools.regTool("image",TOOLS_IMAGE,c)});return{draw:Sa,drawPolygon:w}});var cross=function(h,ea,w,Sa,c,z,a){function b(a,b){var c=eb[b][~~(a/24)];return 24*~~(c/384)+bb[a%24][(c>>4)%24]}function d(a,b){var c=eb[b][a>>4];return~~(c/384)<<4|jb[a&15][(c>>4)%24]^c&15}function r(a,b){for(var c=3;0<=c;c--)b[c]=a&1,a>>=1}function f(a){for(var b=0,c=0;4>c;c++)b<<=1,b|=a[c];return b}function Wa(a,b){var c=eb[b][~~(a/384)];return 384*~~(c/384)+16*bb[(a>>4)%24][(c>>4)%24]+(jb[a&15][(c>>4)%24]^c&15)}function Ua(){Ua=$.noop;for(var a=0;24>a;a++)bb[a]=[];for(a=0;16>a;a++)jb[a]=[];
var n=[],ma=[],Qa=[];for(a=0;24>a;a++)for(var Ra=0;24>Ra;Ra++){Sa(n,a,4);Sa(ma,Ra,4);for(var Ta=0;4>Ta;Ta++)Qa[Ta]=n[ma[Ta]];bb[a][Ra]=c(Qa,4);if(16>a){r(a,n);for(Ta=0;4>Ta;Ta++)Qa[Ta]=n[ma[Ta]];jb[a][Ra]=f(Qa)}}h(eb,495,function(a,b){for(var d=[0,0,0,0,0,0,0,0,0,0,0,0],f=4,h=0;12>h;h++)a>=z[11-h][f]?(a-=z[11-h][f--],d[h]=f<<1):d[h]=-1;ea(d,b);a=0;f=4;var n=0,r=[];for(h=0;12>h;h++)0<=d[h]&&(a+=z[11-h][f--],r[f]=d[h]>>1,n|=(d[h]&1)<<3-f);return 24*a+c(r,4)<<4|n});Xa=[];fb=[];w(Xa,0,11880,5,b);w(fb,
0,7920,6,d)}function Qa(){function a(a,b){var c=~~(a/3);return 3*[[3,1,2,7,0,5,6,4],[0,1,6,2,4,5,7,3],[1,2,3,0,4,5,6,7],[0,5,1,3,4,6,2,7],[4,0,2,3,5,1,6,7],[0,1,2,3,7,4,5,6]][b][c]+(a%3+[[2,0,0,1,1,0,0,2],[0,0,1,2,0,0,2,1],[0,0,0,0,0,0,0,0],[0,1,2,0,0,2,1,0],[1,2,0,0,2,1,0,0],[0,0,0,0,0,0,0,0]][b][c])%3}Qa=$.noop;Ua();for(var b=0;24>b;b++){kb[b]=[];lb[b]=[];for(var c=0;6>c;c++){kb[b][c]=a(b,c);var d=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];d[b>>1]=b&1;ea(d,c);for(var f=0;12>f;f++)if(0<=d[f]){lb[b][c]=
f<<1|d[f];break}}}Ra=[];for(b=0;4>b;b++)c=[],w(c,72*(b+4)+2*(b+4),576,5,function(a,b){return 24*kb[~~(a/24)][b]+lb[a%24][b]}),Ra[b]=c}function Ta(c,f,h,n,r,w,z,ea){if(0==w)return 0==c&&0==f&&h==2*(r+4)&&n==3*(r+4);if(a(Xa,c)>w||a(fb,f)>w||a(Ra[r],24*n+h)>w)return!1;var ma,Qa;for(Qa=0;6>Qa;Qa++)if(Qa!=z&&Qa!=z-3){var Sa=c;var Ua=f;var Va=h;var Wa=n;for(ma=0;3>ma;ma++)if(Sa=b(Sa,Qa),Ua=d(Ua,Qa),Va=lb[Va][Qa],Wa=kb[Wa][Qa],Ta(Sa,Ua,Va,Wa,r,w-1,Qa,ea))return ea.push("FRUBLD".charAt(Qa)+" 2'".charAt(ma)),
!0}return!1}function ma(c,f,h,n,r){if(0==h)return 0==c&&0==f;if(a(Xa,c)>h||a(fb,f)>h)return!1;var w,z;for(z=0;6>z;z++)if(z!=n&&z!=n-3){var ea=c;var Qa=f;for(w=0;3>w;w++)if(ea=b(ea,z),Qa=d(Qa,z),ma(ea,Qa,h-1,z,r))return r.push("FRUBLD".charAt(z)+" 2'".charAt(w)),!0}return!1}function Va(a){Ua();for(var c=[],f=0;6>f;f++){for(var h=0,n=0,r=0;r<a.length;r++)for(var w=ib[f].indexOf("FRUBLD".charAt(a[r][0])),z=a[r][2],ea=0;ea<z;ea++)h=d(h,w),n=b(n,w);r=[];for(w=0;100>w&&!ma(n,h,w,-1,r);w++);r.reverse();
c.push(r)}return c}function n(){n=$.noop;Ua();Ya=[];w(Ya,0,190080,7,Wa,6,3,6)}var Xa,fb,Ra,Ya,eb=[],bb=[],jb=[],lb=[],kb=[],db="DULRFB".split(""),ib="FRUBLD FLDBRU FDRBUL FULBDR URBDLF DRFULB".split(" "),gb="&nbsp;&nbsp; z2 z' z&nbsp; x' x&nbsp;".split(" "),Za;execMain(function(){function a(){var a=$(this).parent(),c="DULRFB".indexOf(a.html()[0]),f=Za;Qa();for(var h=0,n=0,r=[8,10,12,14],w=[12,15,18,21],z=0;z<f.length;z++)for(var ea=ib[c].indexOf("FRUBLD".charAt(f[z][0])),ma=f[z][2],Ra=0;Ra<ma;Ra++){h=
d(h,ea);n=b(n,ea);for(var Sa=0;4>Sa;Sa++)r[Sa]=lb[r[Sa]][ea],w[Sa]=kb[w[Sa]][ea]}f=[];z=!1;for(ea=0;!z;){for(Sa=0;4>Sa;Sa++)if(Ta(n,h,r[Sa],w[Sa],Sa,ea,-1,f)){z=!0;break}ea++}f.reverse();a.empty().append(db[c]+"(ec): "+gb[c],tools.getSolutionSpan(f),"<br>")}function c(b){if(b){var c=tools.getCurScramble();if(-1!="|333|333o|333oh|333fm|333ft|edges|easyc|".indexOf("|"+c[0]+"|")||"input"==c[0]&&-1!="|333|222o|".indexOf("|"+tools.scrambleType(c[1])+"|")){c=c[1];b.empty();Za=kernel.parseScramble(c,"FRUBLD");
c=Va(Za);for(var d=0;6>d;d++){var f=$("<span />"),h=$("<span />").html("ec").addClass("click").click(a);f.append(db[d]+"(",h,"): "+gb[d],tools.getSolutionSpan(c[d]),"<br>");b.append(f)}}else b.html(IMAGE_UNAVAILABLE)}}$(function(){tools.regTool("cross",TOOLS_CROSS,c)})});return{solve:Va,getEasyCross:function(b){n();8<b&&(b=8);var c=mathlib.rn([1,16,174,1568,11377,57758,155012,189978,190080][b])+1,d;for(d=0;190080>d&&!(a(Ya,d)<=b&&0==--c);d++);b=~~(d/384);var f=(d>>4)%24;c=[];var h=[],w=[],ea=[];r(d&
15,ea);Sa(w,f,4);f=4;var ma=[7,6,5,4,10,9,8,11,3,2,1,0];for(d=0;12>d;d++)b>=z[11-d][f]?(b-=z[11-d][f--],c[ma[d]]=w[f],h[ma[d]]=ea[f]):c[ma[d]]=h[ma[d]]=-1;return[c,h]}}}(mathlib.createMove,mathlib.edgeMove,mathlib.createPrun,mathlib.setNPerm,mathlib.getNPerm,mathlib.Cnk,mathlib.getPruning);execMain(function(h,ea,w,Sa){function c(a,b){var c=0,d,f=[];for(d=0;11>d;++d)c^=f[d]=a&1,a>>>=1;f[11]=c;ea(f,b);for(d=a=0;11>d;++d)a|=f[d]<<d;return a}function z(a,b){var c=[0,0,0,0,0,0,0,0,0,0,0,0],d=a%12,f=~~(a/12);f>=d&&f++;c[d]=2;c[f]=4;ea(c,b);for(var h=0;12>h;h++)1==c[h]>>1?d=h:2==c[h]>>1&&(f=h);f>d&&f--;return 12*f+d}function a(){a=$.noop;h(f,2048,c);w(Ua,0,2048,6,f);h(Wa,132,z);w(Qa,116,132,3,Wa)}function b(a,c,d,h,r){if(0==d)return 116==a&&0==c;if(Sa(Qa,a)>d||Sa(Ua,c)>d)return!1;var n,w;
for(w=0;6>w;w++)if(w!=h&&w!=h-3){var z=a;var ea=c;for(n=0;3>n;n++)if(z=Wa[w][z],ea=f[w][ea],b(z,ea,d-1,w,r))return r.push("FRUBLD".charAt(w)+" 2'".charAt(n)),!0}return!1}function d(c,d){a();var h=kernel.parseScramble(c,"FRUBLD");d.empty();for(var n=0;12>n;n++){for(var r=0,w=116,z=0;z<h.length;z++)for(var ea=ma[n].indexOf("FRUBLD".charAt(h[z][0])),Qa=h[z][2],Sa=0;Sa<Qa;Sa++)r=f[ea][r],w=Wa[ea][w];z=[];for(ea=0;!b(w,r,ea,-1,z);)ea++;z.reverse();d.append(Ta[n]+": "+Va[n],tools.getSolutionSpan(z),"<br>")}}
function r(a){if(a){var b=tools.getCurScramble();-1!="|333|333o|333oh|333fm|333ft|edges|easyc|".indexOf("|"+b[0]+"|")||"input"==b[0]&&-1!="|333|222o|".indexOf("|"+tools.scrambleType(b[1])+"|")?d(b[1],a):a.html(IMAGE_UNAVAILABLE)}}var f=[],Wa=[],Ua=[],Qa=[],Ta="D(LR) D(FB) U(LR) U(FB) L(UD) L(FB) R(UD) R(FB) F(LR) F(UD) B(LR) B(UD)".split(" "),ma="FRUBLD RBULFD FLDBRU LBDRFU FDRBUL DBRUFL FULBDR UBLDFR URBDLF RDBLUF DRFULB RUFLDB".split(" "),Va="&nbsp;&nbsp;&nbsp; &nbsp;y&nbsp; z2&nbsp; z2y z'&nbsp; z'y &nbsp;z&nbsp; z&nbsp;y x'&nbsp; x'y &nbsp;x&nbsp; x&nbsp;y".split(" ");
$(function(){tools.regTool("eoline",TOOLS_EOLINE,r)});return{solve:d}},[mathlib.createMove,mathlib.edgeMove,mathlib.createPrun,mathlib.getPruning]);execMain(function(h){function ea(b,c){z.ca=[0,0,0,0,0,0,0,0];for(var d=1;3>d;d++){var f=b%24;b=~~(b/24);z.ca[f&7]=d|f&24}h.CornMult(z,h.moveCube[3*c],a);f=[];for(d=0;8>d;d++)f[a.ca[d]&7]=d|a.ca[d]&24;b=0;for(d=2;0<d;d--)b=24*b+f[d];return b}function w(b,c){z.ea=[0,0,0,0,0,0,0,0,0,0,0,0];for(var d=1;4>d;d++){var f=b%24;b=~~(b/24);z.ea[f>>1]=d<<1|f&1}h.EdgeMult(z,h.moveCube[3*c],a);f=[];for(d=0;12>d;d++)f[a.ea[d]>>1]=d<<1|a.ea[d]&1;b=0;for(d=3;0<d;d--)b=24*b+f[d];return b}function Sa(a,c){c.empty();
for(var h=0;4>h;h++){a:{var z=a,ma=r[h];var Sa=[126];for(var n=[11964],Ua=1;4>Ua;Ua++)Sa[Ua]=ea(Sa[Ua-1],4),n[Ua]=w(n[Ua-1],4);var Wa=[];ma=ma.split("");for(var Ra=0;4>Ra;Ra++){Wa[Ra]=ma.join("");var Ya=kernel.parseScramble(z,Wa[Ra]);for(Ua=0;Ua<Ya.length;Ua++)for(var eb=Ya[Ua][0],bb=0;bb<Ya[Ua][2];bb++)Sa[Ra]=ea(Sa[Ra],eb),n[Ra]=w(n[Ra],eb);mathlib.circle(ma,0,2,3,5)}for(ma=1;12>ma;ma++)for(Ra=0;4>Ra;Ra++)if(z=b.search([Sa[Ra],n[Ra]],1==ma?0:ma,ma)){z.push(Ra);Sa=z;break a}Sa=void 0}n=Sa.pop();0==
h%2&&(n=(n+2)%4);for(Ra=0;Ra<Sa.length;Ra++)Sa[Ra]="URFDLB".charAt(Sa[Ra][0])+" 2'".charAt(Sa[Ra][1]);c.append(d[h]+": "+f[h]+["&nbsp;&nbsp;&nbsp;","x'&nbsp;","x2&nbsp;","x&nbsp;&nbsp;"][n],tools.getSolutionSpan(Sa),"<br>")}}function c(a){if(a){var b=tools.getCurScramble();-1!="|333|333o|333oh|333fm|333ft|edges|easyc|".indexOf("|"+b[0]+"|")||"input"==b[0]&&-1!="|333|222o|".indexOf("|"+tools.scrambleType(b[1])+"|")?Sa(b[1],a):a.html(IMAGE_UNAVAILABLE)}}var z=new h,a=new h,b=new mathlib.Solver(6,3,
[[126,ea,576],[11964,w,13824]]),d=["LU","LD","FU","FD"],r=["DRBULF","URFDLB","DBLUFR","UBRDFL"],f=["&nbsp;&nbsp;","&nbsp;&nbsp;","y&nbsp;","y&nbsp;"];$(function(){tools.regTool("roux1",TOOLS_ROUX1,c)});return{solve:Sa}},[mathlib.CubieCube]);var giikerutil=execMain(function(h){function ea(a){a&&(f.html(ma).removeClass("click").unbind("click"),GiikerCube.isConnected()||f.html("Connect").addClass("click").click(d),a.empty().append("Giiker: ",f,"<br>").append(Wa.unbind("click").click(z),"<br>").append("Raw Data: ",Ua,"<br>").append("Last Solve: ",Qa,"<br>").append(Ta),Va())}function w(){GiikerCube.isConnected()?(GiikerCube.getCube().getBatteryLevel().then(function(a){ma="Connected | "+a+"%";f.html(ma)}),n=setTimeout(w,6E4)):n=0}function Sa(){kb&&
(clearTimeout(kb),kb=0);kernel.getProp("giiAED")&&(kb=setTimeout(function(){a:{var a=ib;if(1!=a.length%2){var b=[];b[a.length]=new h;for(var d=a.length-1;0<=d;d--)b[d]=new h,h.CubeMult(h.moveCube[a[d]],b[d+1],b[d]);for(d=1;3>d;d++){db=0;if(c(a,0,d,new h,b)){a=d;break a}if(9999<db)break}}a=99}99!=a&&(a=Ya.toFaceCube(),2>=cubeutil.getCFOPProgress(a)||(a=scramble_333.genFacelet(Ya.toFaceCube()),10>a.length/3?DEBUG&&console.log("[giiker]","Possible error, gen="+a.replace(/ /g,"")+", ignore"):(DEBUG&&
console.log("[giiker]","Almost error, gen="+a.replace(/ /g,"")+", mark solved"),z())))},1E3))}function c(a,b,d,f,n){if(0==d)return f.isEqual((new h).invFrom(n[b]));for(var r=new h;b<a.length-1;b++){if(~~(a[b]/3)%3!=~~(a[b+1]/3)%3){var w=(new h).init(f.ca,f.ea);h.CubeMult(w,h.moveCube[a[b+1]],r);h.CubeMult(r,h.moveCube[a[b]],w);h.CubeMult(w,n[b+2],r);if(9999<++db)break;if(r.edgeCycles()<d)var z=c(a,b+2,d-1,w,n);if(z)return!0}h.CubeMult(f,h.moveCube[a[b]],r);f.init(r.ca,r.ea)}return!1}function z(){bb.invFrom(Ra);
eb=mathlib.SOLVED_FACELET;kernel.setProp("giiSolved",fb);ib=[];gb=[];cb=0;Va();Xa(eb,["U "],lb)}function a(a,c,d){d=d||$.now();f.html(ma).removeClass("click").unbind("click");fb=a;Ra.fromFacelet(fb);h.EdgeMult(bb,Ra,Ya);h.CornMult(bb,Ra,Ya);eb=Ya.toFaceCube();ib.push(3*"URFDLB".indexOf(c[0][0])+" 2'".indexOf(c[0][1]));gb.push(timer.getCurTime(d));a=ib.length;if(20<a){for(var r="",z=0;z<cb;z++){var ea=ib[z];r+="URFDLB".charAt(~~(ea/3))+" 2'".charAt(ea%3)}var Qa="";for(z=cb;z<ib.length;z++)ea=ib[z],
Qa+="URFDLB".charAt(~~(ea/3))+" 2'".charAt(ea%3)+"/*"+gb[z]+"*/";b(Ua,a+" move(s)",r,Qa)}eb==mathlib.SOLVED_FACELET&&(ib=[],gb=[],cb=0);Va();0==n&&w();Sa();Xa(eb,c,d)}function b(a,b,c,d){a.attr("href","https://alg.cubing.net/?alg="+d+"&setup="+c);a.html(b)}function d(){fb=kernel.getProp("giiSolved",mathlib.SOLVED_FACELET);Ra.fromFacelet(fb);bb.invFrom(Ra);GiikerCube.setCallBack(a);return GiikerCube.isConnected()?Promise.resolve():GiikerCube.init()}function r(a,b){var c=b[0];Za=b[1];if("333"!=tools.puzzleType(c))Za=
"";else{c=kernel.parseScramble(Za,"URFDLB");var d=new h;jb.init(d.ca,d.ea);for(var f=0;f<c.length;f++){var n=3*c[f][0]+c[f][2]-1;0>n||18<=n||(h.EdgeMult(jb,h.moveCube[n],d),h.CornMult(jb,h.moveCube[n],d),n=jb,jb=d,d=n)}}}var f=$("<span></span>"),Wa=$("<span>Reset (Mark Solved)</span>").addClass("click"),Ua=$('<a target="_blank">0 move(s)</a>').addClass("click"),Qa=$('<a target="_blank"></a>').addClass("click"),Ta=$("<canvas>"),ma="Connected | ??%",Va=function(){var a=[1,2,1,1,0,3],b=[0,1,1,2,1,1],
c="#ff0 #fa0 #00f #fff #f00 #0d0".split(" "),d;return function(){if(Ta)if(kernel.getProp("giiVRC"))Ta.hide();else{c=kernel.getProp("colcube").match(/#[0-9a-fA-F]{3}/g);Ta.show();d=Ta[0].getContext("2d");var f=kernel.getProp("imgSize")/50;Ta.width(39*f+"em");Ta.height(29*f+"em");Ta.attr("width",391);Ta.attr("height",87/9*30+1);for(f=0;6>f;f++)for(var h=f,n=eb,r=10/3*a[h],w=10/3*b[h],z=0;3>z;z++)for(var ea=0;3>ea;ea++)image.drawPolygon(d,c["DLBURF".indexOf(n[3*(3*h+ea)+z])],[[z,z,z+1,z+1],[ea,ea+1,
ea+1,ea]],[30,r,w])}}}(),n=0,Xa=$.noop,fb=mathlib.SOLVED_FACELET,Ra=new h,Ya=new h,eb=fb,bb=new h,jb=new h,lb=$.now(),kb=0,db=0,ib=[],gb=[],Za,cb=0;$(function(){kernel.regListener("giiker","scramble",r);kernel.regListener("tool","property",Va,/^(?:giiVRC)$/);tools.regTool("giikerutil",TOOLS_GIIKER,ea)});return{setCallBack:function(a){Xa=a},markSolved:z,checkScramble:function(){return""==Za?!1:jb.isEqual(Ya)},markScrambled:function(){cb=ib.length},init:d,setLastSolve:function(a){b(Qa,"Ready",Za,a)}}},
[mathlib.CubieCube]);var insertionFinder=execMain(function(){function h(){$.ajax({url:"http://mf.qiyuuu.com/api/if.cube",dataType:"jsonp",data:{scramble:Sa.val(),skeleton:c.val()},success:function(a,b,c){a.validate?(z.val(a.url),ea(a.url)):z.val("Error. Because of parity or scramble/skeleton overflow. ")}})}function ea(a){$.ajax({url:a,dataType:"jsonp",success:function(a,b,c){z.val(a.result.replace(/<br \/>/g,"").replace(/^\s+|\s+$/g,""))}})}function w(c){c&&(c.empty().append(b),a.unbind("click").click(h))}var Sa=$('<textarea rows="3" style="width: 100%" />'),
c=$('<textarea rows="3" style="width: 100%" />'),z=$('<textarea rows="5" style="width: 100%" readonly />'),a=$('<input type="button">').val("submit").click(h),b=$("<div />").css("text-align","center");$(function(){b.append("scramble:","<br>",Sa,"<br>","skeleton:","<br>",c,"<br>",a,"<br>",z);tools.regTool("if","InsertionFinder",w)})});var metronome=execMain(function(){function h(a){return 99<a?a:" "+a}function ea(a){a?(a.empty().append("BPM: ",f,Ua,"<br />").append("Vol: ",Wa,Qa,"<br />",r,"<br />").append("<br />",$("<label>").append(Va,'<span class="click"> Beep at</span>'),"<br />",ma),f.unbind().on("input",function(){Ua.html(h(f.val()));Sa()}),Wa.unbind().on("input",function(){Qa.html(h(Wa.val()));Ta.gain.value=Wa.val()/100}),r.html(n?"Stop!":"Start!"),r.unbind().click(function(){n=!n;r.html(n?"Stop!":"Start!");Sa()}),w()):
(null!=Xa&&(clearInterval(Xa),Xa=null),n=!1)}function w(){Va.unbind("change").change(z).prop("checked",kernel.getProp("beepEn"));ma.unbind("change").change(z).val(kernel.getProp("beepAt"));z()}function Sa(){null!=Xa&&(clearInterval(Xa),Xa=null);if(n){var a=6E4/~~f.val();Xa=setInterval(c,a)}}function c(a){var b=d.createOscillator();b.type="sine";b.frequency.value=a||440;b.connect(Ta);b.start(d.currentTime);b.stop(d.currentTime+.1)}function z(){Va.prop("checked")?a(ma.val()):null!=fb&&(clearInterval(fb),
fb=null);kernel.setProp("beepEn",Va.prop("checked"));kernel.blur()}function a(a){null!=fb&&(clearInterval(fb),fb=null);a=a.split(",");for(var c=0;c<a.length;c++)a[c]=~~(1E3*a[c].trim())/1E3;a=a.filter(Number);a.sort(function(a,b){return a-b});Ra=a;ma.val(a.join(","));kernel.setProp("beepAt",a.join(","));fb=setInterval(b,100)}function b(){var a=~~timer.getCurTime()/1E3;if(0==a)Ya=0;else{for(var b=!1;Ya<Ra.length&&a>Ra[Ya]-.05;)++Ya,b=!0;b&&c(550)}}var d,r=$('<span style="display:inline-block; text-align:center; width:100%;"/>').addClass("click"),
f=$('<input type="range" value="60" min="10" max="360" style="width:7em;" />'),Wa=$('<input type="range" value="30" min="0" max="100" style="width:7em;" />'),Ua=$("<span />").html(" 60"),Qa=$("<span />").html(" 30"),Ta,ma=$('<input type="text" style="width:7em;" />'),Va=$('<input type="checkbox" />'),n=!1,Xa=null,fb=null,Ra=[],Ya=0;$(function(){kernel.regProp("tools","beepEn",-6,"Beep Enable",[!1]);kernel.regProp("tools","beepAt",-6,"Beep At",["5,10,15,20"]);var a=window.AudioContext||window.webkitAudioContext;
void 0!==a&&(d=new a,Ta=d.createGain(),Ta.gain.value=.3,Ta.connect(d.destination),tools.regTool("mtrnm",TOOLS_METRONOME,ea));w()});return{playTick:c}});var shortcuts=execMain(function(){function h(c,h){if(kernel.getProp("useKSC")){var a;h.altKey&&h.ctrlKey?a=Sa[h.which]:h.altKey?a=ea[h.which]:h.ctrlKey&&(a=w[h.which]);void 0!=a&&(void 0==a[1]?kernel.setProp(a[0][0],a[0][1]):kernel.pushSignal(a[1],a[0]),kernel.clrKey(),kernel.blur())}}var ea={49:[["scrType","sqrs"]],50:[["scrType","222so"]],51:[["scrType","333"]],52:[["scrType","444wca"]],53:[["scrType","555wca"]],54:[["scrType","666wca"]],55:[["scrType","777wca"]],67:[["scrType","clko"]],77:[["scrType",
"mgmp"]],80:[["scrType","pyrso"]],83:[["scrType","skbso"]],73:[["scrType","input"]],37:[["scramble","last"],"ctrl"],39:[["scramble","next"],"ctrl"],38:[["stats","-"],"ctrl"],40:[["stats","+"],"ctrl"],68:[["stats","clr"],"ctrl"],90:[["stats","undo"],"ctrl"]},w={49:[["stats","OK"],"ctrl"],50:[["stats","+2"],"ctrl"],51:[["stats","DNF"],"ctrl"]},Sa={84:[["input","t"]],73:[["input","i"]],83:[["input","s"]],77:[["input","m"]],86:[["input","v"]],71:[["input","g"]]};$(function(){kernel.regListener("shortcut",
"keydown",h);kernel.regProp("tools","useKSC",0,PROPERTY_USEKSC,[!0])})});var help=execMain(function(){function h(){$(this).hasClass("enable")||ea($(this).html())}function ea(a){if(void 0===a)for(a in w)break;z.html(w[a]);c.children().appendTo(kernel.temp);for(var b in w)$("<div />").html(b).addClass(b==a?"tab enable":"tab disable").click(h).appendTo(c)}var w={},Sa=$('<table class="options" />'),c=$("<td />"),z=$("<td />").addClass("tabValue");Sa.append($("<tr />").append(c,z));$(function(){w[ABOUT_LANG]=$("<div />");for(var a=$("#about").children(),b=0;b<a.length;b++){var c=
a.eq(b);if(c.is("ul")){var h=a.eq(b-1).appendTo(kernel.temp).html();w[h]=c.appendTo(kernel.temp)}else 1<=b&&!a.eq(b-1).is("h2, ul")&&a.eq(b-1).appendTo(w[ABOUT_LANG])}ea();$("#about").html(Sa)})});var stackmat=execMain(function(){function h(c){a=c;b=z.createMediaStreamSource(c);d=z.createScriptProcessor(1024,1,1);d.onaudioprocess=function(a){a=a.inputBuffer.getChannelData(0);for(var b=0;b<a.length;b++){Wa=Math.max(1E-4,Wa+(a[b]*a[b]-Wa)*Ua);var c=1/Math.sqrt(Wa)*a[b];Qa.unshift(c);if((Qa.pop()-c)*(Ta?1:-1)>Va&&Math.abs(c-(Ta?1:-1))-1>ma&&n>.6*r){for(var d=0;d<Math.round(n/r);d++)f(Ta);Ta^=1;n=0}else n>2*r&&(f(Ta),n-=r);n++;10>bb?Xa=Math.max(1E-4,Xa+(Math.pow(c-(Ta?1:-1),2)-Xa)*Ua):100<bb&&
(Xa=1)}};b.connect(d);d.connect(z.destination)}function ea(a){fb.push(a);a!=eb?(eb=a,bb=1):bb++;if(10<bb)Ya=a,fb=[],0!=Ra.length&&(Ra=[]),100<bb&&lb.on?(lb.on=!1,kb(lb)):700<bb&&(bb=100,kb(lb));else if(10==fb.length)if(fb[0]==Ya||fb[9]!=Ya)fb=fb.slice(1);else{a=0;for(var b=8;0<b;b--)a=a<<1|(fb[b]==Ya?1:0);Ra.push(String.fromCharCode(a));w(Ra);fb=[]}}function w(a){if(9==a.length||10==a.length){DEBUG&&console.log("[stackmat]",a);var b=/\d/,c=a[0];if(/[ SILRCA]/.exec(c)){var d=0,f=64;if(9==a.length){for(d=
1;6>d;d++){if(!b.exec(a[d]))return;f+=~~a[d]}if(f!=a[6].charCodeAt(0))return;d=6E4*~~a[1]+1E3*~~(a[2]+a[3])+10*~~(a[4]+a[5])}else if(10==a.length){for(d=1;7>d;d++){if(!b.exec(a[d]))return;f+=~~a[d]}if(f!=a[7].charCodeAt(0))return;d=6E4*~~a[1]+1E3*~~(a[2]+a[3])+~~(a[4]+a[5]+a[6])}Sa(c,d)}}}function Sa(a,b){var c=$.now();200<c-jb&&DEBUG&&console.log("[stackmat] signal miss ",c-jb);jb=c;c={};c.time_milli=b;c.on=!0;kernel.getProp("stkHead")||(a="S");c.greenLight="A"==a;c.leftHand="L"==a||"A"==a||"C"==
a;c.rightHand="R"==a||"A"==a||"C"==a;c.running=("S"!=a||"S"==lb.signalHeader)&&(" "==a||c.time_milli>lb.time_milli);c.signalHeader=a;c.unknownRunning=!lb.on;c.noise=Math.min(1,Xa)||0;lb=c;kb(lb)}function c(a){if(eb!=Ya&&1==bb&&(fb.push(a),24==fb.length)){for(var b=0,c=5;0<=c;c--){b*=10;for(var d=0;4>d;d++)b+=fb[4*c+d]<<d}fb=[];Sa("S",b)}a!=eb?(eb=a,bb=1):bb++;10<bb&&(Ya=a,fb=[],Ra=[],1E3<bb&&lb.on?(lb.on=!1,kb(lb)):4E3<bb&&(bb=1E3,kb(lb)))}var z,a,b,d,r,f,Wa=1,Ua=1E-4,Qa=[],Ta=0,ma=.2,Va=.7,n=0,Xa=
0,fb=[],Ra=[],Ya=0,eb=0,bb=0,jb=0,lb={time_milli:0,on:!1,greenLight:!1,leftHand:!1,rightHand:!1,running:!1,unknownRunning:!0,signalHeader:"I",noise:1},kb=$.noop;return{init:function(b){void 0===navigator.mediaDevices&&(navigator.mediaDevices={});void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(a){var b=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return b?new Promise(function(c,d){b.call(navigator,a,c,d)}):Promise.reject(Error("getUserMedia is not implemented in this browser"))});
z=new (window.AudioContext||window.webkitAudioContext);r=z.sampleRate/1200;f=ea;"m"==b&&(r=z.sampleRate/8E3,f=c);Ua=.001/r;Qa.length=Math.ceil(r/6);fb=[];Ra=[];void 0==a&&navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1}}).then(h,$.noop)},stop:function(){void 0!=a&&(b.disconnect(d),d.disconnect(z.destination),a.stop&&a.stop(),a=void 0)},setCallBack:function(a){kb=a}}});var stackmatutil=execMain(function(h){function ea(c){c?(Sa=!0,c.empty().append(w)):Sa=!1}var w=$("<span>").html("status:  unknown"),Sa=!1;$(function(){tools.regTool("stackmatutil","stackmat",ea);kernel.regProp("timer","stkHead",0,PROPERTY_STKHEAD,[!0])});return{init:stackmat.init,stop:stackmat.stop,setCallBack:function(c){stackmat.setCallBack(function(h){if(Sa){var a="status:  "+(h.on?"on":"off")+"<br>";a+="noise:   "+~~(100*h.noise)+"%<br>";a+="header:  "+h.signalHeader+"<br>";a+="pad:     "+(h.leftHand?
"L":" ")+(h.rightHand?"R":" ")+"<br>";a+="running: "+(h.running?"yes":"no");w.html(a.replace(/ /g,"&nbsp;"))}c&&c(h)})}}});var GiikerCube=execMain(function(){var h=void 0,ea=null,w=function(){function h(b){a(b.target.value)}function a(a){for(var b=$.now(),d=[],h=0;20>h;h++)d.push(~~(a.getUint8(h)/16)),d.push(a.getUint8(h)%16);var w=[];for(h=0;3>h;h++)for(var z=8;0!=z;z>>=1)w.push(d[h+28]&z?1:0);z=new mathlib.CubieCube;var n=[-1,1,-1,1,1,-1,1,-1];for(h=0;8>h;h++)z.ca[h]=d[h]-1|(3+d[h+8]*n[h])%3<<3;for(h=0;12>h;h++)z.ea[h]=d[h+16]-1<<1|w[h];w=z.toFaceCube(r,f);d=d.slice(32,40);z=[];for(h=0;4>h;h++)z.push("BDLURF"[d[2*h]-
1]+" 2'"[(d[2*h+1]-1)%7]);if(DEBUG){d=[];for(h=0;20>h;h++)d.push("0123456789abcdef"[~~(a.getUint8(h)/16)]),d.push("0123456789abcdef"[a.getUint8(h)%16]);console.log("[giiker]","Raw Data: ",d.join(""));console.log("[giiker]","Current State: ",w);console.log("[giiker]","A Valid Generator: ",scramble_333.genFacelet(w));console.log("[giiker]","Previous Moves: ",z.reverse().join(" "));z.reverse()}c(w,z,b);return[w,z]}var b=null,d=null,r=[[26,15,29],[20,8,9],[18,38,6],[24,27,44],[51,35,17],[45,11,2],[47,
0,36],[53,42,33]],f=[[25,28],[23,12],[19,7],[21,41],[32,16],[5,10],[3,37],[30,43],[52,34],[48,14],[46,1],[50,39]];return{init:function(c){return c.gatt.connect().then(function(a){b=a;return a.getPrimaryService("0000aadb-0000-1000-8000-00805f9b34fb")}).then(function(a){return a.getCharacteristic("0000aadc-0000-1000-8000-00805f9b34fb")}).then(function(a){d=a;return d.startNotifications()}).then(function(){return d.readValue()}).then(function(b){a(b)[0]!=kernel.getProp("giiSolved",mathlib.SOLVED_FACELET)&&
(b=kernel.getProp("giiRST"),("a"==b||"p"==b&&confirm(CONFIRM_GIIRST))&&giikerutil.markSolved());return d.addEventListener("characteristicvaluechanged",h)})},opservs:["0000aadb-0000-1000-8000-00805f9b34fb","0000aaaa-0000-1000-8000-00805f9b34fb"],getBatteryLevel:function(){var a,c,d,f=function(a){d(a.target.value.getUint8(1));c.removeEventListener("characteristicvaluechanged",f);c.stopNotifications()};return b.getPrimaryService("0000aaaa-0000-1000-8000-00805f9b34fb").then(function(b){a=b;return b.getCharacteristic("0000aaab-0000-1000-8000-00805f9b34fb")}).then(function(a){c=
a;return c.startNotifications()}).then(function(){return c.addEventListener("characteristicvaluechanged",f)}).then(function(){return a.getCharacteristic("0000aaac-0000-1000-8000-00805f9b34fb")}).then(function(a){a.writeValue((new Uint8Array([181])).buffer);return new Promise(function(a){d=a})})}}}(),Sa=function(){function h(){return 50>Ra?new Promise(function(a){a(!1)}):d.readValue().then(function(a){for(var b=[],c=0;c<a.byteLength-2;c+=3)for(var d=a.getUint8(c^1)<<16|a.getUint8(c+1^1)<<8|a.getUint8(c+
2^1),f=21;0<=f;f-=3)b.push("URFDLB".charAt([d>>f&7])),12==f&&b.push("URFDLB".charAt(c/3));ma=b.join("");Ra=0;return new Promise(function(a){a(!0)})})}function a(){if(ea)return r.readValue().then(function(a){Va=$.now();Xa=a.getUint8(12);if(Xa!=fb){Sa=[];for(var b=0;6>b;b++){var d=a.getUint8(13+b);Sa.unshift("URFDLB".charAt(~~(d/3))+" 2'".charAt(d%3))}var r;return f.readValue().then(function(a){r=a;return h()}).then(function(a){if(a&&-1==fb)c(ma,Sa,Va),Qa.fromFacelet(ma),fb=Xa,ma!=kernel.getProp("giiSolved",
mathlib.SOLVED_FACELET)&&(a=kernel.getProp("giiRST"),("a"==a||"p"==a&&confirm(CONFIRM_GIIRST))&&giikerutil.markSolved());else{for(var b=[],d=0;9>d;d++){var f=r.getUint8(2*d+1)|r.getUint8(2*d+2)<<8;b.unshift(~~(f/.95))}f=Xa-fb&255;fb=Xa;Ra+=f;6<f&&(Ra=50,f=6);var h=n;for(d=f-1;0<=d;d--)h+=b[d];2E3<Math.abs(h-Va)&&(console.log("[gancube]","time adjust",Va-h,"@",Va),n+=Va-h);for(d=f-1;0<=d;d--)f=3*"URFDLB".indexOf(Sa[d][0])+" 2'".indexOf(Sa[d][1]),mathlib.CubieCube.EdgeMult(Qa,mathlib.CubieCube.moveCube[f],
Ta),mathlib.CubieCube.CornMult(Qa,mathlib.CubieCube.moveCube[f],Ta),n+=b[d],c(Ta.toFaceCube(),Sa.slice(d),n),f=Ta,Ta=Qa,Qa=f;a&&Qa.toFaceCube()!=ma&&(console.log("[gancube]","Cube state check error"),console.log("[gancube]","calc",Qa.toFaceCube()),console.log("[gancube]","read",ma),Qa.fromFacelet(ma))}})}}).then(a)}var b,d,r,f,w,Sa,Qa=new mathlib.CubieCube,Ta=new mathlib.CubieCube,ma,Va,n=0,Xa=-1,fb=-1,Ra=1E3;return{init:function(c){return c.gatt.connect().then(function(a){return a.getPrimaryService("0000fff0-0000-1000-8000-00805f9b34fb")}).then(function(a){b=
a;return b.getCharacteristic("0000fff2-0000-1000-8000-00805f9b34fb")}).then(function(a){d=a;return b.getCharacteristic("0000fff5-0000-1000-8000-00805f9b34fb")}).then(function(a){r=a;return b.getCharacteristic("0000fff6-0000-1000-8000-00805f9b34fb")}).then(function(a){f=a;return b.getCharacteristic("0000fff7-0000-1000-8000-00805f9b34fb")}).then(function(a){w=a}).then(a)},opservs:["0000fff0-0000-1000-8000-00805f9b34fb"],getBatteryLevel:function(){return w.readValue().then(function(a){return new Promise(function(b){b(a.getUint8(7))})})}}}(),
c=$.noop;return{init:function(c){return window.navigator&&window.navigator.bluetooth?window.navigator.bluetooth.requestDevice({filters:[{namePrefix:"Gi"},{namePrefix:"GAN"}],optionalServices:[].concat(w.opservs,Sa.opservs)}).then(function(a){ea=a;return a.name.startsWith("Gi")?(h=w,w.init(a)):a.name.startsWith("GAN")?(h=Sa,Sa.init(a)):Promise.resolve()}):(alert("Bluetooth API is not available. Ensure https access, and try chrome with chrome://flags/#enable-experimental-web-platform-features enabled"),
Promise.resolve())},stop:function(){ea&&(ea.gatt.disconnect(),ea=null)},isConnected:function(){return null!=ea},setCallBack:function(h){c=h},getCube:function(){return h}}});var csTimerWorker=execBoth(function(){if(!window.Worker)return{};var h=new Worker("js/cstimer.js"),ea={},w=0;h.onmessage=function(h){h=h.data;var c=ea[h[0]];delete ea[h[0]];c&&c(h[2])};h.postMessage([0,"set",["SCRAMBLE_NOOBST",SCRAMBLE_NOOBST]]);h.postMessage([0,"set",["SCRAMBLE_NOOBSS",SCRAMBLE_NOOBSS]]);return{getScramble:function(Sa,c){++w;ea[w]=c;h.postMessage([w,"scramble",Sa]);return w}}},function(){self.onmessage=function(h){var ea=h.data;h=ea[0];var w=ea[1];ea=ea[2];var Sa=void 0;switch(w){case "scramble":Sa=
scrMgr.scramblers[ea[0]];Sa=Sa.apply(Sa,ea);break;case "set":self[ea[0]]=ea[1]}postMessage([h,w,Sa])}});
